/* eslint-disable */
var Ay=Object.defineProperty;var n=(t,e)=>Ay(t,"name",{value:e,configurable:!0});var D=(t,e)=>{for(var i in e)Ay(t,i,{get:e[i],enumerable:!0})};function My(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(i[o[s]]=t[o[s]]);return i}n(My,"__rest");function Vy(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(Vy,"__setFunctionName");function b(t,e,i,o){function s(r){return r instanceof i?r:new i(function(l){l(r)})}return n(s,"adopt"),new(i||(i=Promise))(function(r,l){function p(_){try{h(o.next(_))}catch(g){l(g)}}n(p,"fulfilled");function f(_){try{h(o.throw(_))}catch(g){l(g)}}n(f,"rejected");function h(_){_.done?r(_.value):s(_.value).then(p,f)}n(h,"step"),h((o=o.apply(t,e||[])).next())})}n(b,"__awaiter");function Ry(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(Ry,"__values");function ao(t){return this instanceof ao?(this.v=t,this):new ao(t)}n(ao,"__await");function Oy(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),s,r=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(w){o[w]&&(s[w]=function(T){return new Promise(function(C,N){r.push([w,T,C,N])>1||p(w,T)})})}function p(w,T){try{f(o[w](T))}catch(C){g(r[0][3],C)}}function f(w){w.value instanceof ao?Promise.resolve(w.value.v).then(h,_):g(r[0][2],w)}function h(w){p("next",w)}function _(w){p("throw",w)}function g(w,T){w(T),r.shift(),r.length&&p(r[0][0],r[0][1])}}n(Oy,"__asyncGenerator");function Dy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Ry=="function"?Ry(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(r){i[r]=t[r]&&function(l){return new Promise(function(p,f){l=t[r](l),s(p,f,l.done,l.value)})}}function s(r,l,p,f){Promise.resolve(f).then(function(h){r({value:h,done:p})},l)}}n(Dy,"__asyncValues");function d(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(d,"__classPrivateFieldGet");function S(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i}n(S,"__classPrivateFieldSet");var Ub={};D(Ub,{ChannelError:()=>hs,InnertubeError:()=>x,MissingParamError:()=>hn,OAuthError:()=>ni,ParsingError:()=>_t,Platform:()=>B,PlayerError:()=>mt,SessionError:()=>Js,base64ToU8:()=>gb,concatMemos:()=>Ob,debugFetch:()=>fE,deepCompare:()=>Ih,escapeStringRegexp:()=>Qb,generateRandomString:()=>bt,generateSidAuth:()=>Yb,getRandomUserAgent:()=>Ho,getStringBetweenStrings:()=>je,hasKeys:()=>pE,isTextRun:()=>Xe,streamToIterable:()=>Wb,throwIfMissing:()=>Z,timeToSeconds:()=>Be,u8ToBase64:()=>dt});var Zg={};D(Zg,{Maybe:()=>lo,Memo:()=>Si,SuperParsedResult:()=>Gt,YTNode:()=>a,observe:()=>ae});var Qg,By,Me,le,Jt,ui,uo,Ly=Symbol("ObservedArray.isObserved"),a=class{constructor(){Qg.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>d(this,Qg,"m",By).call(this,i))}as(...e){if(!this.is(...e))throw new _t(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new _t(`Missing key ${e}`);return new lo(this[e])}};n(a,"YTNode");Qg=new WeakSet,By=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var lo=class{constructor(e){Me.add(this),le.set(this,void 0),S(this,le,e,"f")}get typeof(){return typeof d(this,le,"f")}string(){return d(this,Me,"m",ui).call(this,"string")}isString(){return d(this,Me,"m",Jt).call(this,"string")}number(){return d(this,Me,"m",ui).call(this,"number")}isNumber(){return d(this,Me,"m",Jt).call(this,"number")}bigint(){return d(this,Me,"m",ui).call(this,"bigint")}isBigint(){return d(this,Me,"m",Jt).call(this,"bigint")}boolean(){return d(this,Me,"m",ui).call(this,"boolean")}isBoolean(){return d(this,Me,"m",Jt).call(this,"boolean")}symbol(){return d(this,Me,"m",ui).call(this,"symbol")}isSymbol(){return d(this,Me,"m",Jt).call(this,"symbol")}undefined(){return d(this,Me,"m",ui).call(this,"undefined")}isUndefined(){return d(this,Me,"m",Jt).call(this,"undefined")}null(){if(d(this,le,"f")!==null)throw new TypeError(`Expected null, got ${typeof d(this,le,"f")}`);return d(this,le,"f")}isNull(){return d(this,le,"f")===null}object(){return d(this,Me,"m",ui).call(this,"object")}isObject(){return d(this,Me,"m",Jt).call(this,"object")}function(){return d(this,Me,"m",ui).call(this,"function")}isFunction(){return d(this,Me,"m",Jt).call(this,"function")}array(){if(!Array.isArray(d(this,le,"f")))throw new TypeError(`Expected array, got ${typeof d(this,le,"f")}`);return d(this,le,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new lo(Reflect.get(i,o))}})}isArray(){return Array.isArray(d(this,le,"f"))}node(){if(!(d(this,le,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${d(this,le,"f").constructor.name}`);return d(this,le,"f")}isNode(){return d(this,le,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof d(this,le,"f")}`);return d(this,le,"f")}isObserved(){var e;return(e=d(this,le,"f"))===null||e===void 0?void 0:e[Ly]}parsed(){if(!(d(this,le,"f")instanceof Gt))throw new TypeError(`Expected SuperParsedResult, got ${typeof d(this,le,"f")}`);return d(this,le,"f")}isParsed(){return d(this,le,"f")instanceof Gt}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),d(this,le,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${d(this,le,"f").constructor.name}`);return d(this,le,"f")}isInstanceof(e){return d(this,le,"f")instanceof e}};n(lo,"Maybe");le=new WeakMap,Me=new WeakSet,Jt=n(function(e){return typeof d(this,le,"f")===e},"_Maybe_checkPrimative"),ui=n(function(e){if(!d(this,Me,"m",Jt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return d(this,le,"f")},"_Maybe_assertPrimative");var Gt=class{constructor(e){uo.set(this,void 0),S(this,uo,e,"f")}get is_null(){return d(this,uo,"f")===null}get is_array(){return!this.is_null&&Array.isArray(d(this,uo,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return d(this,uo,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return d(this,uo,"f")}};n(Gt,"SuperParsedResult");uo=new WeakMap;function ae(t){return new Proxy(t,{get(e,i){return i=="get"?(o,s)=>e.find((r,l)=>{let p=Ih(o,r);return p&&s&&e.splice(l,1),p}):i==Ly?!0:i=="getAll"?(o,s)=>e.filter((r,l)=>{let p=Ih(o,r);return p&&s&&e.splice(l,1),p}):i=="matchCondition"?o=>e.find(s=>o(s)):i=="filterType"?(...o)=>ae(e.filter(s=>!!s.is(...o))):i=="firstOfType"?(...o)=>e.find(s=>!!s.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ae(e.map(s=>{if(s.is(...o))return s;throw new _t(`Expected node of any type ${o.map(r=>r.type).join(", ")}, got ${s.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(ae,"observe");var Si=class extends Map{getType(...e){return e=e.flat(),ae(e.flatMap(i=>this.get(i.type)||[]))}};n(Si,"Memo");var Xb={};D(Xb,{Author:()=>M,ChildElement:()=>av,EmojiRun:()=>ki,Format:()=>u_,Text:()=>u,TextRun:()=>Ci,Thumbnail:()=>y,VideoDetails:()=>Ni});var Ue={};D(Ue,{CLIENTS:()=>G,INNERTUBE_HEADERS_BASE:()=>uk,OAUTH:()=>Ii,STREAM_HEADERS:()=>kh,URLS:()=>pe});var pe=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Ii=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),G=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),kh=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),uk=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var c={};D(c,{addRuntimeParser:()=>Nb,applyMutations:()=>YI,getDynamicParsers:()=>Uk,getParserByName:()=>Bm,hasParser:()=>$0,parse:()=>Ge,parseActions:()=>FI,parseArray:()=>Je,parseC:()=>LI,parseFormats:()=>Rb,parseItem:()=>se,parseLC:()=>Ab,parseRR:()=>q0,parseResponse:()=>jk,sanitizeClassName:()=>Fm,setParserErrorHandler:()=>Fk,shouldIgnore:()=>BI});var Or=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(Or,"AudioOnlyPlayability");Or.type="AudioOnlyPlayability";var Ch=Or;var Dr=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Dr,"Button");Dr.type="Button";var I=Dr;var Br=class extends a{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new v(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(Br,"DropdownItem");Br.type="DropdownItem";var Eh=Br;var Lr=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=c.parseArray(e.entries,Eh)}};n(Lr,"Dropdown");Lr.type="Dropdown";var Pn=Lr;var Fr=class extends a{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=c.parseItem(e.privacyOption,Pn),this.create_button=c.parseItem(e.cancelButton,I),this.cancel_button=c.parseItem(e.cancelButton,I)}};n(Fr,"CreatePlaylistDialog");Fr.type="CreatePlaylistDialog";var Ph=Fr;var Yr=class extends a{constructor(e){super(),this.popup=c.parseItem(e.popup),this.popup_type=e.popupType}};n(Yr,"OpenPopupAction");Yr.type="OpenPopupAction";var Nh=Yr;var Ur=class extends a{constructor(e){var i,o,s,r,l,p,f,h;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Nh(e.openPopupAction));let _=Object.keys(e||{}).find(g=>g.endsWith("Endpoint")||g.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=c.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((r=(s=e==null?void 0:e.commandMetadata)===null||s===void 0?void 0:s.webCommandMetadata)===null||r===void 0)&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(l=e==null?void 0:e.commandMetadata)===null||l===void 0?void 0:l.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((h=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||h===void 0)&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=c.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Ph))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Ur,"NavigationEndpoint");Ur.type="NavigationEndpoint";var v=Ur;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails?[]:e.thumbnails.map(i=>new y(i)).sort((i,o)=>o.width-i.width)}};n(y,"Thumbnail");var ki=class{constructor(e){var i,o,s,r,l,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((s=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||s===void 0?void 0:s[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)===null||r===void 0?void 0:r.shortcuts)||[],search_terms:((l=e.emoji)===null||l===void 0?void 0:l.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Ah(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(ki,"EmojiRun");var Ci=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Ah(this.text),s=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${s}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${s}</a>`}return s}};n(Ci,"TextRun");function Ah(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(Ah,"escape");var u=class{constructor(e){var i,o,s,r;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new ki(l):new Ci(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(r=(s=this.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.endpoint)}static fromAttributed(e){let i=[],o=e.content,s=e.commandRuns,r=0;if(s){for(let l of s){let p=l.length,f=l.startIndex;if(f>r&&i.push({text:o.slice(r,f)}),Reflect.has(l,"onTap")){let h=null;if(Reflect.has(e,"attachmentRuns")){let _=e.attachmentRuns;for(let g of _)if(g.startIndex-2==f){h=g;break}}h?i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap,attachment:h}):i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap})}r=f+p}r<o.length&&i.push({text:o.slice(r)})}else i.push({text:o});return new u({runs:i})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");var jr=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(jr,"CardCollection");jr.type="CardCollection";var Rh=jr;var Wr=class extends a{constructor(e){super(),this.elements=c.parseArray(e.elements),this.start_ms=e.startMs}};n(Wr,"Endscreen");Wr.type="Endscreen";var Mh=Wr;var Hr=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:c.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Hr,"PlayerAnnotationsExpanded");Hr.type="PlayerAnnotationsExpanded";var Vh=Hr;var Jr=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n(Jr,"PlayerCaptionsTracklist");Jr.type="PlayerCaptionsTracklist";var Oh=Jr;var Gr=class extends a{constructor(){super()}};n(Gr,"PlayerLiveStoryboardSpec");Gr.type="PlayerLiveStoryboardSpec";var Dh=Gr;var zr=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((s,r)=>{let[l,p,f,h,_,g,w,T]=s.split("#");o.searchParams.set("sigh",T);let C=Math.ceil(parseInt(f,10)/(parseInt(h,10)*parseInt(_,10)));return{template_url:o.toString().replace("$L",r).replace("$N",w),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(g,10),columns:parseInt(h,10),rows:parseInt(_,10),storyboard_count:C}})}};n(zr,"PlayerStoryboardSpec");zr.type="PlayerStoryboardSpec";var co=zr;var Kr=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(Kr,"Alert");Kr.type="Alert";var Nn=Kr;var $r=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=c.parseItem(e.dismissButton,I)}};n($r,"AlertWithButton");$r.type="AlertWithButton";var Bh=$r;var qr=class extends a{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(qr,"ClipCreationTextInput");qr.type="ClipCreationTextInput";var Lh=qr;var Xr=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(r=(s=e.endAccessibility)===null||s===void 0?void 0:s.accessibilityData)===null||r===void 0?void 0:r.label,this.duration_label=(p=(l=e.durationAccessibility)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label}};n(Xr,"ClipCreationScrubber");Xr.type="ClipCreationScrubber";var Fh=Xr;var Qr=class extends a{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};n(Qr,"ClipAdState");Qr.type="ClipAdState";var Yh=Qr;var Zr=class extends a{constructor(e){super(),this.user_avatar=y.fromResponse(e.userAvatar),this.title_input=c.parseItem(e.titleInput,[Lh]),this.scrubber=c.parseItem(e.scrubber,[Fh]),this.save_button=c.parseItem(e.saveButton,[I]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=c.parseItem(e.cancelButton,[I]),this.ad_state_overlay=c.parseItem(e.adStateOverlay,[Yh]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(Zr,"ClipCreation");Zr.type="ClipCreation";var Uh=Zr;var ea=class extends a{constructor(e){super(),this.contents=c.parse(e.contents,!0,[Uh])}};n(ea,"ClipSection");ea.type="ClipSection";var jh=ea;var ta=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,I)),this.endpoint=new v(e.continuationEndpoint)}};n(ta,"ContinuationItem");ta.type="ContinuationItem";var he=ta;var ia=class extends a{constructor(e){super(),this.title=new u(e.title),this.visibility_button=c.parseItem(e.visibilityButton,I)}};n(ia,"EngagementPanelTitleHeader");ia.type="EngagementPanelTitleHeader";var Wh=ia;var oa=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.top_level_buttons=c.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(oa,"Menu");oa.type="Menu";var F=oa;var na=class extends a{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=c.parseItem(e.menu,F)}};n(na,"MacroMarkersInfoItem");na.type="MacroMarkersInfoItem";var Hh=na;var sa=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(sa,"MacroMarkersListItem");sa.type="MacroMarkersListItem";var An=sa;var ra=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,[Hh,An]),this.sync_button_label=new u(e.syncButtonLabel)}};n(ra,"MacroMarkersList");ra.type="MacroMarkersList";var Jh=ra;var aa=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(aa,"ProductList");aa.type="ProductList";var Gh=aa;var ua=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=c.parseItem(e.subMenu))}};n(ua,"SectionList");ua.type="SectionList";var Q=ua;var la=class extends a{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(la,"ExpandableVideoDescriptionBody");la.type="ExpandableVideoDescriptionBody";var zh=la;var ca=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new u(e.query).toString()}};n(ca,"SearchRefinementCard");ca.type="SearchRefinementCard";var po=ca;var da=class extends a{constructor(e){super(),this.game=c.parseItem(e.game)}};n(da,"GameCard");da.type="GameCard";var Kh=da;var pa=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=c.parseArray(e.items)}get contents(){return this.items}};n(pa,"HorizontalList");pa.type="HorizontalList";var $h=pa;var fa=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=c.parseItem(e.expandedContent,[Ei,$h]),this.expand_button=c.parseItem(e.expandButton,I),this.collapse_button=c.parseItem(e.collapseButton,I)}};n(fa,"ExpandableMetadata");fa.type="ExpandableMetadata";var qh=fa;var ma=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(ma,"MetadataBadge");ma.type="MetadataBadge";var ot=ma;var ha=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(ha,"ThumbnailOverlayTimeStatus");ha.type="ThumbnailOverlayTimeStatus";var fo=ha;var _a=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new u(l.snippetText),hover_text:new u(l.snippetHoverText)}))),this.expandable_metadata=c.parseItem(e.expandableMetadata,qh),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parseItem(e.richThumbnail)),this.author=new M(e.ownerText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.badges=c.parseArray(e.badges,ot),this.endpoint=new v(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(r).toString(),seconds:Be(e.lengthText?new u(e.lengthText).toString():new u(r).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=c.parseItem(e.menu,F),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(fo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(_a,"Video");_a.type="Video";var Rn=_a;var va=class extends Rn{constructor(e){super(e)}};n(va,"VideoCard");va.type="VideoCard";var Xh=va;var xa=class extends a{constructor(e){super(),this.image=e.image.sources.map(i=>new y(i)).sort((i,o)=>o.width-i.width),this.style=e.style}};n(xa,"ContentPreviewImageView");xa.type="ContentPreviewImageView";var Mn=xa;var ga=class extends a{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image={sources:e.image.sources.map(o=>new y(o)).sort((o,s)=>s.width-o.width)}:this.image=c.parseItem(e.image,Mn),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new v(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(ga,"VideoAttributeView");ga.type="VideoAttributeView";var Vn=ga;var ba=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards,[Vn,po,An,Kh,Xh]),this.header=c.parseItem(e.header),this.previous_button=c.parseItem(e.previousButton,I),this.next_button=c.parseItem(e.nextButton,I)}};n(ba,"HorizontalCardList");ba.type="HorizontalCardList";var Ei=ba;var ya=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(ya,"Factoid");ya.type="Factoid";var Pi=ya;var wa=class extends a{constructor(e){super(),this.factoid=c.parseItem(e.factoid,Pi)}};n(wa,"UploadTimeFactoid");wa.type="UploadTimeFactoid";var Qh=wa;var Ta=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=c.parseItem(e.factoid,[Pi]),this.view_count_type=e.viewCountType}};n(Ta,"ViewCountFactoid");Ta.type="ViewCountFactoid";var Zh=Ta;var Sa=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new v(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=c.parseArray(e.factoid,[Pi,Zh,Qh])}};n(Sa,"VideoDescriptionHeader");Sa.type="VideoDescriptionHeader";var e_=Sa;var Ia=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=c.parseItem(e.creatorVideosButton,I),this.creator_about_button=c.parseItem(e.creatorAboutButton,I),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new v(e.channelEndpoint)}};n(Ia,"VideoDescriptionInfocardsSection");Ia.type="VideoDescriptionInfocardsSection";var t_=Ia;var ka=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(ka,"InfoRow");ka.type="InfoRow";var i_=ka;var Ca=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new M(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=c.parseArray(e.badges,ot),this.duration={text:new u(e.lengthText).toString(),seconds:Be(new u(e.lengthText).toString())},this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=c.parseItem(e.menu,F)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(Ca,"CompactVideo");Ca.type="CompactVideo";var On=Ca;var Ea=class extends a{constructor(e){super(),this.info_rows=c.parseArray(e.infoRows,i_),this.video_lockup=c.parseItem(e.videoLockup,On)}};n(Ea,"CarouselLockup");Ea.type="CarouselLockup";var o_=Ea;var Pa=class extends a{constructor(e){super(),this.carousel_lockups=c.parseArray(e.carouselLockups,o_),this.section_title=new u(e.sectionTitle)}};n(Pa,"VideoDescriptionMusicSection");Pa.type="VideoDescriptionMusicSection";var Dn=Pa;var Na=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=c.parseItem(e.primaryButton,I)}};n(Na,"VideoDescriptionTranscriptSection");Na.type="VideoDescriptionTranscriptSection";var Aa=Na;var Ra=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(Ra,"StructuredDescriptionPlaylistLockup");Ra.type="StructuredDescriptionPlaylistLockup";var n_=Ra;var Ma=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=c.parseArray(e.mediaLockups,[n_])}};n(Ma,"VideoDescriptionCourseSection");Ma.type="VideoDescriptionCourseSection";var s_=Ma;var Va=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}get contents(){return this.items}};n(Va,"ReelShelf");Va.type="ReelShelf";var Bn=Va;var Oa=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[e_,zh,Dn,t_,s_,Aa,Aa,Ei,Bn])}};n(Oa,"StructuredDescriptionContent");Oa.type="StructuredDescriptionContent";var mo=Oa;var Da=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,Wh),this.content=c.parseItem(e.content,[Vn,Q,he,jh,mo,Jh,Gh]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(Da,"EngagementPanelSectionList");Da.type="EngagementPanelSectionList";var Ln=Da;var Ba=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new v(e.selectedCommand)),this.selected=!!this.endpoint}};n(Ba,"MusicMultiSelectMenuItem");Ba.type="MusicMultiSelectMenuItem";var Ct=Ba;var r_,a_=class{constructor(e,i){var o,s,r,l,p,f;if(r_.set(this,void 0),i&&S(this,r_,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:(o=e.colorInfo.primaries)===null||o===void 0?void 0:o.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(s=e.colorInfo.transferCharacteristics)===null||s===void 0?void 0:s.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(r=e.colorInfo.matrixCoefficients)===null||r===void 0?void 0:r.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let h=new URLSearchParams(this.cipher||this.signature_cipher),g=(l=new URLSearchParams(h.get("url")||this.url).get("xtags"))===null||l===void 0?void 0:l.split(":"),w=(p=g==null?void 0:g.find(T=>T.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1];this.language=((f=g==null?void 0:g.find(T=>T.startsWith("lang=")))===null||f===void 0?void 0:f.split("=")[1])||null,this.is_dubbed=w==="dubbed",this.is_descriptive=w==="descriptive",this.is_original=w==="original"||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new x("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,d(this,r_,"f"))}};n(a_,"Format");r_=new WeakMap;var u_=a_;var Ni=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};n(Ni,"VideoDetails");var Dm={};D(Dm,{AboutChannel:()=>d_,AboutChannelView:()=>c_,AccountChannel:()=>p_,AccountItemSection:()=>m_,AccountItemSectionHeader:()=>f_,AccountSectionList:()=>h_,AddBannerToLiveChatCommand:()=>PT,AddChatItemAction:()=>Av,AddLiveChatTickerItemAction:()=>NT,Alert:()=>Nn,AlertWithButton:()=>Bh,AnalyticsMainAppKeyMetrics:()=>Yy,AnalyticsRoot:()=>Uy,AnalyticsShortsCarouselCard:()=>jy,AnalyticsVideo:()=>T_,AnalyticsVodCarouselCard:()=>Wy,AnchoredSection:()=>J0,AppendContinuationItemsAction:()=>ho,AudioOnlyPlayability:()=>Ch,AuthorCommentBadge:()=>L_,AutomixPreviewVideo:()=>Ai,BackstageImage:()=>S_,BackstagePost:()=>Ri,BackstagePostThread:()=>Gy,BrowseFeedActions:()=>k_,BrowserMediaSession:()=>zy,Button:()=>I,ButtonView:()=>C_,C4TabbedHeader:()=>Mi,CallToActionButton:()=>Ky,Card:()=>$y,CardCollection:()=>Rh,CarouselHeader:()=>R_,CarouselItem:()=>qy,CarouselLockup:()=>o_,Channel:()=>M_,ChannelAboutFullMetadata:()=>Ru,ChannelAgeGate:()=>Xy,ChannelExternalLinkView:()=>l_,ChannelFeaturedContent:()=>Qy,ChannelHeaderLinks:()=>E_,ChannelHeaderLinksView:()=>P_,ChannelMetadata:()=>V_,ChannelMobileHeader:()=>Zy,ChannelOptions:()=>O_,ChannelOwnerEmptyState:()=>ew,ChannelSubMenu:()=>Yu,ChannelTagline:()=>N_,ChannelThumbnailWithLink:()=>tw,ChannelVideoPlayer:()=>iw,Chapter:()=>D_,ChildVideo:()=>ow,ChipCloud:()=>ct,ChipCloudChip:()=>_e,ClipAdState:()=>Yh,ClipCreation:()=>Uh,ClipCreationScrubber:()=>Fh,ClipCreationTextInput:()=>Lh,ClipSection:()=>jh,CollaboratorInfoCardContent:()=>nw,CollageHeroImage:()=>sw,Command:()=>rw,Comment:()=>Jn,CommentActionButtons:()=>Yn,CommentDialog:()=>Qw,CommentReplies:()=>z_,CommentReplyDialog:()=>F_,CommentSimplebox:()=>X_,CommentThread:()=>Q_,CommentsEntryPointHeader:()=>q_,CommentsEntryPointTeaser:()=>$_,CommentsHeader:()=>Gn,CommentsSimplebox:()=>K_,CompactChannel:()=>Zw,CompactLink:()=>zn,CompactMix:()=>eT,CompactMovie:()=>tT,CompactPlaylist:()=>iT,CompactStation:()=>oT,CompactVideo:()=>On,ConfirmDialog:()=>nT,ContentMetadataView:()=>Z_,ContentPreviewImageView:()=>Mn,ContinuationItem:()=>he,ConversationBar:()=>sT,CopyLink:()=>ev,CreatePlaylistDialog:()=>Ph,CreatorHeart:()=>I_,CtaGoToCreatorStudio:()=>Hy,DataModelSection:()=>w_,DecoratedPlayerBar:()=>nv,DefaultPromoPanel:()=>rT,DidYouMean:()=>sv,DimChatItemAction:()=>AT,DownloadButton:()=>aT,Dropdown:()=>Pn,DropdownItem:()=>Eh,DynamicTextView:()=>rv,Element:()=>qn,EmergencyOnebox:()=>uT,EmojiPicker:()=>G_,EmojiPickerCategory:()=>lT,EmojiPickerCategoryButton:()=>cT,EmojiPickerUpsellCategory:()=>dT,EndScreenPlaylist:()=>uv,EndScreenVideo:()=>lv,Endscreen:()=>Mh,EndscreenElement:()=>pT,EngagementPanelSectionList:()=>Ln,EngagementPanelTitleHeader:()=>Wh,ExpandableMetadata:()=>qh,ExpandableTab:()=>Xn,ExpandableVideoDescriptionBody:()=>zh,ExpandedShelfContents:()=>fT,Factoid:()=>Pi,FancyDismissibleDialog:()=>mT,FeedFilterChipBar:()=>ci,FeedNudge:()=>hT,FeedTabbedHeader:()=>cv,FlexibleActionsView:()=>dv,GameCard:()=>Kh,GameDetails:()=>_T,Grid:()=>go,GridChannel:()=>pv,GridHeader:()=>vT,GridMix:()=>xT,GridMovie:()=>gT,GridPlaylist:()=>fv,GridShow:()=>bT,GridVideo:()=>_v,GuideCollapsibleEntry:()=>yT,GuideCollapsibleSectionEntry:()=>wT,GuideDownloadsEntry:()=>TT,GuideEntry:()=>bo,GuideSection:()=>Qn,GuideSubscriptionsSection:()=>vv,HashtagHeader:()=>xv,HashtagTile:()=>ST,HeatMarker:()=>tv,Heatmap:()=>iv,HeroPlaylistThumbnail:()=>IT,HighlightsCarousel:()=>_c,HistorySuggestion:()=>kT,HorizontalCardList:()=>Ei,HorizontalList:()=>$h,HorizontalMovieList:()=>CT,IconLink:()=>bv,IncludingResultsFor:()=>ET,InfoPanelContainer:()=>wv,InfoPanelContent:()=>yv,InfoRow:()=>i_,InteractiveTabbedHeader:()=>Tv,ItemSection:()=>ve,ItemSectionHeader:()=>Sv,ItemSectionTab:()=>Iv,ItemSectionTabbedHeader:()=>kv,KidsBlocklistPicker:()=>NI,KidsBlocklistPickerItem:()=>ls,KidsCategoriesHeader:()=>G0,KidsCategoryTab:()=>cs,KidsHomeScreen:()=>z0,LikeButton:()=>Cv,LiveChat:()=>Ev,LiveChatActionPanel:()=>Mv,LiveChatAuthorBadge:()=>iS,LiveChatAutoModMessage:()=>RT,LiveChatBanner:()=>Nv,LiveChatBannerHeader:()=>Pv,LiveChatBannerPoll:()=>MT,LiveChatDialog:()=>oS,LiveChatHeader:()=>Fv,LiveChatItemList:()=>Yv,LiveChatMembershipItem:()=>VT,LiveChatMessageInput:()=>nS,LiveChatPaidMessage:()=>OT,LiveChatPaidSticker:()=>DT,LiveChatParticipant:()=>Uv,LiveChatParticipantsList:()=>jv,LiveChatPlaceholderItem:()=>BT,LiveChatProductItem:()=>LT,LiveChatRestrictedParticipation:()=>FT,LiveChatTextMessage:()=>YT,LiveChatTickerPaidMessageItem:()=>Rv,LiveChatTickerPaidStickerItem:()=>UT,LiveChatTickerSponsorItem:()=>jT,LiveChatViewerEngagementMessage:()=>WT,MacroMarkersInfoItem:()=>Hh,MacroMarkersList:()=>Jh,MacroMarkersListItem:()=>An,MarkChatItemAsDeletedAction:()=>JT,MarkChatItemsByAuthorAsDeletedAction:()=>GT,Menu:()=>F,MenuNavigationItem:()=>Wv,MenuPopup:()=>sS,MenuServiceItem:()=>Vi,MenuServiceItemDownload:()=>rS,MerchandiseItem:()=>lS,MerchandiseShelf:()=>zv,Message:()=>He,MetadataBadge:()=>ot,MetadataRow:()=>cS,MetadataRowContainer:()=>Kv,MetadataRowHeader:()=>dS,MetadataScreen:()=>pS,MicroformatData:()=>Kt,Mix:()=>fS,Movie:()=>mS,MovingThumbnail:()=>hS,MultiMarkersPlayerBar:()=>ov,MultiPageMenu:()=>aS,MultiPageMenuNotificationSection:()=>uS,MusicCardShelf:()=>Qv,MusicCardShelfHeaderBasic:()=>$v,MusicCarouselShelf:()=>Ee,MusicCarouselShelfBasicHeader:()=>Zv,MusicDescriptionShelf:()=>wo,MusicDetailHeader:()=>To,MusicDownloadStateBadge:()=>IS,MusicEditablePlaylistDetailHeader:()=>o0,MusicElementHeader:()=>sp,MusicHeader:()=>Di,MusicImmersiveHeader:()=>n0,MusicInlineBadge:()=>qv,MusicItemThumbnailOverlay:()=>$t,MusicLargeCardItemCarousel:()=>kS,MusicMenuItemDivider:()=>Hv,MusicMultiRowListItem:()=>e0,MusicMultiSelectMenu:()=>Jv,MusicMultiSelectMenuItem:()=>Ct,MusicNavigationButton:()=>Zn,MusicPlayButton:()=>Xv,MusicPlaylistShelf:()=>So,MusicQueue:()=>is,MusicResponsiveListItem:()=>Oi,MusicResponsiveListItemFixedColumn:()=>t0,MusicResponsiveListItemFlexColumn:()=>i0,MusicShelf:()=>be,MusicSideAlignedItem:()=>r0,MusicSortFilterButton:()=>gp,MusicTastebuilderShelf:()=>u0,MusicTastebuilderShelfThumbnail:()=>a0,MusicThumbnail:()=>vt,MusicTwoRowItem:()=>ts,MusicVisualHeader:()=>l0,NavigationEndpoint:()=>v,Notification:()=>c0,OpenPopupAction:()=>Nh,PageHeader:()=>Bi,PageHeaderView:()=>d0,PageIntroduction:()=>p0,PdgCommentChip:()=>Y_,PivotButton:()=>f0,PlayerAnnotationsExpanded:()=>Vh,PlayerCaptionsTracklist:()=>Oh,PlayerControlsOverlay:()=>CS,PlayerErrorMessage:()=>ES,PlayerLegacyDesktopYpcOffer:()=>PS,PlayerLegacyDesktopYpcTrailer:()=>Vp,PlayerLiveStoryboardSpec:()=>Dh,PlayerMicroformat:()=>Rt,PlayerOverflow:()=>m0,PlayerOverlay:()=>Li,PlayerOverlayAutoplay:()=>_0,PlayerStoryboardSpec:()=>co,Playlist:()=>zt,PlaylistCustomThumbnail:()=>Kn,PlaylistHeader:()=>x0,PlaylistInfoCardContent:()=>NS,PlaylistMetadata:()=>g0,PlaylistPanel:()=>qt,PlaylistPanelVideo:()=>di,PlaylistPanelVideoWrapper:()=>s0,PlaylistSidebar:()=>AS,PlaylistSidebarPrimaryInfo:()=>b0,PlaylistSidebarSecondaryInfo:()=>y0,PlaylistVideo:()=>w0,PlaylistVideoList:()=>RS,PlaylistVideoThumbnail:()=>$n,Poll:()=>MS,PollHeader:()=>HT,Post:()=>T0,PostMultiImage:()=>VS,ProductList:()=>Gh,ProductListHeader:()=>OS,ProductListItem:()=>DS,ProfileColumn:()=>BS,ProfileColumnStats:()=>LS,ProfileColumnStatsEntry:()=>FS,ProfileColumnUserInfo:()=>YS,Quiz:()=>US,RecognitionShelf:()=>jS,ReelItem:()=>S0,ReelPlayerHeader:()=>I0,ReelPlayerOverlay:()=>WS,ReelShelf:()=>Bn,RelatedChipCloud:()=>k0,RemoveBannerForLiveChatCommand:()=>zT,RemoveChatItemAction:()=>KT,RemoveChatItemByAuthorAction:()=>$T,ReplaceChatItemAction:()=>qT,ReplayChatItemAction:()=>XT,RichGrid:()=>Fi,RichItem:()=>HS,RichListHeader:()=>JS,RichMetadata:()=>ff,RichMetadataRow:()=>hf,RichSection:()=>GS,RichShelf:()=>C0,SearchBox:()=>zS,SearchFilter:()=>E0,SearchFilterGroup:()=>os,SearchFilterOptionsDialog:()=>KS,SearchHeader:()=>P0,SearchRefinementCard:()=>po,SearchSubMenu:()=>N0,SearchSuggestion:()=>gv,SearchSuggestionsSection:()=>A0,SecondarySearchContainer:()=>$S,SectionList:()=>Q,SegmentedLikeDislikeButton:()=>Io,SettingBoolean:()=>qS,SettingsCheckbox:()=>R0,SettingsOptions:()=>ss,SettingsSidebar:()=>M0,SettingsSwitch:()=>ns,SharedPost:()=>V0,Shelf:()=>rs,ShowCustomThumbnail:()=>mv,ShowLiveChatActionPanelAction:()=>QT,ShowLiveChatDialogAction:()=>ZT,ShowLiveChatTooltipCommand:()=>eS,ShowingResultsFor:()=>O0,SimpleCardContent:()=>XS,SimpleCardTeaser:()=>QS,SimpleMenuHeader:()=>Gv,SimpleTextSection:()=>ZS,SingleActionEmergencySupport:()=>eI,SingleColumnBrowseResults:()=>Xt,SingleColumnMusicWatchNextResults:()=>tI,SingleHeroImage:()=>iI,SlimOwner:()=>oI,SlimVideoMetadata:()=>D0,SortFilterSubMenu:()=>Et,SponsorCommentBadge:()=>U_,StatRow:()=>Jy,StructuredDescriptionContent:()=>mo,StructuredDescriptionPlaylistLockup:()=>n_,SubFeedOption:()=>B0,SubFeedSelector:()=>nI,SubscribeButton:()=>We,SubscriptionNotificationToggleButton:()=>A_,Tab:()=>xe,Tabbed:()=>sI,TabbedSearchResults:()=>L0,TextHeader:()=>rI,ThumbnailLandscapePortrait:()=>aI,ThumbnailOverlayBottomPanel:()=>hv,ThumbnailOverlayEndorsement:()=>uI,ThumbnailOverlayHoverText:()=>lI,ThumbnailOverlayInlineUnplayable:()=>cI,ThumbnailOverlayLoadingPreview:()=>dI,ThumbnailOverlayNowPlaying:()=>pI,ThumbnailOverlayPinking:()=>fI,ThumbnailOverlayPlaybackStatus:()=>mI,ThumbnailOverlayResumePlayback:()=>hI,ThumbnailOverlaySidePanel:()=>_I,ThumbnailOverlayTimeStatus:()=>fo,ThumbnailOverlayToggleButton:()=>vI,TimedMarkerDecoration:()=>xI,TitleAndButtonListHeader:()=>gI,ToggleButton:()=>Ve,ToggleMenuServiceItem:()=>bI,Tooltip:()=>yI,TopicChannelDetails:()=>wI,Transcript:()=>Fn,TranscriptFooter:()=>__,TranscriptSearchBox:()=>v_,TranscriptSearchPanel:()=>y_,TranscriptSectionHeader:()=>x_,TranscriptSegment:()=>g_,TranscriptSegmentList:()=>b_,TwoColumnBrowseResults:()=>Qt,TwoColumnSearchResults:()=>F0,TwoColumnWatchNextResults:()=>as,UniversalWatchCard:()=>U0,UpdateDateTextAction:()=>Vv,UpdateDescriptionAction:()=>Ov,UpdateEngagementPanelAction:()=>Fy,UpdateLiveChatPollAction:()=>tS,UpdateTitleAction:()=>Dv,UpdateToggleButtonTextAction:()=>Bv,UpdateViewershipAction:()=>Lv,UploadTimeFactoid:()=>Qh,UpsellDialog:()=>TI,VerticalList:()=>SI,VerticalWatchCardList:()=>II,Video:()=>Rn,VideoAttributeView:()=>Vn,VideoCard:()=>Xh,VideoDescriptionCourseSection:()=>s_,VideoDescriptionHeader:()=>e_,VideoDescriptionInfocardsSection:()=>t_,VideoDescriptionMusicSection:()=>Dn,VideoDescriptionTranscriptSection:()=>Aa,VideoInfoCardContent:()=>kI,VideoOwner:()=>us,VideoPrimaryInfo:()=>j0,VideoSecondaryInfo:()=>Tm,ViewCountFactoid:()=>Zh,WatchCardCompactVideo:()=>W0,WatchCardHeroVideo:()=>CI,WatchCardRichHeader:()=>EI,WatchCardSectionSequence:()=>PI,WatchNextEndScreen:()=>v0,WatchNextTabbedResults:()=>H0,YpcTrailer:()=>h0});var La=class extends a{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=e.favicon.sources.map(i=>new y(i)).sort((i,o)=>o.width-i.width)}};n(La,"ChannelExternalLinkView");La.type="ChannelExternalLinkView";var l_=La;var Fa=class extends a{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new v(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=c.parseArray(e.links,l_):this.links=[]}};n(Fa,"AboutChannelView");Fa.type="AboutChannelView";var c_=Fa;var Ya=class extends a{constructor(e){super(),this.metadata=c.parseItem(e.metadata,c_),this.share_channel=c.parseItem(e.shareChannel,I)}};n(Ya,"AboutChannel");Ya.type="AboutChannel";var d_=Ya;var Ua=class extends a{constructor(e){super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint)}};n(Ua,"AccountChannel");Ua.type="AccountChannel";var p_=Ua;var ja=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(ja,"AccountItemSectionHeader");ja.type="AccountItemSectionHeader";var f_=ja;var Wa=class extends a{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n(Wa,"AccountItem");Wa.type="AccountItem";var Ha=class extends a{constructor(e){super(),this.contents=ae(e.contents.map(i=>new Wa(i.accountItem))),this.header=c.parseItem(e.header,f_)}};n(Ha,"AccountItemSection");Ha.type="AccountItemSection";var m_=Ha;var Ja=class extends a{constructor(e){super(),this.contents=c.parseItem(e.contents[0],m_),this.footers=c.parseItem(e.footers[0],p_)}};n(Ja,"AccountSectionList");Ja.type="AccountSectionList";var h_=Ja;var Ga=class extends a{constructor(e){super(),this.contents=c.parseArray(e.continuationItems),this.target=e.target}};n(Ga,"AppendContinuationItemsAction");Ga.type="AppendContinuationItemsAction";var ho=Ga;var za=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,s;return{title:i.title,selected:i.selected,continuation:(s=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||s===void 0?void 0:s.continuation,endpoint:new v(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(za,"SortFilterSubMenu");za.type="SortFilterSubMenu";var Et=za;var Ka=class extends a{constructor(e){super(),this.language_menu=c.parseItem(e.languageMenu,Et)}};n(Ka,"TranscriptFooter");Ka.type="TranscriptFooter";var __=Ka;var $a=class extends a{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=c.parseItem(e.clearButton,I),this.endpoint=new v(e.onTextChangeCommand),this.search_button=c.parseItem(e.searchButton,I)}};n($a,"TranscriptSearchBox");$a.type="TranscriptSearchBox";var v_=$a;var qa=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n(qa,"TranscriptSectionHeader");qa.type="TranscriptSectionHeader";var x_=qa;var Xa=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(Xa,"TranscriptSegment");Xa.type="TranscriptSegment";var g_=Xa;var Qa=class extends a{constructor(e){super(),this.initial_segments=c.parseArray(e.initialSegments,[g_,x_]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(Qa,"TranscriptSegmentList");Qa.type="TranscriptSegmentList";var b_=Qa;var Za=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,v_),this.body=c.parseItem(e.body,b_),this.footer=c.parseItem(e.footer,__),this.target_id=e.targetId}};n(Za,"TranscriptSearchPanel");Za.type="TranscriptSearchPanel";var y_=Za;var eu=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,y_)}};n(eu,"Transcript");eu.type="Transcript";var Fn=eu;var tu=class extends a{constructor(e){super(),this.target_id=e.targetId,this.content=c.parseItem(e.content,Fn)}};n(tu,"UpdateEngagementPanelAction");tu.type="UpdateEngagementPanelAction";var Fy=tu;var iu=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(iu,"DataModelSection");iu.type="DataModelSection";var w_=iu;var ou=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new w_(o))}};n(ou,"AnalyticsMainAppKeyMetrics");ou.type="AnalyticsMainAppKeyMetrics";var Yy=ou;var nu=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(s=>({label:s.label,display_value:s.displayValue,display_value_a11y:s.displayValueA11y,bar_ratio:s.barRatio,bar_color:s.barColor,bar_opacity:s.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(nu,"AnalyticsRoot");nu.type="AnalyticsRoot";var Uy=nu;var su=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};n(su,"AnalyticsShortsCarouselCard");su.type="AnalyticsShortsCarouselCard";var jy=su;var ru=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:y.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(ru,"AnalyticsVideo");ru.type="AnalyticsVideo";var T_=ru;var au=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new T_(i)))}};n(au,"AnalyticsVodCarouselCard");au.type="AnalyticsVodCarouselCard";var Wy=au;var uu=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(uu,"CtaGoToCreatorStudio");uu.type="CtaGoToCreatorStudio";var Hy=uu;var lu=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(lu,"StatRow");lu.type="StatRow";var Jy=lu;var cu=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(cu,"AutomixPreviewVideo");cu.type="AutomixPreviewVideo";var Ai=cu;var du=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new v(e.command)}};n(du,"BackstageImage");du.type="BackstageImage";var S_=du;var pu=class extends a{constructor(e){var i,o,s,r,l,p,f,h,_;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let g=((r=(s=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||s===void 0?void 0:s.accessibilityData)===null||r===void 0?void 0:r.label)||((p=(l=e==null?void 0:e.accessibilityData)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label)||((f=e==null?void 0:e.accessibility)===null||f===void 0?void 0:f.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(g.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((_=(h=e.defaultServiceEndpoint)===null||h===void 0?void 0:h.commandExecutorCommand)===null||_===void 0)&&_.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(pu,"ToggleButton");pu.type="ToggleButton";var Ve=pu;var fu=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(fu,"CreatorHeart");fu.type="CreatorHeart";var I_=fu;var mu=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Ve),this.dislike_button=c.parseItem(e.dislikeButton,Ve),this.reply_button=c.parseItem(e.replyButton,I),this.creator_heart=c.parseItem(e.creatorHeart,I_)}};n(mu,"CommentActionButtons");mu.type="CommentActionButtons";var Yn=mu;var hu=class extends a{constructor(e){super(),this.id=e.postId,this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=c.parseItem(e.actionMenu,F)),Reflect.has(e,"actionButtons")&&(this.action_buttons=c.parseItem(e.actionButtons,Yn)),Reflect.has(e,"voteButton")&&(this.vote_button=c.parseItem(e.voteButton,I)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=c.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(hu,"BackstagePost");hu.type="BackstagePost";var Ri=hu;var _u=class extends a{constructor(e){super(),this.post=c.parseItem(e.post)}};n(_u,"BackstagePostThread");_u.type="BackstagePostThread";var Gy=_u;var vu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(vu,"BrowseFeedActions");vu.type="BrowseFeedActions";var k_=vu;var xu=class extends a{constructor(e){super(),this.album=new u(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};n(xu,"BrowserMediaSession");xu.type="BrowserMediaSession";var zy=xu;var gu=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.type=e.type,this.button_size=e.buttonSize,this.on_tap=new v(e.onTap)}};n(gu,"ButtonView");gu.type="ButtonView";var C_=gu;var Un=class extends a{constructor(e){super(),this.endpoint=new v(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new u(e.title)}};n(Un,"HeaderLink");Un.type="HeaderLink";var bu=class extends a{constructor(e){var i,o;super(),this.primary=ae(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>new Un(s)))||[]),this.secondary=ae(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(s=>new Un(s)))||[])}};n(bu,"ChannelHeaderLinks");bu.type="ChannelHeaderLinks";var E_=bu;var yu=class extends a{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(yu,"ChannelHeaderLinksView");yu.type="ChannelHeaderLinksView";var P_=yu;var wu=class extends a{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:c.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,Ln),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new v(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(wu,"ChannelTagline");wu.type="ChannelTagline";var N_=wu;var Tu=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:c.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(Tu,"SubscriptionNotificationToggleButton");Tu.type="SubscriptionNotificationToggleButton";var A_=Tu;var Su=class extends a{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=c.parseItem(e.notificationPreferenceButton,A_),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(Su,"SubscribeButton");Su.type="SubscribeButton";var We=Su;var Iu=class extends a{constructor(e){super(),this.author=new M({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=c.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=c.parseItem(e.subscribeButton,[We,I])),Reflect.has(e,"headerLinks")&&(this.header_links=c.parseItem(e.headerLinks,[E_,P_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=c.parseItem(e.tagline,N_))}};n(Iu,"C4TabbedHeader");Iu.type="C4TabbedHeader";var Mi=Iu;var ku=class extends a{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(ku,"CallToActionButton");ku.type="CallToActionButton";var Ky=ku;var Cu=class extends a{constructor(e){super(),this.teaser=c.parseItem(e.teaser),this.content=c.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(Cu,"Card");Cu.type="Card";var $y=Cu;var Eu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(Eu,"CarouselHeader");Eu.type="CarouselHeader";var R_=Eu;var Pu=class extends a{constructor(e){super(),this.items=c.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(Pu,"CarouselItem");Pu.type="CarouselItem";var qy=Pu;var Nu=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,[We,I]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};n(Nu,"Channel");Nu.type="Channel";var M_=Nu;var Au=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>({endpoint:new v(s.navigationEndpoint),icon:y.fromResponse(s.icon),title:new u(s.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=c.parseArray(e.actionButtons,I)}get views(){return this.view_count}get joined(){return this.joined_date}};n(Au,"ChannelAboutFullMetadata");Au.type="ChannelAboutFullMetadata";var Ru=Au;var Mu=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=c.parseItem(e.signInButton,I),this.secondary_text=new u(e.secondaryText)}};n(Mu,"ChannelAgeGate");Mu.type="ChannelAgeGate";var Xy=Mu;var Vu=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items)}};n(Vu,"ChannelFeaturedContent");Vu.type="ChannelFeaturedContent";var Qy=Vu;var Ou=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Ou,"ChannelMetadata");Ou.type="ChannelMetadata";var V_=Ou;var Du=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Du,"ChannelMobileHeader");Du.type="ChannelMobileHeader";var Zy=Du;var Bu=class extends a{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(Bu,"ChannelOptions");Bu.type="ChannelOptions";var O_=Bu;var Lu=class extends a{constructor(e){super(),this.illustration=y.fromResponse(e.illustration),this.description=new u(e.description)}};n(Lu,"ChannelOwnerEmptyState");Lu.type="ChannelOwnerEmptyState";var ew=Lu;var Fu=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=c.parseItem(e.sortSetting)}};n(Fu,"ChannelSubMenu");Fu.type="ChannelSubMenu";var Yu=Fu;var Uu=class extends a{constructor(e){var i,o;super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Uu,"ChannelThumbnailWithLink");Uu.type="ChannelThumbnailWithLink";var tw=Uu;var ju=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};n(ju,"ChannelVideoPlayer");ju.type="ChannelVideoPlayer";var iw=ju;var Wu=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};n(Wu,"Chapter");Wu.type="Chapter";var D_=Wu;var Hu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Be(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};n(Hu,"ChildVideo");Hu.type="ChildVideo";var ow=Hu;var Ju=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(Ju,"ChipCloudChip");Ju.type="ChipCloudChip";var _e=Ju;var Gu=class extends a{constructor(e){super(),this.chips=c.parseArray(e.chips,_e),this.next_button=c.parseItem(e.nextButton,I),this.previous_button=c.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};n(Gu,"ChipCloud");Gu.type="ChipCloud";var ct=Gu;var zu=class extends a{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};n(zu,"CollaboratorInfoCardContent");zu.type="CollaboratorInfoCardContent";var nw=zu;var Ku=class extends a{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};n(Ku,"CollageHeroImage");Ku.type="CollageHeroImage";var sw=Ku;var $u=class extends a{constructor(e){super(),this.endpoint=new v(e)}};n($u,"Command");$u.type="Command";var rw=$u;var B_,qu=class extends a{constructor(e){super(),B_.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),S(this,B_,e,"f")}get orig_badge(){return d(this,B_,"f")}};n(qu,"AuthorCommentBadge");B_=new WeakMap;qu.type="AuthorCommentBadge";var L_=qu;var Xu=class extends a{constructor(e){super(),this.reply_button=c.parseItem(e.replyButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(Xu,"CommentReplyDialog");Xu.type="CommentReplyDialog";var F_=Xu;var Qu=class extends a{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(Qu,"PdgCommentChip");Qu.type="PdgCommentChip";var Y_=Qu;var Zu=class extends a{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(Zu,"SponsorCommentBadge");Zu.type="SponsorCommentBadge";var U_=Zu;var Pt={};D(Pt,{decodeVisitorData:()=>J_,encodeChannelAnalyticsParams:()=>ub,encodeCommentActionParams:()=>el,encodeCommentParams:()=>fb,encodeCommentsSectionParams:()=>pb,encodeCustomThumbnailPayload:()=>_b,encodeHashtag:()=>vb,encodeMessageParams:()=>db,encodeMusicSearchFilters:()=>cb,encodeNotificationPref:()=>mb,encodeReelSequence:()=>xb,encodeSearchFilters:()=>lb,encodeVideoMetadataPayload:()=>hb,encodeVisitorData:()=>ab});var E;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(E||(E={}));var Y=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+W_(eb(this),j_).toString(!1);let s=[],r=new Y(i,o);for(;dk(r,lk);){let[l,p]=ck(r);s.push(p),r=l}return s.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new Y(0);if(e.length<10)return i<0?W_(eb(new Y(-i)),j_):new Y(i);let s=new Y,r=j_;for(let l of e.split("").reverse())parseInt(l)&&(s=W_(s,aw(new Y(parseInt(l)),r))),r=aw(r,new Y(10));return o?W_(eb(s),j_):s}};n(Y,"Long");var lk=new Y(0),j_=new Y(1);function H_(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(H_,"makeChunk");function W_(t,e){let[i,o,s,r]=H_(t),[l,p,f,h]=H_(e),_=0,g=0,w=0,T=0;return T+=i+l,w+=T>>>16,T&=65535,w+=o+p,g+=w>>>16,w&=65535,g+=s+f,_+=g>>>16,g&=65535,_+=r+h,_&=65535,new Y(w<<16|T,_<<16|g)}n(W_,"add");function aw(t,e){let[i,o,s,r]=H_(t),[l,p,f,h]=H_(e),_=0,g=0,w=0,T=0;return T+=i*l,w+=T>>>16,T&=65535,w+=i*p+o*l,g+=w>>>16,w&=65535,g+=i*f+s*l+o*p,_+=g>>>16,g&=65535,_+=i*h+o*f+s*p+r*l,_&=65535,new Y(w<<16|T,_<<16|g)}n(aw,"mul");function ck(t){let[e,i]=t;return[new Y((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(ck,"divByTen");function dk(t,e){let[i,o]=t,[s,r]=e;return o!==r?o-r:i-s}n(dk,"compare");function eb(t){let[e,i]=t;return new Y(~e,~i)}n(eb,"negate");function jn(t){let e=[],s=typeof t=="number"?new Y(t):t;for(;s[0]||s[1];){let[r,l]=s,p=r&127,f=l>>>7,h=r>>>7|(l&127)<<32-7;s=new Y(h,f);let _=s[0]||s[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(jn,"encode");function Wn(t){let e=new Y(0),i=0;for(;;){let o=t.getUint8(i);if(e=pk(e,fk(new Y(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(Wn,"decode");function pk(t,e){return new Y(t[0]|e[0],t[1]|e[1])}n(pk,"or");function fk(t,e){return e===0?t:e>=32?new Y(0,t[0]<<e-32):new Y(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(fk,"leftshift");function P(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(jn(i<<3|o.type)),o.type){case E.Varint:e.push(jn(o.value));break;case E.Fixed64:{let s=new Uint8Array(8),r=new DataView(s.buffer);r.setUint32(0,o.value[0],!0),r.setUint32(4,o.value[1],!0),e.push(s);break}case E.LengthDelimited:e.push(jn(o.value.byteLength)),e.push(o.value);break;case E.Fixed32:{let s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,o.value,!0),e.push(s);break}}}),tb(e)}n(P,"serialize");function tb(t){let e=t.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(e);return t.reduce((o,s)=>(i.set(s,o),o+s.byteLength),0),i}n(tb,"concat");function ib(t){if(t instanceof Y){let e=new Y(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new Y(4294967295,4294967295):new Y;return new Y(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(ib,"encode");function ob(t){if(t instanceof Y){let e=new Y(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new Y(4294967295,4294967295):new Y;return new Y(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(ob,"decode");var nb={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>ob(t[0]),sint64:t=>ob(t).toString(!0),bool:t=>t[0]!==0},sb={int32:t=>new Y(t),int64:t=>Y.parse(t),uint32:t=>new Y(t),uint64:t=>Y.parse(t),sint32:t=>ib(new Y(t)),sint64:t=>ib(Y.parse(t)),bool:t=>new Y(+t)},mk=Object.fromEntries(Object.entries(nb).map(([t,e])=>[t,i=>{if(i.type===E.Varint)return e(i.value)}])),hk=Object.fromEntries(Object.entries(sb).map(([t,e])=>[t,i=>({type:E.Varint,value:e(i)})])),W=Object.assign(Object.assign({},mk),{double:t=>t.type!==E.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==E.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===E.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===E.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!0)},string:t=>t.type!==E.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===E.LengthDelimited)return t.value}}),k=Object.assign(Object.assign({},hk),{double:t=>{let e=new Y;return new DataView(e.buffer).setFloat64(0,t,!0),{type:E.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:E.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:E.Fixed32,value:t>>>0}),fixed64:t=>({type:E.Fixed64,value:Y.parse(t)}),sfixed32:t=>({type:E.Fixed32,value:t|0}),sfixed64:t=>({type:E.Fixed64,value:Y.parse(t)}),string:t=>{let e=new TextEncoder;return{type:E.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:E.LengthDelimited,value:t})}),_k=Object.fromEntries(Object.keys(nb).map(t=>[t,function*(e){for(let i of e){let o=W[t](i);if(o!=null)yield o;else for(let s of bk(i))yield nb[t](s)}}])),HB=Object.assign(Object.assign({},_k),{*double(t){for(let e of t){let i=W.double(e);i!=null?yield i:yield*xk(e)}},*float(t){for(let e of t){let i=W.float(e);i!=null?yield i:yield*gk(e)}},*fixed32(t){for(let e of t){let i=W.fixed32(e);if(i!=null)yield i;else for(let o of uw(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=W.fixed64(e);if(i!=null)yield i;else for(let o of lw(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=W.sfixed32(e);if(i!=null)yield i;else for(let o of uw(e))yield o|0}},*sfixed64(t){for(let e of t){let i=W.sfixed64(e);if(i!=null)yield i;else for(let o of lw(e))yield o.toString(!0)}}}),vk=Object.fromEntries(Object.keys(sb).map(t=>[t,function(e){return{type:E.LengthDelimited,value:tb(e.map(i=>{let o=sb[t](i);return jn(o)}))}}]));function Hn(t,e){return n(function(o){let s=new Uint8Array(o.length*t),r=new DataView(s.buffer);for(let l=0;l<o.length;++l)e(r,l*t,o[l]);return{type:E.LengthDelimited,value:s}},"pack")}n(Hn,"getFixedPackFn");var JB=Object.assign(Object.assign({},vk),{double:Hn(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Hn(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Hn(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Hn(8,(t,e,i)=>{let o=Y.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:Hn(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Hn(8,(t,e,i)=>{let o=Y.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*xk(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat64(i,!0);i+=4,yield s}}n(xk,"unpackDouble");function*gk(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat32(i,!0);i+=4,yield s}}n(gk,"unpackFloat");function*bk(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let s=Wn(new DataView(e.buffer,o+i));i+=s[0],yield s[1]}}n(bk,"unpackVarint");function*uw(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4,yield s}}n(uw,"unpackFixed32");function*lw(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4;let r=o.getUint32(i,!0);i+=4,yield new Y(s,r)}}n(lw,"unpackFixed64");function H(t){let e=0,i=t.byteOffset,o=[],s=new DataView(t.buffer,i);for(;e<t.length;){let r=Wn(new DataView(t.buffer,i+e)),l=r[1][0];e+=r[0];let p=l&7,f=l>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case E.Varint:{let[g,w]=Wn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:w}]),e+=g;break}case E.Fixed64:let h=s.getUint32(e,!0),_=s.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new Y(h,_)}]);break;case E.LengthDelimited:{let[g,w]=Wn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=g,e+=w[0])}]);break}case E.StartGroup:case E.EndGroup:o.push([f,{type:p}]);break;case E.Fixed32:o.push([f,{type:p,value:s.getUint32(e,!0)}]),e+=4;break}}return o}n(H,"deserialize");function yk(){return{id:"",timestamp:0}}n(yk,"getDefaultValue");function cw(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,k.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,k.int32(i)])}return P(e)}n(cw,"encodeBinary");function dw(t){let e=yk(),i=H(t),o=new Map(i);e:{let s=o.get(1);if(s===void 0)break e;let r=W.string(s);if(r===void 0)break e;e.id=r}e:{let s=o.get(5);if(s===void 0)break e;let r=W.int32(s);if(r===void 0)break e;e.timestamp=r}return e}n(dw,"decodeBinary");function pw(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,k.string(i)])}return P(e)}n(pw,"encodeBinary");function fw(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:E.LengthDelimited,value:pw(i)}])}return P(e)}n(fw,"encodeBinary");function mw(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,k.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,k.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,k.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,k.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,k.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,k.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,k.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,k.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,k.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,k.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,k.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,k.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,k.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,k.int32(i)])}return P(e)}n(mw,"encodeBinary");function hw(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,k.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:mw(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,k.int32(i)])}return P(e)}n(hw,"encodeBinary");function _w(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,k.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,k.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,k.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,k.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,k.int32(i)])}return P(e)}n(_w,"encodeBinary");function vw(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:E.LengthDelimited,value:_w(i)}])}return P(e)}n(vw,"encodeBinary");function xw(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:vw(i)}])}return P(e)}n(xw,"encodeBinary");function gw(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,k.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,k.string(i)])}return P(e)}n(gw,"encodeBinary");function bw(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:E.LengthDelimited,value:gw(i)}])}return P(e)}n(bw,"encodeBinary");function yw(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:E.LengthDelimited,value:bw(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,k.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,k.int32(i)])}return P(e)}n(yw,"encodeBinary");function ww(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,k.string(i)])}return P(e)}n(ww,"encodeBinary");function Tw(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,k.int32(i)])}return P(e)}n(Tw,"encodeBinary");function Sw(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,k.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:E.LengthDelimited,value:Tw(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,k.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,k.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,k.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,k.int32(i)])}return P(e)}n(Sw,"encodeBinary");function Iw(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,k.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,k.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,k.int32(i)])}return P(e)}n(Iw,"encodeBinary");function kw(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,k.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:E.LengthDelimited,value:Sw(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:E.LengthDelimited,value:Iw(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,k.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,k.string(i)])}return P(e)}n(kw,"encodeBinary");function Cw(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:E.LengthDelimited,value:ww(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,k.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:E.LengthDelimited,value:kw(i)}])}return P(e)}n(Cw,"encodeBinary");function Ew(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,k.int32(i)])}return P(e)}n(Ew,"encodeBinary");function Pw(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,k.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:Ew(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,k.int32(i)])}return P(e)}n(Pw,"encodeBinary");function Nw(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,k.string(i)])}return P(e)}n(Nw,"encodeBinary");function Aw(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:E.LengthDelimited,value:Nw(i)}])}return P(e)}n(Aw,"encodeBinary");function Rw(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,k.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:E.LengthDelimited,value:Aw(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,k.string(i)])}return P(e)}n(Rw,"encodeBinary");function Mw(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,k.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,k.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,k.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,k.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:E.LengthDelimited,value:Rw(i)}])}return P(e)}n(Mw,"encodeBinary");function Vw(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,k.int32(i)])}return P(e)}n(Vw,"encodeBinary");function Ow(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,k.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:E.LengthDelimited,value:Vw(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,k.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,k.int32(i)])}return P(e)}n(Ow,"encodeBinary");function Dw(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,k.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,k.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,k.string(i)])}return P(e)}n(Dw,"encodeBinary");function Bw(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:E.LengthDelimited,value:Dw(i)}])}return P(e)}n(Bw,"encodeBinary");function Lw(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,k.string(i)])}return P(e)}n(Lw,"encodeBinary");function Fw(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,k.string(i)])}return P(e)}n(Fw,"encodeBinary");function Yw(t){let e=[];for(let i of t.list)e.push([1,k.string(i)]);return P(e)}n(Yw,"encodeBinary");function Uw(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,k.int32(i)])}return P(e)}n(Uw,"encodeBinary");function jw(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.string(i)])}return P(e)}n(jw,"encodeBinary");function Ww(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,k.bytes(i)])}return P(e)}n(Ww,"encodeBinary");function Hw(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:E.LengthDelimited,value:Ww(i)}])}return P(e)}n(Hw,"encodeBinary");function Jw(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.int32(i)])}return P(e)}n(Jw,"encodeBinary");function Gw(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,k.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,k.int32(i)])}return P(e)}n(Gw,"encodeBinary");function zw(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,k.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,k.int32(i)])}return P(e)}n(zw,"encodeBinary");function rb(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:E.LengthDelimited,value:Bw(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,k.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:E.LengthDelimited,value:Lw(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:E.LengthDelimited,value:Fw(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:E.LengthDelimited,value:Yw(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:E.LengthDelimited,value:Uw(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:E.LengthDelimited,value:jw(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:E.LengthDelimited,value:Hw(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:E.LengthDelimited,value:Jw(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:E.LengthDelimited,value:Gw(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:E.LengthDelimited,value:zw(i)}])}return P(e)}n(rb,"encodeBinary");function Kw(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,k.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,k.int32(i)])}return P(e)}n(Kw,"encodeBinary");function $w(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:E.LengthDelimited,value:Kw(i)}])}return P(e)}n($w,"encodeBinary");function qw(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,k.int32(i)])}return P(e)}n(qw,"encodeBinary");function Xw(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,k.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:qw(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,k.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,k.int32(i)])}return P(e)}n(Xw,"encodeBinary");function ab(t,e){let i=cw({id:t,timestamp:e});return encodeURIComponent(dt(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(ab,"encodeVisitorData");function J_(t){return dw(gb(decodeURIComponent(t)))}n(J_,"decodeVisitorData");function ub(t){let e=fw({params:{channelId:t}});return encodeURIComponent(dt(e))}n(ub,"encodeChannelAnalyticsParams");function lb(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},s={relevance:void 0,rating:1,upload_date:2,view_count:3},r={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},l={};if(t?l.filters={}:l.noFilter=0,l.filters&&(t.upload_date&&(l.filters.uploadDate=e[t.upload_date]),t.type&&(l.filters.type=i[t.type]),t.duration&&(l.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(l.sortBy=s[t.sort_by]),t.features))for(let f of t.features)l.filters[r[f]]=1;let p=hw(l);return encodeURIComponent(dt(p))}n(lb,"encodeSearchFilters");function cb(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=xw(i);return encodeURIComponent(dt(o))}n(cb,"encodeMusicSearchFilters");function db(t,e){let i=yw({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(dt(i)))}n(db,"encodeMessageParams");function pb(t,e={}){let o=Cw({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(dt(o))}n(pb,"encodeCommentsSectionParams");function fb(t){let e=Pw({videoId:t,params:{index:0},number:7});return encodeURIComponent(dt(e))}n(fb,"encodeCommentParams");function el(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=Mw(i);return encodeURIComponent(dt(o))}n(el,"encodeCommentActionParams");function mb(t,e){let i=Ow({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(dt(i))}n(mb,"encodeNotificationPref");function hb(t,e){let i={context:{client:{unkparam:14,clientName:G.ANDROID.NAME,clientVersion:G.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),rb(i)}n(hb,"encodeVideoMetadataPayload");function _b(t,e){let i={context:{client:{unkparam:14,clientName:G.ANDROID.NAME,clientVersion:G.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return rb(i)}n(_b,"encodeCustomThumbnailPayload");function vb(t){let e=$w({params:{hashtag:t,type:1}});return encodeURIComponent(dt(e))}n(vb,"encodeHashtag");function xb(t){let e=Xw({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(dt(e))}n(xb,"encodeReelSequence");var Nt,tl=class extends a{constructor(e){var i,o,s,r,l,p,f;super(),Nt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=y.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=c.parseItem(e.sponsorCommentBadge,U_),this.paid_comment_chip=c.parseItem(e.paidCommentChipRenderer,Y_),this.author_badge=c.parseItem(e.authorCommentBadge,L_),this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=c.parseItem(e.actionMenu,F),this.action_buttons=c.parseItem(e.actionButtons,Yn),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((s=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||s===void 0)&&s.is_toggled),this.is_disliked=!!(!((l=(r=this.action_buttons)===null||r===void 0?void 0:r.dislike_button)===null||l===void 0)&&l.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return b(this,void 0,void 0,function*(){if(!d(this,Nt,"f"))throw new x("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new x("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new x("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Nt,"f"),{parse:!1})})}dislike(){var e;return b(this,void 0,void 0,function*(){if(!d(this,Nt,"f"))throw new x("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new x("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new x("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Nt,"f"),{parse:!1})})}reply(e){var i,o,s;return b(this,void 0,void 0,function*(){if(!d(this,Nt,"f"))throw new x("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new x("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let r=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((s=r.endpoint)===null||s===void 0)&&s.dialog))throw new x("Reply button endpoint did not have a dialog.");let p=r.endpoint.dialog.as(F_).reply_button;if(!p)throw new x("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new x("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(d(this,Nt,"f"),{commentText:e})})}translate(e){var i,o,s,r,l,p;return b(this,void 0,void 0,function*(){if(!d(this,Nt,"f"))throw new x("An active caller must be provide to perform this operation.");let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=el(22,h),g=yield d(this,Nt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),w=(o=(i=g.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(p=(l=(r=(s=w==null?void 0:w[0])===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},g),{content:T})})}setActions(e){S(this,Nt,e,"f")}};n(tl,"Comment");Nt=new WeakMap;tl.type="Comment";var Jn=tl;var il=class extends a{constructor(e){super(),this.id=e.id,this.categories=c.parseArray(e.categories),this.category_buttons=c.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(il,"EmojiPicker");il.type="EmojiPicker";var G_=il;var ol=class extends a{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=c.parseItem(e.submitButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.placeholder=new u(e.placeholderText),this.emoji_button=c.parseItem(e.emojiButton,I),this.emoji_picker=c.parseItem(e.emojiPicker,G_)}};n(ol,"CommentDialog");ol.type="CommentDialog";var Qw=ol;var nl=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),this.view_replies=c.parseItem(e.viewReplies,I),this.hide_replies=c.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(nl,"CommentReplies");nl.type="CommentReplies";var z_=nl;var sl=class extends a{constructor(e){super(),this.simplebox_avatar=y.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n(sl,"CommentsSimplebox");sl.type="CommentsSimplebox";var K_=sl;var rl=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(rl,"CommentsEntryPointTeaser");rl.type="CommentsEntryPointTeaser";var $_=rl;var al=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=c.parseItem(e.contentRenderer,[$_,K_])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(al,"CommentsEntryPointHeader");al.type="CommentsEntryPointHeader";var q_=al;var ul=class extends a{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=c.parseItem(e.createRenderer),this.sort_menu=c.parseItem(e.sortMenu,Et),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(ul,"CommentsHeader");ul.type="CommentsHeader";var Gn=ul;var ll=class extends a{constructor(e){super(),this.submit_button=c.parseItem(e.submitButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(ll,"CommentSimplebox");ll.type="CommentSimplebox";var X_=ll;var li,_o,cl=class extends a{constructor(e){super(),li.set(this,void 0),_o.set(this,void 0),this.comment=c.parseItem(e.comment,Jn),this.comment_replies_data=c.parseItem(e.replies,z_),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return b(this,void 0,void 0,function*(){if(!d(this,li,"f"))throw new x("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new x("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(he);if(!i)throw new x("Replies continuation not found.");let o=yield i.endpoint.call(d(this,li,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new x("Unexpected response.",o);return this.replies=ae(o.on_response_received_endpoints_memo.getType(Jn).map(s=>(s.setActions(d(this,li,"f")),s))),S(this,_o,o==null?void 0:o.on_response_received_endpoints_memo.getType(he).first(),"f"),this})}getContinuation(){var e;return b(this,void 0,void 0,function*(){if(!this.replies)throw new x("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!d(this,_o,"f"))throw new x("Continuation not found.");if(!d(this,li,"f"))throw new x("Actions instance not set for this thread.");let i=(e=d(this,_o,"f").button)===null||e===void 0?void 0:e.as(I);if(!i)throw new x('"Load more" button not found.');let o=yield i.endpoint.call(d(this,li,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new x("Unexpected response.",o);return this.replies=ae(o.on_response_received_endpoints_memo.getType(Jn).map(s=>(s.setActions(d(this,li,"f")),s))),S(this,_o,o.on_response_received_endpoints_memo.getType(he).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new x("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!d(this,_o,"f")}setActions(e){S(this,li,e,"f")}};n(cl,"CommentThread");li=new WeakMap,_o=new WeakMap;cl.type="CommentThread";var Q_=cl;var dl=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=c.parseItem(e.menu,F)}};n(dl,"CompactChannel");dl.type="CompactChannel";var Zw=dl;var pl=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};n(pl,"CompactLink");pl.type="CompactLink";var zn=pl;var fl=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(fl,"PlaylistCustomThumbnail");fl.type="PlaylistCustomThumbnail";var Kn=fl;var ml=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(ml,"PlaylistVideoThumbnail");ml.type="PlaylistVideoThumbnail";var $n=ml;var hl=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new M(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=c.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=c.parseItem(e.menu),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer,[$n,Kn])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(hl,"Playlist");hl.type="Playlist";var zt=hl;var _l=class extends zt{constructor(e){super(e)}};n(_l,"CompactMix");_l.type="CompactMix";var eT=_l;var vl=class extends a{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText);let s=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:s,seconds:Be(s)},this.endpoint=new v(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=c.parseItem(e.menu,F)}};n(vl,"CompactMovie");vl.type="CompactMovie";var tT=vl;var xl=class extends zt{constructor(e){super(e)}};n(xl,"CompactPlaylist");xl.type="CompactPlaylist";var iT=xl;var gl=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};n(gl,"CompactStation");gl.type="CompactStation";var oT=gl;var bl=class extends a{constructor(e){super(),this.title=new u(e.title),this.confirm_button=c.parseItem(e.confirmButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(bl,"ConfirmDialog");bl.type="ConfirmDialog";var nT=bl;var yl=class extends a{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>({metadata_parts:i.metadataParts.map(o=>({text:u.fromAttributed(o.text)}))})),this.delimiter=e.delimiter}};n(yl,"ContentMetadataView");yl.type="ContentMetadataView";var Z_=yl;var wl=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(wl,"Message");wl.type="Message";var He=wl;var Tl=class extends a{constructor(e){super(),this.availability_message=c.parseItem(e.availabilityMessage,He)}};n(Tl,"ConversationBar");Tl.type="ConversationBar";var sT=Tl;var Sl=class extends a{constructor(e){super(),this.copy_button=c.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};n(Sl,"CopyLink");Sl.type="CopyLink";var ev=Sl;var Il=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(Il,"HeatMarker");Il.type="HeatMarker";var tv=Il;var kl=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=c.parseArray(e.heatMarkers,tv),this.heat_markers_decorations=c.parseArray(e.heatMarkersDecorations)}};n(kl,"Heatmap");kl.type="Heatmap";var iv=kl;var Cl=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=c.parseItem(e.value.heatmap,iv)),Reflect.has(e.value,"chapters")&&(this.value.chapters=c.parseArray(e.value.chapters,D_)))}};n(Cl,"Marker");Cl.type="Marker";var El=class extends a{constructor(e){var i;super(),this.markers_map=ae(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new Cl(o)))||[])}};n(El,"MultiMarkersPlayerBar");El.type="MultiMarkersPlayerBar";var ov=El;var Pl=class extends a{constructor(e){super(),this.player_bar=c.parseItem(e.playerBar,ov),this.player_bar_action_button=c.parseItem(e.playerBarActionButton,I)}};n(Pl,"DecoratedPlayerBar");Pl.type="DecoratedPlayerBar";var nv=Pl;var Nl=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=c.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=c.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(Nl,"DefaultPromoPanel");Nl.type="DefaultPromoPanel";var rT=Nl;var Al=class extends a{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(Al,"DidYouMean");Al.type="DidYouMean";var sv=Al;var Rl=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};n(Rl,"DownloadButton");Rl.type="DownloadButton";var aT=Rl;var Ml=class extends a{constructor(e){super(),this.text=e.text.content}};n(Ml,"DynamicTextView");Ml.type="DynamicTextView";var rv=Ml;var vo=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new vo(o)))}};n(vo,"ChildElement");vo.type="ChildElement";var av=vo;var xo=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return c.parseItem(e,xo);let o=e.newElement.type.componentType;this.model=c.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ae(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(s=>new av(s)))||[]))}};n(xo,"Element");xo.type="Element";var qn=xo;var Vl=class extends a{constructor(e){super(),this.title=new u(e.title),this.first_option=c.parseItem(e.firstOption),this.menu=c.parseItem(e.menu,F)}};n(Vl,"EmergencyOnebox");Vl.type="EmergencyOnebox";var uT=Vl;var Ol=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(Ol,"EmojiPickerCategory");Ol.type="EmojiPickerCategory";var lT=Ol;var Dl=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(Dl,"EmojiPickerCategoryButton");Dl.type="EmojiPickerCategoryButton";var cT=Dl;var Bl=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};n(Bl,"EmojiPickerUpsellCategory");Bl.type="EmojiPickerUpsellCategory";var dT=Bl;var Ll=class extends a{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new v(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=c.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(Ll,"EndscreenElement");Ll.type="EndscreenElement";var pT=Ll;var Fl=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(Fl,"EndScreenPlaylist");Fl.type="EndScreenPlaylist";var uv=Fl;var Yl=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=c.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(Yl,"EndScreenVideo");Yl.type="EndScreenVideo";var lv=Yl;var Ul=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=c.parseItem(e.content)}};n(Ul,"ExpandableTab");Ul.type="ExpandableTab";var Xn=Ul;var jl=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(jl,"ExpandedShelfContents");jl.type="ExpandedShelfContents";var fT=jl;var Wl=class extends a{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(Wl,"FancyDismissibleDialog");Wl.type="FancyDismissibleDialog";var mT=Wl;var Hl=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,_e)}};n(Hl,"FeedFilterChipBar");Hl.type="FeedFilterChipBar";var ci=Hl;var Jl=class extends a{constructor(e){super(),this.title=new Text(e.title),this.subtitle=new Text(e.subtitle),this.endpoint=new v(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(Jl,"FeedNudge");Jl.type="FeedNudge";var hT=Jl;var Gl=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Gl,"FeedTabbedHeader");Gl.type="FeedTabbedHeader";var cv=Gl;var zl=class extends a{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:c.parseArray(i.actions,C_)})),this.style=e.style}};n(zl,"FlexibleActionsView");zl.type="FlexibleActionsView";var dv=zl;var Kl=class extends a{constructor(e){super(),this.title=new u(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(Kl,"GameDetails");Kl.type="GameDetails";var _T=Kl;var $l=class extends a{constructor(e){var i,o,s;super(),this.items=c.parseArray(e.items),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}get contents(){return this.items}};n($l,"Grid");$l.type="Grid";var go=$l;var ql=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton)}};n(ql,"GridChannel");ql.type="GridChannel";var pv=ql;var Xl=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Xl,"GridHeader");Xl.type="GridHeader";var vT=Xl;var Ql=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(Ql,"GridMix");Ql.type="GridMix";var xT=Ql;var Zl=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=c.parseArray(e.badges,ot),this.metadata=new u(e.metadata),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(Zl,"GridMovie");Zl.type="GridMovie";var gT=Zl;var ec=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new M(e.shortBylineText,e.ownerBadges)),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>y.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(ec,"GridPlaylist");ec.type="GridPlaylist";var fv=ec;var tc=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(tc,"ShowCustomThumbnail");tc.type="ShowCustomThumbnail";var mv=tc;var ic=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(ic,"ThumbnailOverlayBottomPanel");ic.type="ThumbnailOverlayBottomPanel";var hv=ic;var oc=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=se(e.thumbnailRenderer,mv),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Je(e.thumbnailOverlays,hv),this.author=new M(e.shortBylineText,void 0)}};n(oc,"GridShow");oc.type="GridShow";var bT=oc;var nc=class extends a{constructor(e){var i,o;super();let s=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.rich_thumbnail=c.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):s!=null&&s.text?new u(s.text):null,this.author=e.shortBylineText&&new M(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=c.parseItem(e.menu,F),Reflect.has(e,"buttons")&&(this.buttons=c.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(nc,"GridVideo");nc.type="GridVideo";var _v=nc;var sc=class extends a{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(sc,"GuideEntry");sc.type="GuideEntry";var bo=sc;var rc=class extends a{constructor(e){super(),this.expander_item=se(e.expanderItem,bo),this.collapser_item=se(e.collapserItem,bo),this.expandable_items=Je(e.expandableItems)}};n(rc,"GuideCollapsibleEntry");rc.type="GuideCollapsibleEntry";var yT=rc;var ac=class extends a{constructor(e){super(),this.header_entry=se(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Je(e.sectionItems)}};n(ac,"GuideCollapsibleSectionEntry");ac.type="GuideCollapsibleSectionEntry";var wT=ac;var uc=class extends bo{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(uc,"GuideDownloadsEntry");uc.type="GuideDownloadsEntry";var TT=uc;var lc=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Je(e.items)}};n(lc,"GuideSection");lc.type="GuideSection";var Qn=lc;var cc=class extends Qn{};n(cc,"GuideSubscriptionsSection");cc.type="GuideSubscriptionsSection";var vv=cc;var dc=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(dc,"HashtagHeader");dc.type="HashtagHeader";var xv=dc;var pc=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(e.hashtagThumbnail),this.endpoint=new v(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(pc,"HashtagTile");pc.type="HashtagTile";var ST=pc;var fc=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};n(fc,"HeroPlaylistThumbnail");fc.type="HeroPlaylistThumbnail";var IT=fc;var mc=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};n(mc,"Panel");mc.type="Panel";var hc=class extends a{constructor(e){super(),this.panels=ae(e.highlightsCarousel.panels.map(i=>new mc(i)))}};n(hc,"HighlightsCarousel");hc.type="HighlightsCarousel";var _c=hc;var vc=class extends a{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new v(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new v(e.serviceEndpoint))}};n(vc,"SearchSuggestion");vc.type="SearchSuggestion";var gv=vc;var xc=class extends gv{constructor(e){super(e)}};n(xc,"HistorySuggestion");xc.type="HistorySuggestion";var kT=xc;var gc=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.previous_button=c.parseItem(e.previousButton,I),this.next_button=c.parseItem(e.nextButton,I)}get contents(){return this.items}};n(gc,"HorizontalMovieList");gc.type="HorizontalMovieList";var CT=gc;var bc=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};n(bc,"IconLink");bc.type="IconLink";var bv=bc;var yc=class extends a{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new v(e.originalQueryEndpoint):void 0}};n(yc,"IncludingResultsFor");yc.type="IncludingResultsFor";var ET=yc;var wc=class extends a{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),this.paragraphs=e.paragraphs.map(i=>new u(i)),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(wc,"InfoPanelContent");wc.type="InfoPanelContent";var yv=wc;var Tc=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.menu=c.parseItem(e.menu,F),this.content=c.parseItem(e.content,yv),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(Tc,"InfoPanelContainer");Tc.type="InfoPanelContainer";var wv=Tc;var Sc=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=c.parseArray(e.badges,ot),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=c.parseArray(e.buttons,[We,I]),this.auto_generated=new u(e.autoGenerated)}};n(Sc,"InteractiveTabbedHeader");Sc.type="InteractiveTabbedHeader";var Tv=Sc;var Ic=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Ic,"ItemSectionHeader");Ic.type="ItemSectionHeader";var Sv=Ic;var kc=class extends a{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new v(e.endpoint)}};n(kc,"ItemSectionTab");kc.type="Tab";var Iv=kc;var Cc=class extends a{constructor(e){super(),this.title=new u(e.title),this.tabs=c.parseArray(e.tabs,Iv),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(Cc,"ItemSectionTabbedHeader");Cc.type="ItemSectionTabbedHeader";var kv=Cc;var Ec=class extends a{constructor(e){var i,o,s;super(),this.header=c.parseItem(e.header,[Gn,Sv,kv]),this.contents=c.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(Ec,"ItemSection");Ec.type="ItemSection";var ve=Ec;var Pc=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new v(i)))}};n(Pc,"LikeButton");Pc.type="LikeButton";var Cv=Pc;var Nc=class extends a{constructor(e){var i,o;super(),this.header=c.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(Nc,"LiveChat");Nc.type="LiveChat";var Ev=Nc;var Ac=class extends a{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(Ac,"LiveChatBannerHeader");Ac.type="LiveChatBannerHeader";var Pv=Ac;var Rc=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,Pv),this.contents=c.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Rc,"LiveChatBanner");Rc.type="LiveChatBanner";var Nv=Rc;var Mc=class extends a{constructor(e){super(),this.banner=c.parseItem(e.bannerRenderer,Nv)}};n(Mc,"AddBannerToLiveChatCommand");Mc.type="AddBannerToLiveChatCommand";var PT=Mc;var Vc=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(Vc,"AddChatItemAction");Vc.type="AddChatItemAction";var Av=Vc;var Oc=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),this.duration_sec=e.durationSec}};n(Oc,"AddLiveChatTickerItemAction");Oc.type="AddLiveChatTickerItemAction";var NT=Oc;var Dc=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(Dc,"DimChatItemAction");Dc.type="DimChatItemAction";var AT=Dc;var Bc=class extends a{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=c.parseArray(e.moderationButtons,I),this.auto_moderated_item=c.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Bc,"LiveChatAutoModMessage");Bc.type="LiveChatAutoModMessage";var RT=Bc;var Lc=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(Lc,"LiveChatBannerPoll");Lc.type="LiveChatBannerPoll";var MT=Lc;var Fc=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(Fc,"LiveChatMembershipItem");Fc.type="LiveChatMembershipItem";var VT=Fc;var Yc=class extends a{constructor(e){super(),this.message=new u(e.message),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(Yc,"LiveChatPaidMessage");Yc.type="LiveChatPaidMessage";var OT=Yc;var Uc=class extends a{constructor(e){super(),this.id=e.id,this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Uc,"LiveChatPaidSticker");Uc.type="LiveChatPaidSticker";var DT=Uc;var jc=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(jc,"LiveChatPlaceholderItem");jc.type="LiveChatPlaceholderItem";var BT=jc;var Wc=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=c.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=c.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(Wc,"LiveChatProductItem");Wc.type="LiveChatProductItem";var LT=Wc;var Hc=class extends a{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Hc,"LiveChatRestrictedParticipation");Hc.type="LiveChatRestrictedParticipation";var FT=Hc;var yo=class extends a{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=c.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(yo,"LiveChatMessageBase");yo.type="LiveChatMessageBase";var Jc=class extends yo{constructor(e){super(e),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(Jc,"LiveChatTextMessage");Jc.type="LiveChatTextMessage";var YT=Jc;var Gc=class extends a{constructor(e){var i,o;super(),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=c.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};n(Gc,"LiveChatTickerPaidMessageItem");Gc.type="LiveChatTickerPaidMessageItem";var Rv=Gc;var zc=class extends Rv{};n(zc,"LiveChatTickerPaidStickerItem");zc.type="LiveChatTickerPaidStickerItem";var UT=zc;var Kc=class extends a{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new M(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Kc,"LiveChatTickerSponsorItem");Kc.type="LiveChatTickerSponsorItem";var jT=Kc;var $c=class extends yo{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=c.parseItem(e.actionButton)}};n($c,"LiveChatViewerEngagementMessage");$c.type="LiveChatViewerEngagementMessage";var WT=$c;var qc=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(qc,"PollHeader");qc.type="PollHeader";var HT=qc;var Xc=class extends a{constructor(e){super(),this.id=e.id,this.contents=c.parse(e.contents),this.target_id=e.targetId}};n(Xc,"LiveChatActionPanel");Xc.type="LiveChatActionPanel";var Mv=Xc;var Qc=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(Qc,"MarkChatItemAsDeletedAction");Qc.type="MarkChatItemAsDeletedAction";var JT=Qc;var Zc=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(Zc,"MarkChatItemsByAuthorAsDeletedAction");Zc.type="MarkChatItemsByAuthorAsDeletedAction";var GT=Zc;var ed=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(ed,"RemoveBannerForLiveChatCommand");ed.type="RemoveBannerForLiveChatCommand";var zT=ed;var td=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(td,"RemoveChatItemAction");td.type="RemoveChatItemAction";var KT=td;var id=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(id,"RemoveChatItemByAuthorAction");id.type="RemoveChatItemByAuthorAction";var $T=id;var od=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=c.parseItem(e.replacementItem)}};n(od,"ReplaceChatItemAction");od.type="ReplaceChatItemAction";var qT=od;var nd=class extends a{constructor(e){var i;super(),this.actions=c.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(nd,"ReplayChatItemAction");nd.type="ReplayChatItemAction";var XT=nd;var sd=class extends a{constructor(e){super(),this.panel_to_show=c.parseItem(e.panelToShow,Mv)}};n(sd,"ShowLiveChatActionPanelAction");sd.type="ShowLiveChatActionPanelAction";var QT=sd;var rd=class extends a{constructor(e){super(),this.dialog=c.parseItem(e.dialog)}};n(rd,"ShowLiveChatDialogAction");rd.type="ShowLiveChatDialogAction";var ZT=rd;var ad=class extends a{constructor(e){super(),this.tooltip=c.parseItem(e.tooltip)}};n(ad,"ShowLiveChatTooltipCommand");ad.type="ShowLiveChatTooltipCommand";var eS=ad;var ud=class extends a{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(ud,"UpdateDateTextAction");ud.type="UpdateDateTextAction";var Vv=ud;var ld=class extends a{constructor(e){super(),this.description=new u(e.description)}};n(ld,"UpdateDescriptionAction");ld.type="UpdateDescriptionAction";var Ov=ld;var cd=class extends a{constructor(e){super(),this.poll_to_update=c.parseItem(e.pollToUpdate)}};n(cd,"UpdateLiveChatPollAction");cd.type="UpdateLiveChatPollAction";var tS=cd;var dd=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(dd,"UpdateTitleAction");dd.type="UpdateTitleAction";var Dv=dd;var pd=class extends a{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(pd,"UpdateToggleButtonTextAction");pd.type="UpdateToggleButtonTextAction";var Bv=pd;var fd=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(fd,"UpdateViewershipAction");fd.type="UpdateViewershipAction";var Lv=fd;var md=class extends ot{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};n(md,"LiveChatAuthorBadge");md.type="LiveChatAuthorBadge";var iS=md;var hd=class extends a{constructor(e){super(),this.confirm_button=c.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(hd,"LiveChatDialog");hd.type="LiveChatDialog";var oS=hd;var _d=class extends a{constructor(e){super(),this.overflow_menu=c.parseItem(e.overflowMenu,F),this.collapse_button=c.parseItem(e.collapseButton,I),this.view_selector=c.parseItem(e.viewSelector,Et)}};n(_d,"LiveChatHeader");_d.type="LiveChatHeader";var Fv=_d;var vd=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=c.parseItem(e.moreCommentsBelowButton,I)}};n(vd,"LiveChatItemList");vd.type="LiveChatItemList";var Yv=vd;var xd=class extends a{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=c.parseItem(e.sendButton,I),this.target_id=e.targetId}};n(xd,"LiveChatMessageInput");xd.type="LiveChatMessageInput";var nS=xd;var gd=class extends a{constructor(e){super(),this.name=new u(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=c.parseArray(e.authorBadges)}};n(gd,"LiveChatParticipant");gd.type="LiveChatParticipant";var Uv=gd;var bd=class extends a{constructor(e){super(),this.title=new u(e.title),this.participants=c.parseArray(e.participants,Uv)}};n(bd,"LiveChatParticipantsList");bd.type="LiveChatParticipantsList";var jv=bd;var yd=class extends I{constructor(e){super(e)}};n(yd,"MenuNavigationItem");yd.type="MenuNavigationItem";var Wv=yd;var wd=class extends I{constructor(e){super(e)}};n(wd,"MenuServiceItem");wd.type="MenuServiceItem";var Vi=wd;var Td=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[Wv,Vi])}};n(Td,"MenuPopup");Td.type="MenuPopup";var sS=Td;var Sd=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};n(Sd,"MenuServiceItemDownload");Sd.type="MenuServiceItemDownload";var rS=Sd;var Id=class extends a{constructor(e){super(),this.header=c.parse(e.header),this.sections=c.parse(e.sections),this.style=e.style}};n(Id,"MultiPageMenu");Id.type="MultiPageMenu";var aS=Id;var kd=class extends a{constructor(e){super(),this.items=c.parse(e.items)}get contents(){return this.items}};n(kd,"MultiPageMenuNotificationSection");kd.type="MultiPageMenuNotificationSection";var uS=kd;var Cd=class extends a{constructor(e){super()}};n(Cd,"MusicMenuItemDivider");Cd.type="MusicMenuItemDivider";var Hv=Cd;var Ed=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=c.parseArray(e.options,[Ct,Hv])}};n(Ed,"MusicMultiSelectMenu");Ed.type="MusicMultiSelectMenu";var Jv=Ed;var Pd=class extends a{constructor(e){super(),this.title=new u(e.title),this.buttons=c.parse(e.buttons)}};n(Pd,"SimpleMenuHeader");Pd.type="SimpleMenuHeader";var Gv=Pd;var Nd=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};n(Nd,"MerchandiseItem");Nd.type="MerchandiseItem";var lS=Nd;var Ad=class extends a{constructor(e){super(),this.title=e.title,this.menu=c.parseItem(e.actionButton),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Ad,"MerchandiseShelf");Ad.type="MerchandiseShelf";var zv=Ad;var Rd=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(Rd,"MetadataRow");Rd.type="MetadataRow";var cS=Rd;var Md=class extends a{constructor(e){super(),this.rows=c.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Md,"MetadataRowContainer");Md.type="MetadataRowContainer";var Kv=Md;var Vd=class extends a{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(Vd,"MetadataRowHeader");Vd.type="MetadataRowHeader";var dS=Vd;var Od=class extends a{constructor(e){super(),this.section_list=c.parseItem(e)}};n(Od,"MetadataScreen");Od.type="MetadataScreen";var pS=Od;var Dd=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Dd,"MicroformatData");Dd.type="MicroformatData";var Kt=Dd;var Bd=class extends zt{constructor(e){super(e)}};n(Bd,"Mix");Bd.type="Mix";var fS=Bd;var Ld=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.longBylineText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(r).toString(),seconds:Be(e.lengthText?new u(e.lengthText).toString():new u(r).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=c.parseItem(e.menu,F)}};n(Ld,"Movie");Ld.type="Movie";var mS=Ld;var Fd=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new y(o)).sort((o,s)=>s.width-o.width)}};n(Fd,"MovingThumbnail");Fd.type="MovingThumbnail";var hS=Fd;var Yd=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Yd,"MusicCardShelfHeaderBasic");Yd.type="MusicCardShelfHeaderBasic";var $v=Yd;var Ud=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Ud,"MusicInlineBadge");Ud.type="MusicInlineBadge";var qv=Ud;var jd=class extends a{constructor(e){var i,o;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(jd,"MusicPlayButton");jd.type="MusicPlayButton";var Xv=jd;var Wd=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,Xv),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(Wd,"MusicItemThumbnailOverlay");Wd.type="MusicItemThumbnailOverlay";var $t=Wd;var Hd=class extends a{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};n(Hd,"MusicThumbnail");Hd.type="MusicThumbnail";var vt=Hd;var Jd=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,vt),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=c.parseArray(e.buttons,I),this.menu=c.parseItem(e.menu,F),this.on_tap=new v(e.onTap),this.header=c.parseItem(e.header,$v),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=c.parseArray(e.subtitleBadges,qv),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,$t),Reflect.has(e,"contents")&&(this.contents=c.parseArray(e.contents))}};n(Jd,"MusicCardShelf");Jd.type="MusicCardShelf";var Qv=Jd;var Gd=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,vt)),Reflect.has(e,"moreContentButton")&&(this.more_content=c.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=c.parseArray(e.endIcons,bv))}};n(Gd,"MusicCarouselShelfBasicHeader");Gd.type="MusicCarouselShelfBasicHeader";var Zv=Gd;var zd=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,vt),this.overlay=c.parseItem(e.overlay,$t),this.on_tap=new v(e.onTap),this.menu=c.parseItem(e.menu,F),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(zd,"MusicMultiRowListItem");zd.type="MusicMultiRowListItem";var e0=zd;var Kd=class extends a{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new v(e.clickCommand)}};n(Kd,"MusicNavigationButton");Kd.type="MusicNavigationButton";var Zn=Kd;var $d=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n($d,"MusicResponsiveListItemFixedColumn");$d.type="musicResponsiveListItemFlexColumnRenderer";var t0=$d;var qd=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(qd,"MusicResponsiveListItemFlexColumn");qd.type="MusicResponsiveListItemFlexColumn";var i0=qd;var At,es,xS,gS,_S,vS,bS,yS,wS,TS,SS,Xd=class extends a{constructor(e){var i,o,s,r,l,p;super(),At.add(this),es.set(this,void 0),this.flex_columns=c.parseArray(e.flexColumns,i0),this.fixed_columns=c.parseArray(e.fixedColumns,t0),S(this,es,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint));let f=(p=(l=(r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseEndpointContextSupportedConfigs)===null||l===void 0?void 0:l.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(f||this.flex_columns.find(_=>{var g,w,T,C;return((C=(T=(w=(g=_.title.endpoint)===null||g===void 0?void 0:g.payload)===null||w===void 0?void 0:w.browseEndpointContextSupportedConfigs)===null||T===void 0?void 0:T.browseEndpointContextMusicConfig)===null||C===void 0?void 0:C.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(f="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),f){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,At,"m",TS).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,At,"m",SS).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,At,"m",bS).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,At,"m",yS).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,At,"m",wS).call(this);break;default:this.flex_columns[1]?d(this,At,"m",gS).call(this):d(this,At,"m",xS).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,vt)),Reflect.has(e,"badges")&&(this.badges=c.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu,F)),Reflect.has(e,"overlay")&&(this.overlay=c.parseItem(e.overlay,$t))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(Xd,"MusicResponsiveListItem");es=new WeakMap,At=new WeakSet,xS=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),gS=n(function(){var e,i;((i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.some(s=>s.text.match(/(.*?) views/)))?(this.item_type="video",d(this,At,"m",vS).call(this)):(this.item_type="song",d(this,At,"m",_S).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),_S=n(function(){var e,i,o,s,r,l,p,f,h,_,g,w,T,C,N;this.id=d(this,es,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let R=((r=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||s===void 0?void 0:s.find(z=>/^\d+$/.test(z.text.replace(/:/g,""))))===null||r===void 0?void 0:r.text)||((p=(l=this.fixed_columns.first())===null||l===void 0?void 0:l.title)===null||p===void 0?void 0:p.toString());R&&(this.duration={text:R,seconds:Be(R)});let O=((h=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.title.runs)===null||h===void 0?void 0:h.find(z=>Xe(z)&&z.endpoint&&z.endpoint.payload.browseId.startsWith("MPR")))||((g=(_=this.flex_columns.at(2))===null||_===void 0?void 0:_.title.runs)===null||g===void 0?void 0:g.find(z=>Xe(z)&&z.endpoint&&z.endpoint.payload.browseId.startsWith("MPR")));O&&Xe(O)&&(this.album={id:(T=(w=O.endpoint)===null||w===void 0?void 0:w.payload)===null||T===void 0?void 0:T.browseId,name:O.text,endpoint:O.endpoint});let q=(N=(C=this.flex_columns.at(1))===null||C===void 0?void 0:C.title.runs)===null||N===void 0?void 0:N.filter(z=>Xe(z)&&z.endpoint&&z.endpoint.payload.browseId.startsWith("UC"));q&&(this.artists=q.map(z=>{var me,ge;return{name:z.text,channel_id:Xe(z)?(ge=(me=z.endpoint)===null||me===void 0?void 0:me.payload)===null||ge===void 0?void 0:ge.browseId:void 0,endpoint:Xe(z)?z.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),vS=n(function(){var e,i,o,s,r,l,p,f,h,_;this.id=d(this,es,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(T=>T.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let g=(r=(s=this.flex_columns.at(1))===null||s===void 0?void 0:s.title.runs)===null||r===void 0?void 0:r.filter(T=>Xe(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));g&&(this.authors=g.map(T=>{var C,N;return{name:T.text,channel_id:Xe(T)?(N=(C=T.endpoint)===null||C===void 0?void 0:C.payload)===null||N===void 0?void 0:N.browseId:void 0,endpoint:Xe(T)?T.endpoint:void 0}}));let w=((p=(l=this.flex_columns[1].title.runs)===null||l===void 0?void 0:l.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(h=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.title.runs)===null||h===void 0?void 0:h.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);w&&(this.duration={text:w,seconds:Be(w)})},"_MusicResponsiveListItem_parseVideo"),bS=n(function(){var e,i,o,s,r,l;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((l=(r=(s=this.subtitle)===null||s===void 0?void 0:s.runs)===null||r===void 0?void 0:r.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||l===void 0?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),yS=n(function(){var e,i,o,s;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((s=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))===null||s===void 0?void 0:s.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),wS=n(function(){var e,i;this.id=d(this,es,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),TS=n(function(){var e,i,o,s,r,l,p,f,h;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||s===void 0?void 0:s.find(g=>Xe(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));_&&Xe(_)&&(this.author={name:_.text,channel_id:(l=(r=_.endpoint)===null||r===void 0?void 0:r.payload)===null||l===void 0?void 0:l.browseId,endpoint:_.endpoint}),this.year=(h=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||f===void 0?void 0:f.find(g=>/^[12][0-9]{3}$/.test(g.text)))===null||h===void 0?void 0:h.text},"_MusicResponsiveListItem_parseAlbum"),SS=n(function(){var e,i,o,s,r,l,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||s===void 0?void 0:s.find(g=>g.text.match(/\d+ (song|songs)/));this.item_count=h?h.text:void 0;let _=(l=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||l===void 0?void 0:l.find(g=>Xe(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));_&&Xe(_)&&(this.author={name:_.text,channel_id:(f=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Xd.type="MusicResponsiveListItem";var Oi=Xd;var Qd=class extends a{constructor(e){var i,o,s,r,l,p,f,h,_,g,w,T,C,N,R,O,q,z,me,ge,Te,Se;switch(super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.videoId),this.subtitle=new u(e.subtitle),this.badges=c.parse(e.subtitleBadges),(h=(f=(p=(l=this.endpoint)===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((g=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||g===void 0?void 0:g.api_url)==="/next"?this.item_type="endpoint":!((w=this.subtitle.runs)===null||w===void 0)&&w[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((C=(T=this.subtitle.runs)===null||T===void 0?void 0:T.find(K=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(K.text)))===null||C===void 0?void 0:C.text)||"";else if(this.item_type=="playlist"){let K=(N=this.subtitle.runs)===null||N===void 0?void 0:N.find(J=>J.text.match(/\d+ songs|song/));this.item_count=K?K.text:null}else if(this.item_type=="album"){let K=(R=this.subtitle.runs)===null||R===void 0?void 0:R.filter(J=>{var X,ie;return(ie=(X=J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});K&&(this.artists=K.map(J=>{var X,ie;return{name:J.text,channel_id:(ie=(X=J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:J.endpoint}})),this.year=(O=this.subtitle.runs)===null||O===void 0?void 0:O.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((z=(q=this===null||this===void 0?void 0:this.subtitle.runs)===null||q===void 0?void 0:q.find(J=>J==null?void 0:J.text.match(/(.*?) views/)))===null||z===void 0?void 0:z.text)||"N/A";let K=(me=this.subtitle.runs)===null||me===void 0?void 0:me.find(J=>{var X,ie,Re;return(Re=(ie=(X=J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId)===null||Re===void 0?void 0:Re.startsWith("UC")});K&&(this.author={name:K==null?void 0:K.text,channel_id:(Te=(ge=K==null?void 0:K.endpoint)===null||ge===void 0?void 0:ge.payload)===null||Te===void 0?void 0:Te.browseId,endpoint:K==null?void 0:K.endpoint})}else if(this.item_type=="song"){let K=(Se=this.subtitle.runs)===null||Se===void 0?void 0:Se.filter(J=>{var X,ie;return(ie=(X=J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});K&&(this.artists=K.map(J=>{var X,ie;return{name:J==null?void 0:J.text,channel_id:(ie=(X=J==null?void 0:J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:J==null?void 0:J.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,$t),this.menu=c.parseItem(e.menu,F)}};n(Qd,"MusicTwoRowItem");Qd.type="MusicTwoRowItem";var ts=Qd;var Zd=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,Zv),this.contents=c.parseArray(e.contents,[ts,Oi,e0,Zn]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(Zd,"MusicCarouselShelf");Zd.type="MusicCarouselShelf";var Ee=Zd;var ep=class extends a{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(ep,"MusicDescriptionShelf");ep.type="MusicDescriptionShelf";var wo=ep;var tp=class extends a{constructor(e){var i,o,s,r,l,p,f,h,_;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(w=>/^[12][0-9]{3}$/.test(w.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((r=(s=this.second_subtitle.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.text)||"",this.total_duration=((p=(l=this.second_subtitle.runs)===null||l===void 0?void 0:l[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=c.parseArray(e.subtitleBadges);let g=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(w=>{var T,C;return(C=(T=w==null?void 0:w.endpoint)===null||T===void 0?void 0:T.payload)===null||C===void 0?void 0:C.browseId.startsWith("UC")});g&&(this.author={name:g.text,channel_id:(_=(h=g.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId,endpoint:g.endpoint}),this.menu=c.parseItem(e.menu)}};n(tp,"MusicDetailHeader");tp.type="MusicDetailHeader";var To=tp;var ip=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(ip,"MusicDownloadStateBadge");ip.type="MusicDownloadStateBadge";var IS=ip;var op=class extends a{constructor(e){super(),this.header=c.parseItem(e.header)}};n(op,"MusicEditablePlaylistDetailHeader");op.type="MusicEditablePlaylistDetailHeader";var o0=op;var np=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?c.parseItem(e,qn):null}};n(np,"MusicElementHeader");np.type="MusicElementHeader";var sp=np;var rp=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n(rp,"MusicHeader");rp.type="MusicHeader";var Di=rp;var ap=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=c.parseItem(e.thumbnail,vt)}};n(ap,"MusicImmersiveHeader");ap.type="MusicImmersiveHeader";var n0=ap;var up=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(up,"ActionButton");up.type="ActionButton";var lp=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new up(i))}};n(lp,"Panel");lp.type="Panel";var cp=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new lp(i))}};n(cp,"MusicLargeCardItemCarousel");cp.type="MusicLargeCardItemCarousel";var kS=cp;var dp=class extends a{constructor(e){var i,o,s;super(),this.playlist_id=e.playlistId,this.contents=c.parseArray(e.contents,Oi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(dp,"MusicPlaylistShelf");dp.type="MusicPlaylistShelf";var So=dp;var pp=class extends a{constructor(e){var i,o,s,r,l;super(),this.title=new u(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Be(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(h=>{var _,g,w;return(w=(g=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||g===void 0?void 0:g.browseId)===null||w===void 0?void 0:w.startsWith("MPR")}),f=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(h=>{var _,g,w;return(w=(g=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||g===void 0?void 0:g.browseId)===null||w===void 0?void 0:w.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(r=(s=p.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseId,name:p.text,year:(l=new u(e.longBylineText).runs)===null||l===void 0?void 0:l.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(h=>{var _,g;return{name:h.text,channel_id:(g=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||g===void 0?void 0:g.browseId,endpoint:h.endpoint}})),this.badges=c.parseArray(e.badges),this.menu=c.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(pp,"PlaylistPanelVideo");pp.type="PlaylistPanelVideo";var di=pp;var fp=class extends a{constructor(e){super(),this.primary=c.parseItem(e.primaryRenderer,di),Reflect.has(e,"counterpart")&&(this.counterpart=ae(e.counterpart.map(i=>c.parseItem(i.counterpartRenderer,di))||[]))}};n(fp,"PlaylistPanelVideoWrapper");fp.type="PlaylistPanelVideoWrapper";var s0=fp;var mp=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=c.parseArray(e.contents,[s0,di,Ai]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(mp,"PlaylistPanel");mp.type="PlaylistPanel";var qt=mp;var hp=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,qt)}};n(hp,"MusicQueue");hp.type="MusicQueue";var is=hp;var _p=class extends a{constructor(e){var i,o,s,r;super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents,Oi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new v(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=c.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=c.parseArray(e.subheaders))}};n(_p,"MusicShelf");_p.type="MusicShelf";var be=_p;var vp=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=c.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(vp,"MusicSideAlignedItem");vp.type="MusicSideAlignedItem";var r0=vp;var xp=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=c.parseItem(e.menu,Jv)}};n(xp,"MusicSortFilterButton");xp.type="MusicSortFilterButton";var gp=xp;var bp=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(bp,"MusicTastebuilderShelfThumbnail");bp.type="MusicTastebuilderShelfThumbnail";var a0=bp;var yp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,a0),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=c.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};n(yp,"MusicTasteBuilderShelf");yp.type="MusicTasteBuilderShelf";var u0=yp;var wp=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=c.parseItem(e.menu,F),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(wp,"MusicVisualHeader");wp.type="MusicVisualHeader";var l0=wp;var Tp=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=c.parseItem(e.contextualMenu),this.read=e.read}};n(Tp,"Notification");Tp.type="Notification";var c0=Tp;var Sp=class extends a{constructor(e){super(),this.title=c.parseItem(e.title,rv),this.image=c.parseItem(e.image,Mn),this.metadata=c.parseItem(e.metadata,Z_),this.actions=c.parseItem(e.actions,dv)}};n(Sp,"PageHeaderView");Sp.type="PageHeaderView";var d0=Sp;var Ip=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=c.parseItem(e.content,d0)}};n(Ip,"PageHeader");Ip.type="PageHeader";var Bi=Ip;var kp=class extends a{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(kp,"PageIntroduction");kp.type="PageIntroduction";var p0=kp;var Cp=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new v(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(Cp,"PivotButton");Cp.type="PivotButton";var f0=Cp;var Ep=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(Ep,"PlayerOverflow");Ep.type="PlayerOverflow";var m0=Ep;var Pp=class extends a{constructor(e){super(),this.overflow=c.parseItem(e.overflow,m0)}};n(Pp,"PlayerControlsOverlay");Pp.type="PlayerControlsOverlay";var CS=Pp;var Np=class extends a{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=c.parseItem(e.proceedButton,I),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Np,"PlayerErrorMessage");Np.type="PlayerErrorMessage";var ES=Np;var Ap=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(Ap,"PlayerLegacyDesktopYpcOffer");Ap.type="PlayerLegacyDesktopYpcOffer";var PS=Ap;var Rp=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(Rp,"YpcTrailer");Rp.type="YpcTrailer";var h0=Rp;var Mp=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=c.parseItem(e.ypcTrailer,h0)}};n(Mp,"PlayerLegacyDesktopYpcTrailer");Mp.type="PlayerLegacyDesktopYpcTrailer";var Vp=Mp;var Op=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};n(Op,"PlayerMicroformat");Op.type="PlayerMicroformat";var Rt=Op;var Dp=class extends a{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.byline),this.cancel_button=c.parseItem(e.cancelButton,I),this.next_button=c.parseItem(e.nextButton,I),this.close_button=c.parseItem(e.closeButton,I)}};n(Dp,"PlayerOverlayAutoplay");Dp.type="PlayerOverlayAutoplay";var _0=Dp;var Bp=class extends a{constructor(e){super(),this.results=c.parseArray(e.results,[lv,uv]),this.title=new u(e.title).toString()}};n(Bp,"WatchNextEndScreen");Bp.type="WatchNextEndScreen";var v0=Bp;var Lp=class extends a{constructor(e){super(),this.end_screen=c.parseItem(e.endScreen,v0),this.autoplay=c.parseItem(e.autoplay,_0),this.share_button=c.parseItem(e.shareButton,I),this.add_to_menu=c.parseItem(e.addToMenu,F),this.fullscreen_engagement=c.parseItem(e.fullscreenEngagement),this.actions=c.parseArray(e.actions),this.browser_media_session=c.parseItem(e.browserMediaSession),this.decorated_player_bar=c.parseItem(e.decoratedPlayerBarRenderer,nv)}};n(Lp,"PlayerOverlay");Lp.type="PlayerOverlay";var Li=Lp;var Fp=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new M(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=c.parseItem(e.saveButton),this.shuffle_play_button=c.parseItem(e.shufflePlayButton),this.menu=c.parseItem(e.moreActionsMenu),this.banner=c.parseItem(e.playlistHeaderBanner)}};n(Fp,"PlaylistHeader");Fp.type="PlaylistHeader";var x0=Fp;var Yp=class extends a{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new v(e.action)}};n(Yp,"PlaylistInfoCardContent");Yp.type="PlaylistInfoCardContent";var NS=Yp;var Up=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(Up,"PlaylistMetadata");Up.type="PlaylistMetadata";var g0=Up;var jp=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(jp,"PlaylistSidebar");jp.type="PlaylistSidebar";var AS=jp;var Wp=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=c.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new u(e.description)}};n(Wp,"PlaylistSidebarPrimaryInfo");Wp.type="PlaylistSidebarPrimaryInfo";var b0=Wp;var Hp=class extends a{constructor(e){super(),this.owner=c.parseItem(e.videoOwner),this.button=c.parseItem(e.button)}};n(Hp,"PlaylistSidebarSecondaryInfo");Hp.type="PlaylistSidebarSecondaryInfo";var y0=Hp;var Jp=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new M(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=c.parseItem(e.menu,F),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(fo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(fo))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(Jp,"PlaylistVideo");Jp.type="PlaylistVideo";var w0=Jp;var Gp=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=c.parseArray(e.contents)}};n(Gp,"PlaylistVideoList");Gp.type="PlaylistVideoList";var RS=Gp;var zp=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(zp,"Poll");zp.type="Poll";var MS=zp;var Kp=class extends Ri{constructor(e){super(e)}};n(Kp,"Post");Kp.type="Post";var T0=Kp;var $p=class extends a{constructor(e){super(),this.images=c.parseArray(e.images,S_)}};n($p,"PostMultiImage");$p.type="PostMultiImage";var VS=$p;var qp=class extends a{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(qp,"ProductListHeader");qp.type="ProductListHeader";var OS=qp;var Xp=class extends a{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new v(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=c.parseItem(e.viewButton,I)}};n(Xp,"ProductListItem");Xp.type="ProductListItem";var DS=Xp;var Qp=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Qp,"ProfileColumn");Qp.type="ProfileColumn";var BS=Qp;var Zp=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Zp,"ProfileColumnStats");Zp.type="ProfileColumnStats";var LS=Zp;var ef=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(ef,"ProfileColumnStatsEntry");ef.type="ProfileColumnStatsEntry";var FS=ef;var tf=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};n(tf,"ProfileColumnUserInfo");tf.type="ProfileColumnUserInfo";var YS=tf;var of=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n(of,"Quiz");of.type="Quiz";var US=of;var nf=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=c.parseItem(e.button,I),this.surface=e.surface}};n(nf,"RecognitionShelf");nf.type="RecognitionShelf";var jS=nf;var sf=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new v(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(sf,"ReelItem");sf.type="ReelItem";var S0=sf;var rf=class extends a{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.author=new M(e.channelNavigationEndpoint,void 0)}};n(rf,"ReelPlayerHeader");rf.type="ReelPlayerHeader";var I0=rf;var af=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Cv),this.reel_player_header_supported_renderers=c.parseItem(e.reelPlayerHeaderSupportedRenderers,I0),this.menu=c.parseItem(e.menu,F),this.next_item_button=c.parseItem(e.nextItemButton,I),this.prev_item_button=c.parseItem(e.prevItemButton,I),this.subscribe_button_renderer=c.parseItem(e.subscribeButtonRenderer,I),this.style=e.style,this.view_comments_button=c.parseItem(e.viewCommentsButton,I),this.share_button=c.parseItem(e.shareButton,I),this.pivot_button=c.parseItem(e.pivotButton,f0),this.info_panel=c.parseItem(e.infoPanel,wv)}};n(af,"ReelPlayerOverlay");af.type="ReelPlayerOverlay";var WS=af;var uf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(uf,"RelatedChipCloud");uf.type="RelatedChipCloud";var k0=uf;var lf=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.contents=c.parseArray(e.contents)}};n(lf,"RichGrid");lf.type="RichGrid";var Fi=lf;var cf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(cf,"RichItem");cf.type="RichItem";var HS=cf;var df=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(df,"RichListHeader");df.type="RichListHeader";var JS=df;var pf=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new v(e.endpoint)}};n(pf,"RichMetadata");pf.type="RichMetadata";var ff=pf;var mf=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(mf,"RichMetadataRow");mf.type="RichMetadataRow";var hf=mf;var _f=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(_f,"RichSection");_f.type="RichSection";var GS=_f;var vf=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}};n(vf,"RichShelf");vf.type="RichShelf";var C0=vf;var xf=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=c.parseItem(e.searchButton,I),this.clear_button=c.parseItem(e.clearButton,I),this.placeholder_text=new u(e.placeholderText)}};n(xf,"SearchBox");xf.type="SearchBox";var zS=xf;var gf=class extends a{constructor(e){super(),this.label=new u(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(gf,"SearchFilter");gf.type="SearchFilter";var E0=gf;var bf=class extends a{constructor(e){super(),this.title=new u(e.title),this.filters=c.parseArray(e.filters,E0)}};n(bf,"SearchFilterGroup");bf.type="SearchFilterGroup";var os=bf;var yf=class extends a{constructor(e){super(),this.title=new u(e.title),this.groups=c.parseArray(e.groups,os)}};n(yf,"SearchFilterOptionsDialog");yf.type="SearchFilterOptionsDialog";var KS=yf;var wf=class extends a{constructor(e){super(),this.chip_bar=c.parseItem(e.chipBar,ct),this.search_filter_button=c.parseItem(e.searchFilterButton,I)}};n(wf,"SearchHeader");wf.type="SearchHeader";var P0=wf;var Tf=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=c.parseArray(e.groups,os)),Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,Ve))}};n(Tf,"SearchSubMenu");Tf.type="SearchSubMenu";var N0=Tf;var Sf=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(Sf,"SearchSuggestionsSection");Sf.type="SearchSuggestionsSection";var A0=Sf;var If=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(If,"SecondarySearchContainer");If.type="SecondarySearchContainer";var $S=If;var kf=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,[Ve,I]),this.dislike_button=c.parseItem(e.dislikeButton,[Ve,I])}};n(kf,"SegmentedLikeDislikeButton");kf.type="SegmentedLikeDislikeButton";var Io=kf;var Cf=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(Cf,"SettingBoolean");Cf.type="SettingBoolean";var qS=Cf;var Ef=class extends a{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(Ef,"SettingsCheckbox");Ef.type="SettingsCheckbox";var R0=Ef;var Pf=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};n(Pf,"SettingsSwitch");Pf.type="SettingsSwitch";var ns=Pf;var Nf=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=c.parseArray(e.options,[ns,Pn,ev,R0,O_]))}};n(Nf,"SettingsOptions");Nf.type="SettingsOptions";var ss=Nf;var Af=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items,zn)}get contents(){return this.items}};n(Af,"SettingsSidebar");Af.type="SettingsSidebar";var M0=Af;var Rf=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=se(e.actionMenu,F),this.original_post=se(e.originalPost,Ri),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=se(e.expandButton,I),this.author=new M(e.displayName,void 0)}};n(Rf,"SharedPost");Rf.type="SharedPost";var V0=Rf;var Mf=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint)),this.content=c.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=c.parseItem(e.playAllButton,I))}};n(Mf,"Shelf");Mf.type="Shelf";var rs=Mf;var Vf=class extends a{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(Vf,"ShowingResultsFor");Vf.type="ShowingResultsFor";var O0=Vf;var Of=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new v(e.command)}};n(Of,"SimpleCardContent");Of.type="SimpleCardContent";var XS=Of;var Df=class extends a{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(Df,"SimpleCardTeaser");Df.type="SimpleCardTeaser";var QS=Df;var Bf=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n(Bf,"SimpleTextSection");Bf.type="SimpleTextSection";var ZS=Bf;var Lf=class extends a{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};n(Lf,"SingleActionEmergencySupport");Lf.type="SingleActionEmergencySupport";var eI=Lf;var Ff=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new v(e.endpoint),this.content=c.parseItem(e.content,[Q,is,Fi])}};n(Ff,"Tab");Ff.type="Tab";var xe=Ff;var Yf=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,xe)}};n(Yf,"SingleColumnBrowseResults");Yf.type="SingleColumnBrowseResults";var Xt=Yf;var Uf=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(Uf,"SingleColumnMusicWatchNextResults");Uf.type="SingleColumnMusicWatchNextResults";var tI=Uf;var jf=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};n(jf,"SingleHeroImage");jf.type="SingleHeroImage";var iI=jf;var Wf=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,We)}};n(Wf,"SlimOwner");Wf.type="SlimOwner";var oI=Wf;var Hf=class extends a{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=c.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(Hf,"SlimVideoMetadata");Hf.type="SlimVideoMetadata";var D0=Hf;var Jf=class extends a{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};n(Jf,"SubFeedOption");Jf.type="SubFeedOption";var B0=Jf;var Gf=class extends a{constructor(e){super(),this.title=new u(e.title),this.options=c.parseArray(e.options,B0)}};n(Gf,"SubFeedSelector");Gf.type="SubFeedSelector";var nI=Gf;var zf=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(zf,"Tabbed");zf.type="Tabbed";var sI=zf;var Kf=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,xe)}};n(Kf,"TabbedSearchResults");Kf.type="TabbedSearchResults";var L0=Kf;var $f=class extends a{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n($f,"TextHeader");$f.type="TextHeader";var rI=$f;var qf=class extends a{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};n(qf,"ThumbnailLandscapePortrait");qf.type="ThumbnailLandscapePortrait";var aI=qf;var Xf=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(Xf,"ThumbnailOverlayEndorsement");Xf.type="ThumbnailOverlayEndorsement";var uI=Xf;var Qf=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(Qf,"ThumbnailOverlayHoverText");Qf.type="ThumbnailOverlayHoverText";var lI=Qf;var Zf=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(Zf,"ThumbnailOverlayInlineUnplayable");Zf.type="ThumbnailOverlayInlineUnplayable";var cI=Zf;var em=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(em,"ThumbnailOverlayLoadingPreview");em.type="ThumbnailOverlayLoadingPreview";var dI=em;var tm=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(tm,"ThumbnailOverlayNowPlaying");tm.type="ThumbnailOverlayNowPlaying";var pI=tm;var im=class extends a{constructor(e){super(),this.hack=e.hack}};n(im,"ThumbnailOverlayPinking");im.type="ThumbnailOverlayPinking";var fI=im;var om=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(om,"ThumbnailOverlayPlaybackStatus");om.type="ThumbnailOverlayPlaybackStatus";var mI=om;var nm=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(nm,"ThumbnailOverlayResumePlayback");nm.type="ThumbnailOverlayResumePlayback";var hI=nm;var sm=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(sm,"ThumbnailOverlaySidePanel");sm.type="ThumbnailOverlaySidePanel";var _I=sm;var rm=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new v(e.toggledServiceEndpoint),this.untoggled_endpoint=new v(e.untoggledServiceEndpoint)}};n(rm,"ThumbnailOverlayToggleButton");rm.type="ThumbnailOverlayToggleButton";var vI=rm;var am=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(am,"TimedMarkerDecoration");am.type="TimedMarkerDecoration";var xI=am;var um=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(um,"TitleAndButtonListHeader");um.type="TitleAndButtonListHeader";var gI=um;var lm=class extends a{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};n(lm,"ToggleMenuServiceItem");lm.type="ToggleMenuServiceItem";var bI=lm;var cm=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(cm,"Tooltip");cm.type="Tooltip";var yI=cm;var dm=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=c.parseItem(e.subscribeButton,We),this.endpoint=new v(e.navigationEndpoint)}};n(dm,"TopicChannelDetails");dm.type="TopicChannelDetails";var wI=dm;var pm=class extends a{constructor(e){super(),this.tabs=c.parse(e.tabs),this.secondary_contents=c.parse(e.secondaryContents)}};n(pm,"TwoColumnBrowseResults");pm.type="TwoColumnBrowseResults";var Qt=pm;var fm=class extends a{constructor(e){super(),this.primary_contents=c.parse(e.primaryContents),this.secondary_contents=c.parse(e.secondaryContents)}};n(fm,"TwoColumnSearchResults");fm.type="TwoColumnSearchResults";var F0=fm;var Y0,bb,mm=class extends a{constructor(e){var i,o,s,r,l;super(),Y0.add(this),this.results=c.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=c.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=c.parseItem(e==null?void 0:e.conversationBar);let p=(s=e.playlist)===null||s===void 0?void 0:s.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((r=p.shortBylineText)===null||r===void 0)&&r.simpleText?new u(p.shortBylineText):new M(p.longBylineText),contents:c.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:c.parseItem(p.menu,F)});let f=(l=e.autoplay)===null||l===void 0?void 0:l.autoplay;f&&(this.autoplay={sets:f.sets.map(h=>d(this,Y0,"m",bb).call(this,h))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(h=>d(this,Y0,"m",bb).call(this,h))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(mm,"TwoColumnWatchNextResults");Y0=new WeakSet,bb=n(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");mm.type="TwoColumnWatchNextResults";var as=mm;var hm=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.call_to_action=c.parseItem(e.callToAction),this.sections=c.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(hm,"UniversalWatchCard");hm.type="UniversalWatchCard";var U0=hm;var _m=class extends a{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=c.parseItem(e.actionButton,I),this.dismiss_button=c.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};n(_m,"UpsellDialog");_m.type="UpsellDialog";var TI=_m;var vm=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(vm,"VerticalList");vm.type="VerticalList";var SI=vm;var xm=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}get contents(){return this.items}};n(xm,"VerticalWatchCardList");xm.type="VerticalWatchCardList";var II=xm;var gm=class extends a{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new v(e.action)}};n(gm,"VideoInfoCardContent");gm.type="VideoInfoCardContent";var kI=gm;var bm=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(bm,"VideoOwner");bm.type="VideoOwner";var us=bm;var ym=class extends a{constructor(e){var i,o,s,r;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((r=(s=e.viewCount)===null||s===void 0?void 0:s.videoViewCountRenderer)===null||r===void 0?void 0:r.shortViewCount),this.badges=c.parseArray(e.badges,ot),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=c.parseItem(e.videoActions,F)}};n(ym,"VideoPrimaryInfo");ym.type="VideoPrimaryInfo";var j0=ym;var wm=class extends a{constructor(e){super(),this.owner=c.parseItem(e.owner,us),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=c.parseItem(e.subscribeButton,[We,I]),this.metadata=c.parseItem(e.metadataRowContainer,Kv),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(wm,"VideoSecondaryInfo");wm.type="VideoSecondaryInfo";var Tm=wm;var Sm=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Be(e.lengthText.simpleText)},this.style=e.style}};n(Sm,"WatchCardCompactVideo");Sm.type="WatchCardCompactVideo";var W0=Sm;var Im=class extends a{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=c.parseItem(e.callToActionButton),this.hero_image=c.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(Im,"WatchCardHeroVideo");Im.type="WatchCardHeroVideo";var CI=Im;var km=class extends a{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new M(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(km,"WatchCardRichHeader");km.type="WatchCardRichHeader";var EI=km;var Cm=class extends a{constructor(e){super(),this.lists=c.parseArray(e.lists)}};n(Cm,"WatchCardSectionSequence");Cm.type="WatchCardSectionSequence";var PI=Cm;var Em=class extends Qt{constructor(e){super(e)}};n(Em,"WatchNextTabbedResults");Em.type="WatchNextTabbedResults";var H0=Em;var Pm=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=c.parseItem(e.content,Q),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(Pm,"AnchoredSection");Pm.type="AnchoredSection";var J0=Pm;var Nm,Am=class extends a{constructor(e){super(),Nm.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=y.fromResponse(e.avatar),this.block_button=c.parseItem(e.blockButton,[Ve]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return b(this,void 0,void 0,function*(){if(!d(this,Nm,"f"))throw new x("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new x("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new x("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(d(this,Nm,"f"),{parse:!1})})}setActions(e){S(this,Nm,e,"f")}};n(Am,"KidsBlocklistPickerItem");Nm=new WeakMap;Am.type="KidsBlocklistPickerItem";var ls=Am;var Rm=class extends a{constructor(e){super(),this.title=new u(e.title),this.child_rows=c.parse(e.childRows,!0,[ls]),this.done_button=c.parseItem(e.doneButton,[I]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n(Rm,"KidsBlocklistPicker");Rm.type="KidsBlocklistPicker";var NI=Rm;var Mm=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};n(Mm,"KidsCategoryTab");Mm.type="KidsCategoryTab";var cs=Mm;var Vm=class extends a{constructor(e){super(),this.category_tabs=c.parseArray(e.categoryTabs,cs),this.privacy_button=c.parseItem(e.privacyButtonRenderer,I)}};n(Vm,"KidsCategoriesHeader");Vm.type="kidsCategoriesHeader";var G0=Vm;var Om=class extends a{constructor(e){super(),this.anchors=c.parseArray(e.anchors,J0)}};n(Om,"KidsHomeScreen");Om.type="kidsHomeScreen";var z0=Om;var Pb={};D(Pb,{camelToSnake:()=>ko,createRuntimeClass:()=>OI,generateRuntimeClass:()=>Lm,generateTypescriptClass:()=>K0,inferType:()=>wb,introspect:()=>Sb,isIgnoredKey:()=>VI,isMiscType:()=>MI,isRenderer:()=>Tb,isRendererList:()=>RI,mergeKeyInfo:()=>Eb,parse:()=>Cb,toParser:()=>kb,toTypeDeclaration:()=>Ib});var Vk=new Set(["trackingParams","accessibility","accessibilityData"]),yb={};function ko(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(ko,"camelToSnake");function wb(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Tb(e))return yb[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=RI(e)){for(let[s,r]of Object.entries(i))yb[s]=r;return{type:"renderer_list",renderers:Object.keys(i),optional:!1}}if(i=MI(t,e))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([s,r])=>[s,wb(s,r)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(wb,"inferType");function RI(t){return Array.isArray(t)&&t.every(o=>Tb(o))?Object.fromEntries(t.map(o=>{let s=Reflect.ownKeys(o)[0].toString();return[Fm(s),o[s]]})):!1}n(RI,"isRendererList");function MI(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new v(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(MI,"isMiscType");function Tb(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);return i.length===1&&i[0].toString().includes("Renderer")?Fm(i[0].toString()):!1}n(Tb,"isRenderer");function Ok(t){if(typeof t!="object"||t===null)throw new x("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!VI(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),s=wb(i,o);return[i,s]})}n(Ok,"introspectKeysFirstPass");function Dk(t){var e;let o=t.filter(([,p])=>{var f;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((f=p.endpoint)===null||f===void 0?void 0:f.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,f])=>p.type!=="misc"||f.type!=="misc"||p.misc_type!=="Text"||f.misc_type!=="Text"?0:f.text.length-p.text.length),s=new Set,r=o[0],l;if(r){s.add(r[0]);let f=t.map(([T])=>T).filter(T=>T.endsWith("Badges")||T==="badges"),_=(e=f.filter(T=>T.startsWith("owner")||T.startsWith("author"))[0])!==null&&e!==void 0?e:f[0],g=t.find(([T])=>T===_),w=g?g[1].type==="renderer_list"&&Reflect.has(g[1].renderers,"MetadataBadge"):!1;w&&_&&s.add(_),l={type:"misc",misc_type:"Author",optional:!1,params:[r[0],w?_:void 0]}}return l&&t.push(["author",l]),t.filter(([p])=>!s.has(p))}n(Dk,"introspectKeysSecondPass");function Bk(t){let e=Ok(t);return Dk(e)}n(Bk,"introspect2");function Sb(t){let e=Bk(t),i=new Map;for(let[,s]of e)if(s.type==="renderer"||s.type==="renderer_list")for(let r of s.renderers){let l=yb[r];l&&i.set(r,l)}let o=Array.from(i).filter(([s])=>!$0(s));return{key_info:e,unimplemented_dependencies:o}}n(Sb,"introspect");function VI(t){return typeof t=="string"&&Vk.has(t)}n(VI,"isIgnoredKey");function OI(t,e,i){var o,s;i({error_type:"class_not_found",classname:t,key_info:e});let r=(o=n(class extends a{static set key_info(l){S(this,o,new Map(l),"f",s)}static get key_info(){return[...d(this,o,"f",s).entries()]}constructor(l){super();let{key_info:p,unimplemented_dependencies:f}=Sb(l),{resolved_key_info:h,changed_keys:_}=Eb(r.key_info,p);_.length>0&&(r.key_info=h,i({error_type:"class_changed",classname:t,key_info:r.key_info,changed_keys:_}));for(let[w,T]of f)Lm(w,T,i);for(let[w,T]of p){let C=ko(w);T.type==="misc"&&T.misc_type==="NavigationEndpoint"&&(C="endpoint"),Reflect.set(this,C,Cb(w,T,l))}}},"_a"),Vy(o,"node"),o.type=t,s={value:new Map},o);return r.key_info=e,Object.defineProperty(r,"name",{value:t,writable:!1}),r}n(OI,"createRuntimeClass");function Lm(t,e,i){let{key_info:o,unimplemented_dependencies:s}=Sb(e),r=OI(t,o,i);Nb(t,r);for(let[l,p]of s)Lm(l,p,i);return r}n(Lm,"generateRuntimeClass");function K0(t,e){let i=[],o=["super();"];for(let[s,r]of e){let l=ko(s);r.type==="misc"&&r.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${r.optional?"?":""}: ${Ib(r)};`),o.push(`this.${l} = ${kb(s,r)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(K0,"generateTypescriptClass");function Ib(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"object":return`{
${t.keys.map(([i,o])=>`${" ".repeat((e+2)*2)}${ko(i)}${o.optional?"?":""}: ${Ib(o,e+1)}`).join(`,
`)}
${" ".repeat((e+1)*2)}}`;case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}n(Ib,"toTypeDeclaration");function kb(t,e,i=["data"],o=1){let s="undefined";switch(e.type){case"renderer":s=`Parser.parseItem(${i.join(".")}.${t}, [ ${e.renderers.map(r=>`YTNodes.${r}`).join(", ")} ])`;break;case"renderer_list":s=`Parser.parse(${i.join(".")}.${t}, true, [ ${e.renderers.map(r=>`YTNodes.${r}`).join(", ")} ])`;break;case"object":{let r=[...i,t];s=`{
${e.keys.map(([l,p])=>`${" ".repeat((o+2)*2)}${ko(l)}: ${kb(l,p,r,o+1)}`).join(`,
`)}
${" ".repeat((o+1)*2)}}`}break;case"misc":switch(e.misc_type){case"Thumbnail":s=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let r=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${r} : undefined`:r}default:s=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(s==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":s=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${s} : undefined`:s}n(kb,"toParser");function Yi(t,e){let i=t;for(let o of e)i=i[o];return i}n(Yi,"accessDataFromKeyPath");function AI(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(AI,"hasDataFromKeyPath");function Cb(t,e,i,o=["data"]){let s=!e.optional||AI({data:i},[...o,t]);switch(e.type){case"renderer":return s?se(Yi({data:i},[...o,t]),e.renderers.map(r=>Bm(r))):void 0;case"renderer_list":return s?Ge(Yi({data:i},[...o,t]),!0,e.renderers.map(r=>Bm(r))):void 0;case"object":{let r={},l=[...o,t];for(let[p,f]of e.keys)r[p]=s?Cb(p,f,i,l):void 0;return r}case"misc":switch(e.misc_type){case"NavigationEndpoint":return s?new v(Yi({data:i},[...o,t])):void 0;case"Text":return s?new u(Yi({data:i},[...o,t])):void 0;case"Thumbnail":return s?y.fromResponse(Yi({data:i},[...o,t])):void 0;case"Author":return!e.optional||AI({data:i},[...o,e.params[0]])?new M(Yi({data:i},[...o,e.params[0]]),e.params[1]?Yi({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return Yi({data:i},[...o,t])}}n(Cb,"parse");function Eb(t,e){let i=new Map,o=new Set(t.map(([w])=>w)),s=new Set(e.map(([w])=>w)),r=e.filter(([w])=>!o.has(w)),l=t.filter(([w])=>!s.has(w)),p=t.filter(([w])=>s.has(w)),f=new Map(e);for(let[w,T]of p){let C=f.get(w);if(!!C){if(T.type!==C.type){i.set(w,{type:"unknown",optional:!0});continue}switch(T.type){case"object":{if(C.type!=="object")continue;let{resolved_key_info:N}=Eb(T.keys,C.keys),R={type:"object",keys:N,optional:T.optional||C.optional};JSON.stringify(R)!==JSON.stringify(T)&&i.set(w,R)}break;case"renderer":{if(C.type!=="renderer")continue;let N=Object.assign(Object.assign({},T.renderers),C.renderers),R=T.optional||C.optional,O={type:"renderer",renderers:N,optional:R};JSON.stringify(Object.assign(Object.assign({},O),{renderers:Object.keys(O.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(w,O)}break;case"renderer_list":{if(C.type!=="renderer_list")continue;let N=Object.assign(Object.assign({},T.renderers),C.renderers),R=T.optional||C.optional,O={type:"renderer_list",renderers:N,optional:R};JSON.stringify(Object.assign(Object.assign({},O),{renderers:Object.keys(O.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(w,O)}break;case"misc":{if(C.type!=="misc")continue;switch(T.misc_type!==C.misc_type&&i.set(w,{type:"unknown",optional:!0}),T.misc_type){case"Author":{if(C.misc_type!=="Author")break;let N=T.params[1]||C.params[1],R=T.optional||C.optional,O={type:"misc",misc_type:"Author",optional:R,params:[C.params[0],N]};JSON.stringify(O)!==JSON.stringify(T)&&i.set(w,O)}break}}break;case"primative":{if(C.type!=="primative")continue;let N={type:"primative",typeof:Array.from(new Set([...C.typeof,...T.typeof])),optional:T.optional||C.optional};JSON.stringify(N)!==JSON.stringify(T)&&i.set(w,N)}break}}}for(let[w,T]of r)i.set(w,Object.assign(Object.assign({},T),{optional:!0}));for(let[w,T]of l)i.set(w,Object.assign(Object.assign({},T),{optional:!0}));let h=t.filter(([w])=>!i.has(w));return{resolved_key_info:[...new Map([...h,...i]).entries()],changed_keys:[...i.entries()]}}n(Eb,"mergeKeyInfo");var Ui=class extends a{constructor(e){var i,o,s;super(),this.contents=Je(e.contents),Array.isArray(e.continuations)&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(Ui,"ItemSectionContinuation");Ui.type="itemSectionContinuation";var ji=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint)}};n(ji,"NavigateAction");ji.type="navigateAction";var ds=class extends a{constructor(e){super(),this.miniplayer_command=new v(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(ds,"ShowMiniplayerCommand");ds.type="showMiniplayerCommand";var Wi=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=Ge(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(Wi,"ReloadContinuationItemsCommand");Wi.type="reloadContinuationItemsCommand";var nt=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.contents=Ge(e.contents,!0),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(nt,"SectionListContinuation");nt.type="sectionListContinuation";var Hi=class extends a{constructor(e){var i;super(),this.contents=Ge(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(Hi,"MusicPlaylistShelfContinuation");Hi.type="musicPlaylistShelfContinuation";var Zt=class extends a{constructor(e){var i,o,s,r;super(),this.contents=Je(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(Zt,"MusicShelfContinuation");Zt.type="musicShelfContinuation";var Ji=class extends a{constructor(e){var i;super(),this.items=Ge(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(Ji,"GridContinuation");Ji.type="gridContinuation";var ps=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.contents=Je(e.contents),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(ps,"PlaylistPanelContinuation");ps.type="playlistPanelContinuation";var Co=class extends a{constructor(e){var i,o,s;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(s=e.continuation)===null||s===void 0?void 0:s.continuation}};n(Co,"Continuation");Co.type="continuation";var Gi=class extends a{constructor(e){var i,o,s,r,l,p,f,h;super(),this.actions=Ge((i=e.actions)===null||i===void 0?void 0:i.map(w=>(delete w.clickTrackingParams,w)),!0)||ae([]),this.action_panel=se(e.actionPanel),this.item_list=se(e.itemList,Yv),this.header=se(e.header,Fv),this.participants_list=se(e.participantsList,jv),this.popout_message=se(e.popoutMessage,He),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(w=>({emoji_id:w.emojiId,shortcuts:w.shortcuts,search_terms:w.searchTerms,image:y.fromResponse(w.image),is_custom_emoji:w.isCustomEmoji})))||[];let _,g;!((s=e.continuations)===null||s===void 0)&&s[0].timedContinuationData?(g="timed",_=(r=e.continuations)===null||r===void 0?void 0:r[0].timedContinuationData):!((l=e.continuations)===null||l===void 0)&&l[0].invalidationContinuationData?(g="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(g="replay",_=(h=e.continuations)===null||h===void 0?void 0:h[0].liveChatReplayContinuationData),this.continuation=new Co({continuation:_,type:g}),this.viewer_name=e.viewerName}};n(Gi,"LiveChatContinuation");Gi.type="liveChatContinuation";var pi=class extends a{constructor(e){super(),this.request=e.request,this.token=e.token}};n(pi,"ContinuationCommand");pi.type="ContinuationCommand";var Lk=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Mb=new Map(Object.entries(Dm)),DI=new Map,Po=null,Eo=n(t=>{var{classname:e}=t,i=My(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&console.warn(new x(`Something went wrong at ${e}!
This is a bug, please report it at ${B.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":console.warn(new _t(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":console.warn(new x(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${B.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new x(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${B.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new x(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${B.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${B.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${K0(e,i.key_info)}`));break;case"class_changed":console.warn(`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>ko(o)).join(", ")}
The class has changed to:
${K0(e,i.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function Fk(t){Eo=t}n(Fk,"setParserErrorHandler");function Mt(){Po=null}n(Mt,"_clearMemo");function Vt(){Po=new Si}n(Vt,"_createMemo");function Yk(t,e){if(!Po)return;let i=Po.get(t);if(!i)return Po.set(t,[e]);i.push(e)}n(Yk,"_addToMemo");function Ot(){if(!Po)throw new Error("Parser#getMemo() called before Parser#createMemo()");return Po}n(Ot,"_getMemo");function BI(t){return Lk.has(t)}n(BI,"shouldIgnore");function Fm(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(Fm,"sanitizeClassName");function Bm(t){let e=Mb.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(Bm,"getParserByName");function $0(t){return Mb.has(t)}n($0,"hasParser");function Nb(t,e){Mb.set(t,e),DI.set(t,e)}n(Nb,"addRuntimeParser");function Uk(){return Object.fromEntries(DI)}n(Uk,"getDynamicParsers");function jk(t){var e,i;let o={};Vt();let s=Ge(t.contents),r=Ot();s&&(o.contents=s,o.contents_memo=r),Mt(),Vt();let l=t.onResponseReceivedActions?q0(t.onResponseReceivedActions):null,p=Ot();l&&(o.on_response_received_actions=l,o.on_response_received_actions_memo=p),Mt(),Vt();let f=t.onResponseReceivedEndpoints?q0(t.onResponseReceivedEndpoints):null,h=Ot();f&&(o.on_response_received_endpoints=f,o.on_response_received_endpoints_memo=h),Mt(),Vt();let _=t.onResponseReceivedCommands?q0(t.onResponseReceivedCommands):null,g=Ot();_&&(o.on_response_received_commands=_,o.on_response_received_commands_memo=g),Mt(),Vt();let w=t.continuationContents?Ab(t.continuationContents):null,T=Ot();w&&(o.continuation_contents=w,o.continuation_contents_memo=T),Mt(),Vt();let C=t.actions?FI(t.actions):null,N=Ot();C&&(o.actions=C,o.actions_memo=N),Mt(),Vt();let R=t.liveChatItemContextMenuSupportedRenderers?se(t.liveChatItemContextMenuSupportedRenderers):null,O=Ot();R&&(o.live_chat_item_context_menu_supported_renderers=R,o.live_chat_item_context_menu_supported_renderers_memo=O),Mt(),Vt();let q=t.header?Ge(t.header):null,z=Ot();q&&(o.header=q,o.header_memo=z),Mt(),Vt();let me=t.sidebar?se(t.sidebar):null,ge=Ot();me&&(o.sidebar=me,o.sidebar_memo=ge),Mt(),Vt();let Te=Ge(t.items);Te&&(o.items=Te,o.items_memo=Ot()),Mt(),Vt();let Se=Ge(t.entries);Se&&(o.entries=Se,o.entries_memo=Ot()),Mt(),YI(r,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations);let Ae=t.continuation?LI(t.continuation):null;Ae&&(o.continuation=Ae);let K=t.continuationEndpoint?Ab(t.continuationEndpoint):null;K&&(o.continuationEndpoint=K);let J=Ge(t.metadata);J&&(o.metadata=J);let X=se(t.microformat);X&&(o.microformat=X);let ie=se(t.overlay);ie&&(o.overlay=ie);let Re=Je(t.alerts,[Nn,Bh]);Re.length&&(o.alerts=Re);let ut=t.refinements;ut&&(o.refinements=ut);let lt=t.estimatedResults?parseInt(t.estimatedResults):null;lt&&(o.estimated_results=lt);let $=Ge(t.playerOverlays);$&&(o.player_overlays=$);let Ye=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Ye&&(o.playback_tracking=Ye);let Wt=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:se(t.playabilityStatus.audioOnlyPlayability,Ch),error_screen:se(t.playabilityStatus.errorScreen)}:null;if(Wt&&(o.playability_status=Wt),t.streamingData){let Cn=new Map,Vr={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Rb(t.streamingData.formats,Cn),adaptive_formats:Rb(t.streamingData.adaptiveFormats,Cn),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};o.streaming_data=Vr}let Ht=t.currentVideoEndpoint?new v(t.currentVideoEndpoint):null;Ht&&(o.current_video_endpoint=Ht);let Ie=t.endpoint?new v(t.endpoint):null;Ie&&(o.endpoint=Ie);let tt=se(t.captions,Oh);tt&&(o.captions=tt);let yn=t.videoDetails?new Ni(t.videoDetails):null;yn&&(o.video_details=yn);let wn=Je(t.annotations,Vh);wn.length&&(o.annotations=wn);let Tn=se(t.storyboards,[co,Dh]);Tn&&(o.storyboards=Tn);let Sn=se(t.endscreen,Mh);Sn&&(o.endscreen=Sn);let In=se(t.cards,Rh);In&&(o.cards=In);let kn=Je(t.engagementPanels,Ln);return kn.length&&(o.engagement_panels=kn),o}n(jk,"parseResponse");function se(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=Fm(i[0]);if(!BI(o))try{let r=$0(o)?Bm(o):Lm(o,t[i[0]],Eo);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===r.type))return Eo({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(r.type!==e.type)return Eo({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let l=new r(t[i[0]]);return Yk(o,l),l}catch(s){return Eo({classname:o,classdata:t[i[0]],error:s,error_type:"parse"}),null}return null}n(se,"parseItem");function Je(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let s=se(o,e);s&&i.push(s)}return ae(i)}else if(!t)return ae([]);throw new _t("Expected array but got a single item")}n(Je,"parseArray");function Ge(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let r of t){let l=se(r,i);l&&o.push(l)}let s=ae(o);return e?s:new Gt(s)}else if(e)throw new _t("Expected array but got a single item");return new Gt(se(t,i))}n(Ge,"parse");function LI(t){return t.timedContinuationData?new Co({continuation:t.timedContinuationData,type:"timed"}):null}n(LI,"parseC");function Ab(t){return t.itemSectionContinuation?new Ui(t.itemSectionContinuation):t.sectionListContinuation?new nt(t.sectionListContinuation):t.liveChatContinuation?new Gi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new Hi(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new Zt(t.musicShelfContinuation):t.gridContinuation?new Ji(t.gridContinuation):t.playlistPanelContinuation?new ps(t.playlistPanelContinuation):t.continuationCommand?new pi(t.continuationCommand):null}n(Ab,"parseLC");function q0(t){return ae(t.map(e=>{if(e.navigateAction)return new ji(e.navigateAction);if(e.showMiniplayerCommand)return new ds(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new Wi(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new ho(e.appendContinuationItemsAction)}).filter(e=>e))}n(q0,"parseRR");function FI(t){return Array.isArray(t)?Ge(t.map(e=>(delete e.clickTrackingParams,e))):new Gt(se(t))}n(FI,"parseActions");function Rb(t,e){return(t==null?void 0:t.map(i=>new u_(i,e)))||[]}n(Rb,"parseFormats");function YI(t,e){let i=t.getType(Ct);if(i.length>0&&!e)Eo({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let s of i){let r=e.find(p=>{var f,h;return((h=(f=p.payload)===null||f===void 0?void 0:f.musicFormBooleanChoice)===null||h===void 0?void 0:h.id)===s.form_item_entity_key}),l=r==null?void 0:r.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?s.selected=l.selected:o.push(`'${s.title}'`)}o.length>0&&Eo({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(YI,"applyMutations");var Jb={};D(Jb,{AccountInfo:()=>Q0,Analytics:()=>ex,Channel:()=>Pe,ChannelListContinuation:()=>Oo,Comments:()=>ix,FilteredChannelList:()=>$i,Guide:()=>nx,HashtagFeed:()=>ti,History:()=>gs,HomeFeed:()=>Dt,ItemMenu:()=>ux,Library:()=>dx,LiveChat:()=>gx,NotificationsMenu:()=>bx,Playlist:()=>fi,Search:()=>yx,Settings:()=>wx,SmoothedQueue:()=>hx,TimeWatched:()=>Sx,VideoInfo:()=>ih});var fs,X0=class{constructor(e){if(fs.set(this,void 0),S(this,fs,c.parseResponse(e.data),"f"),!d(this,fs,"f").contents)throw new x("Page contents not found");let i=d(this,fs,"f").contents.array().as(h_).first();if(!i)throw new x("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return d(this,fs,"f")}};n(X0,"AccountInfo");fs=new WeakMap;var Q0=X0;var Ym,Z0=class{constructor(e){var i;Ym.set(this,void 0),S(this,Ym,c.parseResponse(e.data),"f"),this.sections=(i=d(this,Ym,"f").contents_memo)===null||i===void 0?void 0:i.getType(qn).map(o=>o.model).flatMap(o=>o||[])}get page(){return d(this,Ym,"f")}};n(Z0,"Analytics");Ym=new WeakMap;var ex=Z0;var Um,ze,No,jm,st,UI,Vb,zi=class{constructor(e,i,o=!1){Um.add(this),ze.set(this,void 0),No.set(this,void 0),jm.set(this,void 0),st.set(this,void 0),d(this,Um,"m",UI).call(this,i)||o?S(this,ze,i,"f"):S(this,ze,c.parseResponse(i.data),"f");let s=Ob(d(this,ze,"f").contents_memo,d(this,ze,"f").continuation_contents_memo,d(this,ze,"f").on_response_received_commands_memo,d(this,ze,"f").on_response_received_endpoints_memo,d(this,ze,"f").on_response_received_actions_memo,d(this,ze,"f").sidebar_memo,d(this,ze,"f").header_memo);if(!s)throw new x("No memo found in feed");S(this,st,s,"f"),S(this,jm,e,"f")}static getVideosFromMemo(e){return e.getType(Rn,_v,S0,On,w0,di,W0)}static getPlaylistsFromMemo(e){return e.getType(zt,fv)}get videos(){return zi.getVideosFromMemo(d(this,st,"f"))}get posts(){return d(this,st,"f").getType(Ri,T0,V0)}get channels(){return d(this,st,"f").getType(M_,pv)}get playlists(){return zi.getPlaylistsFromMemo(d(this,st,"f"))}get memo(){return d(this,st,"f")}get page_contents(){var e;let i=(e=d(this,st,"f").getType(xe))===null||e===void 0?void 0:e.first().content,o=d(this,st,"f").getType(Wi).first(),s=d(this,st,"f").getType(ho).first();return i||o||s}get shelves(){return d(this,st,"f").getType(rs,C0,Bn)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=d(this,ze,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=d(this,ze,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(Qt,F0))return o.secondary_contents}get actions(){return d(this,jm,"f")}get page(){return d(this,ze,"f")}get has_continuation(){return d(this,Um,"m",Vb).call(this).length>0}getContinuationData(){return b(this,void 0,void 0,function*(){if(d(this,No,"f")){if(d(this,No,"f").length===0)throw new x("There are no continuations.");return yield d(this,No,"f")[0].endpoint.call(d(this,jm,"f"),{parse:!0})}if(S(this,No,d(this,Um,"m",Vb).call(this),"f"),d(this,No,"f"))return this.getContinuationData()})}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new x("Could not get continuation data");return new zi(this.actions,e,!0)})}};n(zi,"Feed");ze=new WeakMap,No=new WeakMap,jm=new WeakMap,st=new WeakMap,Um=new WeakSet,UI=n(function(e){return!("data"in e)},"_Feed_isParsed"),Vb=n(function(){if(d(this,ze,"f").header_memo){let e=d(this,ze,"f").header_memo.getType(he);return d(this,st,"f").getType(he).filter(i=>!e.includes(i))}return d(this,st,"f").getType(he)},"_Feed_getBodyContinuations");var fe=zi;var Ao,Ro,Mo=class extends fe{constructor(e,i,o=!1){var s;super(e,i,o),Ao.set(this,void 0),Ro.set(this,void 0),S(this,Ro,e,"f"),S(this,Ao,(s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(xe),"f")}get tabs(){var e,i;return(i=(e=d(this,Ao,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return b(this,void 0,void 0,function*(){let o=(i=d(this,Ao,"f"))===null||i===void 0?void 0:i.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!o)throw new x(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(d(this,Ro,"f"));return new Mo(d(this,Ro,"f"),s,!1)})}getTabByURL(e){var i;return b(this,void 0,void 0,function*(){let o=(i=d(this,Ao,"f"))===null||i===void 0?void 0:i.find(r=>{var l;return((l=r.endpoint.metadata.url)===null||l===void 0?void 0:l.split("/").pop())===e});if(!o)throw new x(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(d(this,Ro,"f"));return new Mo(d(this,Ro,"f"),s,!1)})}hasTabWithURL(e){var i,o;return(o=(i=d(this,Ao,"f"))===null||i===void 0?void 0:i.some(s=>{var r;return((r=s.endpoint.metadata.url)===null||r===void 0?void 0:r.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(xe))===null||i===void 0?void 0:i.find(s=>s.selected))===null||o===void 0?void 0:o.title.toString()}};n(Mo,"TabbedFeed");Ao=new WeakMap,Ro=new WeakMap;var Vo=Mo;var ms,tx=class extends fe{constructor(e,i,o=!1){super(e,i,o),ms.set(this,void 0)}get filter_chips(){var e,i;if(d(this,ms,"f"))return d(this,ms,"f")||[];if(((e=this.memo.getType(ci))===null||e===void 0?void 0:e.length)>1)throw new x("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(ci))===null||i===void 0?void 0:i.length)===0)throw new x("There are no feed filter chipbars");return S(this,ms,this.memo.getType(_e),"f"),d(this,ms,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return b(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new x("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new x("Invalid filter");if(!o)throw new x("Filter not found");if(o.is_selected)return this;let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new x("Failed to get filtered feed");return new fe(this.actions,s,!0)})}};n(tx,"FilterableFeed");ms=new WeakMap;var Ki=tx;var Pe=class extends Vo{constructor(e,i,o=!1){var s,r,l,p,f,h;super(e,i,o),this.header=(r=(s=this.page.header)===null||s===void 0?void 0:s.item())===null||r===void 0?void 0:r.as(Mi,R_,Tv,Bi);let _=(l=this.page.metadata)===null||l===void 0?void 0:l.item().as(V_),g=(p=this.page.microformat)===null||p===void 0?void 0:p.as(Kt);if(this.page.alerts){let w=this.page.alerts.first();if((w==null?void 0:w.alert_type)==="ERROR")throw new hs(w.text.toString())}if(!_&&!this.page.contents)throw new x("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),g||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(We).first(),this.current_tab=(h=this.page.contents)===null||h===void 0?void 0:h.item().as(Qt).tabs.array().filterType(xe,Xn).get({selected:!0})}applyFilter(e){var i;return b(this,void 0,void 0,function*(){let o,s=this.memo.getType(ci).first();if(typeof e=="string"){if(o=s==null?void 0:s.contents.get({text:e}),!o)throw new x(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof _e&&(o=e);if(!o)throw new x("Invalid filter",e);let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new x("No page returned",{filter:o});return new $i(this.actions,r,!0)})}applySort(e){var i,o;return b(this,void 0,void 0,function*(){let s=this.memo.getType(Et).first();if(!s)throw new x("No sort filter sub menu found");let r=(i=s==null?void 0:s.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!r)throw new x(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(r.selected)return this;let l=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Pe(this.actions,l,!0)})}applyContentTypeFilter(e){var i,o,s,r;return b(this,void 0,void 0,function*(){let l=(s=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(Q).sub_menu)===null||s===void 0?void 0:s.as(Yu);if(!l)throw new x("Sub menu not found");let p=l.content_type_sub_menu_items.find(h=>h.title===e);if(!p)throw new x(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(r=p.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0});return new Pe(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(ci))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(_e).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(Et).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let s=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(Q).sub_menu)===null||o===void 0?void 0:o.as(Yu);return(s==null?void 0:s.content_type_sub_menu_items.map(r=>r.title))||[]}getHome(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Pe(this.actions,e.page,!0)})}getVideos(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Pe(this.actions,e.page,!0)})}getShorts(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Pe(this.actions,e.page,!0)})}getLiveStreams(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Pe(this.actions,e.page,!0)})}getReleases(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Pe(this.actions,e.page,!0)})}getPodcasts(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Pe(this.actions,e.page,!0)})}getPlaylists(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Pe(this.actions,e.page,!0)})}getCommunity(){return b(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Pe(this.actions,e.page,!0)})}getAbout(){var e,i,o;return b(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(Ru)[0];if(((e=this.header)===null||e===void 0?void 0:e.is(Mi))&&this.header.tagline){if(this.header.tagline.more_endpoint instanceof v){let l=yield this.header.tagline.more_endpoint.call(this.actions);return new Vo(this.actions,l,!1).memo.getType(Ru)[0]}let s=(o=(i=this.page.header_memo)===null||i===void 0?void 0:i.getType(he)[0])===null||o===void 0?void 0:o.endpoint;if(!s)throw new x("Failed to extract continuation to get channel about");let r=yield s.call(this.actions,{parse:!0});if(!r.on_response_received_endpoints_memo)throw new x("Unexpected response while fetching channel about",{response:r});return r.on_response_received_endpoints_memo.getType(d_)[0]}throw new x("About not found")})}search(e){var i,o;return b(this,void 0,void 0,function*(){let s=(i=this.memo.getType(Xn))===null||i===void 0?void 0:i[0];if(!s)throw new x("Search tab not found",this);let r=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Pe(this.actions,r,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Mi))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(Xn))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new x("Could not get continuation data");return new Oo(this.actions,i,!0)})}};n(Pe,"Channel");var Oo=class extends fe{constructor(e,i,o=!1){var s,r;super(e,i,o),this.contents=((s=this.page.on_response_received_actions)===null||s===void 0?void 0:s.first())||((r=this.page.on_response_received_endpoints)===null||r===void 0?void 0:r.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new x("Could not get continuation data");return new Oo(this.actions,i,!0)})}};n(Oo,"ChannelListContinuation");var $i=class extends Ki{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(_e).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return b(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new $i(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return b(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new x("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(ci)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(_e)),new $i(this.actions,i,!0)})}};n($i,"FilteredChannelList");var _s,ei,vs,Do=class{constructor(e,i,o=!1){var s,r,l;_s.set(this,void 0),ei.set(this,void 0),vs.set(this,void 0),S(this,_s,o?i:c.parseResponse(i),"f"),S(this,ei,e,"f");let p=d(this,_s,"f").on_response_received_endpoints;if(!p)throw new x("Comments page did not have any content.");let f=p.at(0),h=p.at(1);this.header=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.firstOfType(Gn);let _=((r=h==null?void 0:h.contents)===null||r===void 0?void 0:r.filterType(Q_))||[];this.contents=ae(_.map(g=>{var w;return(w=g.comment)===null||w===void 0||w.setActions(d(this,ei,"f")),g.setActions(d(this,ei,"f")),g})),S(this,vs,(l=h==null?void 0:h.contents)===null||l===void 0?void 0:l.firstOfType(he),"f")}applySort(e){var i,o,s,r;return b(this,void 0,void 0,function*(){if(!this.header)throw new x("Page header is missing. Cannot apply sort option.");let l;if(e==="TOP_COMMENTS"?l=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(l=(r=(s=this.header.sort_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.at(1)),!l)throw new x("Could not find target button.");if(l.selected)return this;let p=yield l.endpoint.call(d(this,ei,"f"),{parse:!0});return new Do(d(this,ei,"f"),p,!0)})}createComment(e){var i;return b(this,void 0,void 0,function*(){if(!this.header)throw new x("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(X_).submit_button;if(!o)throw new x("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new x("Button does not have an endpoint.");return yield o.endpoint.call(d(this,ei,"f"),{commentText:e})})}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,vs,"f"))throw new x("Continuation not found");let e=yield d(this,vs,"f").endpoint.call(d(this,ei,"f"),{parse:!0}),i=Object.assign({},d(this,_s,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new x("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Do(d(this,ei,"f"),i,!0)})}get has_continuation(){return!!d(this,vs,"f")}get page(){return d(this,_s,"f")}};n(Do,"Comments");_s=new WeakMap,ei=new WeakMap,vs=new WeakMap;var ix=Do;var Wm,ox=class{constructor(e){Wm.set(this,void 0),S(this,Wm,c.parseResponse(e),"f"),this.contents=d(this,Wm,"f").items.array().as(Qn,vv)}get page(){return d(this,Wm,"f")}};n(ox,"Guide");Wm=new WeakMap;var nx=ox;var xs=class extends fe{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(ve),this.feed_actions=this.memo.getType(k_).first()}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new xs(this.actions,e,!0)})}};n(xs,"History");var gs=xs;var Dt=class extends Ki{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(cv).first(),this.contents=this.memo.getType(Fi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return b(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Dt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return b(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Dt(this.actions,o.page,!0)})}};n(Dt,"HomeFeed");var ti=class extends Ki{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new x("Unexpected response",this.page);let o=this.page.contents_memo.getType(xe).first();if(!o.content)throw new x("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(xv,Bi)),this.contents=o.content.as(Fi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return b(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new ti(this.actions,o.page)})}};n(ti,"HashtagFeed");var sx,rx,Hm,ax=class{constructor(e,i){sx.set(this,void 0),rx.set(this,void 0),Hm.set(this,void 0),S(this,sx,e,"f"),S(this,rx,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(F))throw new x('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');S(this,Hm,o.as(F).items,"f")}selectItem(e){return b(this,void 0,void 0,function*(){let i;if(e instanceof I){if(!e.endpoint)throw new x("Item does not have an endpoint.");i=e.endpoint}else{let s=d(this,Hm,"f").find(r=>r.is(Vi)?r.as(Vi).icon_type===e:!1);if(!s||!s.is(Vi))throw new x(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new x("Target button does not have an endpoint.");return yield i.call(d(this,rx,"f"),{parse:!0})})}items(){return d(this,Hm,"f")}page(){return d(this,sx,"f")}};n(ax,"ItemMenu");sx=new WeakMap,rx=new WeakMap,Hm=new WeakMap;var ux=ax;var Jm,lx,bs=class extends fe{constructor(e,i,o=!1){var s,r,l,p,f;super(e,i,o),Jm.add(this);let h=this.memo.getType(x0).first(),_=this.memo.getType(b0).first(),g=this.memo.getType(y0).first(),w=(s=this.page.alerts)===null||s===void 0?void 0:s.firstOfType(Nn);if(w&&w.alert_type==="ERROR")throw new x(w.text.toString(),w);if(!_&&!g&&Object.keys(this.page).length===0)throw new x("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(r=this.page.metadata)===null||r===void 0?void 0:r.item().as(g0)),{subtitle:h?h.subtitle:null,author:(p=(l=g==null?void 0:g.owner)===null||l===void 0?void 0:l.as(us).author)!==null&&p!==void 0?p:h==null?void 0:h.author,thumbnails:(f=_==null?void 0:_.thumbnail_renderer)===null||f===void 0?void 0:f.as($n,Kn).thumbnail,total_items:d(this,Jm,"m",lx).call(this,0,_),views:d(this,Jm,"m",lx).call(this,1,_),last_updated:d(this,Jm,"m",lx).call(this,2,_),can_share:h==null?void 0:h.can_share,can_delete:h==null?void 0:h.can_delete,is_editable:h==null?void 0:h.is_editable,privacy:h==null?void 0:h.privacy}),this.menu=_==null?void 0:_.menu,this.endpoint=_==null?void 0:_.endpoint,this.messages=this.memo.getType(He)}get items(){return this.videos}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new x("Could not get continuation data");return new bs(this.actions,e,!0)})}};n(bs,"Playlist");Jm=new WeakSet,lx=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var fi=bs;var Db,jI,cx=class extends fe{constructor(e,i){if(super(e,i),Db.add(this),!this.page.contents_memo)throw new x("Page contents not found");this.header=this.memo.getType(Bi).first();let o=this.page.contents_memo.getType(rs);this.sections=o.map(s=>{var r;return{type:s.icon_type,title:s.title,contents:((r=s.content)===null||r===void 0?void 0:r.key("items").array())||[],getAll:()=>d(this,Db,"m",jI).call(this,s)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(cx,"Library");Db=new WeakSet,jI=n(function(e){var i;return b(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(F).hasKey("top_level_buttons")))throw new x(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(F).top_level_buttons.firstOfType(I);if(!o)throw new x("Did not find target button.");let s=yield o.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new fi(this.actions,s,!0);case"WATCH_HISTORY":return new gs(this.actions,s,!0);case"CONTENT_CUT":return new fe(this.actions,s,!0);default:throw new x("Target shelf not implemented.")}})},"_Library_getAll");var dx=cx;var ys,px=class extends EventTarget{constructor(){super(),ys.set(this,new Map)}emit(e,...i){let o=new B.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(s=>{s instanceof B.shim.CustomEvent?i(...s.detail):i(s)},"wrapper");d(this,ys,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(s=>{s instanceof B.shim.CustomEvent?i(...s.detail):i(s),this.off(e,i)},"wrapper");d(this,ys,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=d(this,ys,"f").get(i);o&&(this.removeEventListener(e,o),d(this,ys,"f").delete(i))}};n(px,"EventEmitterLike");ys=new WeakMap;var Gm=px;var mi,qi,Bo,xt,Bt,rt;function Wk(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(Wk,"flattenQueue");var fx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(fx,"DelayQueue");var mx=class{constructor(){mi.set(this,void 0),qi.set(this,void 0),Bo.set(this,void 0),xt.set(this,void 0),Bt.set(this,void 0),rt.set(this,void 0),S(this,mi,null,"f"),S(this,qi,null,"f"),S(this,Bo,null,"f"),S(this,xt,[],"f"),S(this,Bt,null,"f"),S(this,rt,new fx,"f")}enqueueActionGroup(e){if(d(this,mi,"f")!==null){let i=Date.now()-d(this,mi,"f");d(this,rt,"f").back.push(i),5<d(this,rt,"f").front.length+d(this,rt,"f").back.length&&(d(this,rt,"f").front.length||(d(this,rt,"f").front=d(this,rt,"f").back,d(this,rt,"f").front.reverse(),d(this,rt,"f").back=[]),d(this,rt,"f").front.pop()),S(this,qi,Math.max(...d(this,rt,"f").getValues()),"f")}S(this,mi,Date.now(),"f"),d(this,xt,"f").push(e),d(this,Bt,"f")===null&&S(this,Bt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(S(this,Bt,null,"f"),d(this,xt,"f").length){let e=1e4;d(this,qi,"f")!==null&&d(this,mi,"f")!==null&&(e=d(this,qi,"f")-Date.now()+d(this,mi,"f")),e=d(this,xt,"f").length<e/80?1:Math.ceil(d(this,xt,"f").length/(e/80));let i=Wk(d(this,xt,"f").splice(0,e));d(this,Bo,"f")&&d(this,Bo,"f").call(this,i),d(this,xt,"f")!==null&&(e==1?(e=d(this,qi,"f")/d(this,xt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,S(this,Bt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){d(this,Bt,"f")!==null&&(clearTimeout(d(this,Bt,"f")),S(this,Bt,null,"f")),S(this,xt,[],"f")}set callback(e){S(this,Bo,e,"f")}get callback(){return d(this,Bo,"f")}get action_queue(){return d(this,xt,"f")}get estimated_update_interval(){return d(this,qi,"f")}get last_update_time(){return d(this,mi,"f")}get next_update_id(){return d(this,Bt,"f")}get poll_response_delay_queue(){return d(this,rt,"f")}};n(mx,"SmoothedQueue");mi=new WeakMap,qi=new WeakMap,Bo=new WeakMap,xt=new WeakMap,Bt=new WeakMap,rt=new WeakMap;var hx=mx;var Le,hi,$m,_x,Fo,zm,Km,Bb,vx,WI,Lo,xx=class extends Gm{constructor(e){var i,o;super(),Le.add(this),hi.set(this,void 0),$m.set(this,void 0),_x.set(this,void 0),Fo.set(this,void 0),zm.set(this,void 0),Km.set(this,0),this.running=!1,this.is_replay=!1,S(this,$m,e.basic_info.id,"f"),S(this,_x,e.basic_info.channel_id,"f"),S(this,hi,e.actions,"f"),S(this,Fo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new hx,this.smoothed_queue.callback=s=>b(this,void 0,void 0,function*(){s.length?s.length<10?yield d(this,Le,"m",vx).call(this,s):this.is_replay?(d(this,Le,"m",vx).call(this,s),yield d(this,Le,"m",Lo).call(this,2e3)):d(this,Le,"m",vx).call(this,s):yield d(this,Le,"m",Lo).call(this,2e3),this.running&&d(this,Le,"m",Bb).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,d(this,Le,"m",Bb).call(this),d(this,Le,"m",WI).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return b(this,void 0,void 0,function*(){let i=yield d(this,hi,"f").execute("/live_chat/send_message",{params:db(d(this,_x,"f"),d(this,$m,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:B.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new x("Unexpected response from send_message",i);return i.actions.array().as(Av)})}applyFilter(e){var i,o,s,r,l,p,f;if(!this.initial_info)throw new x("Cannot apply filter before initial info is retrieved.");let h=(s=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||s===void 0?void 0:s.sub_menu_items;if(e==="TOP_CHAT"){if(!((r=h==null?void 0:h.at(0))===null||r===void 0)&&r.selected)return;S(this,Fo,(l=h==null?void 0:h.at(0))===null||l===void 0?void 0:l.continuation,"f")}else{if(!((p=h==null?void 0:h.at(1))===null||p===void 0)&&p.selected)return;S(this,Fo,(f=h==null?void 0:h.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return b(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new x("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(d(this,hi,"f"),{parse:!0});if(!i)throw new x("Could not retrieve item menu.",e);return new ux(i,d(this,hi,"f"))})}selectButton(e){return b(this,void 0,void 0,function*(){return yield e.endpoint.call(d(this,hi,"f"),{parse:!0})})}};n(xx,"LiveChat");hi=new WeakMap,$m=new WeakMap,_x=new WeakMap,Fo=new WeakMap,zm=new WeakMap,Km=new WeakMap,Le=new WeakSet,Bb=n(function t(){b(this,void 0,void 0,function*(){var e,i;try{let o=yield d(this,hi,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:d(this,Fo,"f"),parse:!0}),s=o.continuation_contents;if(s||(this.emit("error",new x("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(s instanceof Gi)){this.stop(),this.emit("end");return}S(this,Fo,s.continuation.token,"f"),s.header?(this.initial_info=s,this.emit("start",s),this.running&&d(this,Le,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(s.actions),S(this,Km,0,"f")}catch(o){this.emit("error",o),S(this,Km,(i=d(this,Km,"f"),e=i++,i),"f"),e<10?(yield d(this,Le,"m",Lo).call(this,2e3),d(this,Le,"m",t).call(this)):(this.emit("error",new x("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),vx=n(function(e){return b(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),s=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let r of e)yield d(this,Le,"m",Lo).call(this,s),this.emit("chat-update",r)})},"_LiveChat_emitSmoothedActions"),WI=n(function t(){b(this,void 0,void 0,function*(){var e,i,o,s,r,l,p,f,h,_,g;try{let w={videoId:d(this,$m,"f")};d(this,zm,"f")&&(w.continuation=d(this,zm,"f"));let T=yield d(this,hi,"f").execute("/updated_metadata",w),C=c.parseResponse(T.data);S(this,zm,(e=C.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=C.actions)===null||i===void 0?void 0:i.array().firstOfType(Dv))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((s=C.actions)===null||s===void 0?void 0:s.array().firstOfType(Ov))||((r=this.metadata)===null||r===void 0?void 0:r.description),views:((l=C.actions)===null||l===void 0?void 0:l.array().firstOfType(Lv))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=C.actions)===null||f===void 0?void 0:f.array().firstOfType(Bv))||((h=this.metadata)===null||h===void 0?void 0:h.likes),date:((_=C.actions)===null||_===void 0?void 0:_.array().firstOfType(Vv))||((g=this.metadata)===null||g===void 0?void 0:g.date)},this.emit("metadata-update",this.metadata),yield d(this,Le,"m",Lo).call(this,5e3),this.running&&d(this,Le,"m",t).call(this)}catch(w){yield d(this,Le,"m",Lo).call(this,2e3),this.running&&d(this,Le,"m",t).call(this)}})},"_LiveChat_pollMetadata"),Lo=n(function(e){return b(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var gx=xx;var Yo,qm,ws=class{constructor(e,i){Yo.set(this,void 0),qm.set(this,void 0),S(this,qm,e,"f"),S(this,Yo,c.parseResponse(i.data),"f"),this.header=d(this,Yo,"f").actions_memo.getType(Gv).first(),this.contents=d(this,Yo,"f").actions_memo.getType(c0)}getContinuation(){return b(this,void 0,void 0,function*(){let e=d(this,Yo,"f").actions_memo.getType(he).first();if(!e)throw new x("Continuation not found");let i=yield e.endpoint.call(d(this,qm,"f"),{parse:!1});return new ws(d(this,qm,"f"),i)})}get page(){return d(this,Yo,"f")}};n(ws,"NotificationsMenu");Yo=new WeakMap,qm=new WeakMap;var bx=ws;var Uo=class extends fe{constructor(e,i,o=!1){var s,r,l,p,f,h;super(e,i,o);let _=((s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(Q).first().contents)||((r=this.page.on_response_received_commands)===null||r===void 0?void 0:r.first().contents);if(!_)throw new x("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(P0)),this.results=(l=_.find(g=>g.is(ve)&&g.contents&&g.contents.length>0))===null||l===void 0?void 0:l.as(ve).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(N0).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(U0).first(),this.refinement_cards=(h=this.results)===null||h===void 0?void 0:h.firstOfType(Ei)}selectRefinementCard(e){var i,o;return b(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(!this.refinement_cards)throw new x("No refinement cards found.");if(s=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(po),!s)throw new x(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")s=e;else throw new x("Invalid refinement card!");let r=yield s.endpoint.call(this.actions,{parse:!0});return new Uo(this.actions,r,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(po).map(i=>i.query))||[]}getContinuation(){return b(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new x("Could not get continuation data");return new Uo(this.actions,e,!0)})}};n(Uo,"Search");var yx=Uo;var jo,Xm,Ts=class{constructor(e,i){var o,s,r,l;if(jo.set(this,void 0),Xm.set(this,void 0),S(this,Xm,e,"f"),S(this,jo,c.parseResponse(i.data),"f"),this.sidebar=(o=d(this,jo,"f").sidebar)===null||o===void 0?void 0:o.as(M0),!d(this,jo,"f").contents)throw new x("Page contents not found");let p=d(this,jo,"f").contents.item().as(Qt).tabs.array().as(xe).get({selected:!0});if(!p)throw new x("Target tab not found");let f=(s=p.content)===null||s===void 0?void 0:s.as(Q).contents.as(ve);this.introduction=(l=(r=f==null?void 0:f.shift())===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(p0),this.sections=f==null?void 0:f.map(h=>{var _;return{title:((_=h.header)===null||_===void 0?void 0:_.title.toString())||null,contents:h.contents}})}selectSidebarItem(e){return b(this,void 0,void 0,function*(){if(!this.sidebar)throw new x("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new x(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(zn))i=e;else throw new x("Invalid item",{target_item:e});let o=yield i.endpoint.call(d(this,Xm,"f"),{parse:!1});return new Ts(d(this,Xm,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new x("Sections not available");for(let o of this.sections)if(!!o.contents)for(let s of o.contents){let r=s.as(ss).options;if(r){for(let l of r)if(l.is(ns)&&((i=l.title)===null||i===void 0?void 0:i.toString())===e)return l}}throw new x(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new x("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(ss).options&&(e=e.concat(o.as(ss).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new x("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return d(this,jo,"f")}};n(Ts,"Settings");jo=new WeakMap,Xm=new WeakMap;var wx=Ts;var Ss,Tx=class{constructor(e){var i;if(Ss.set(this,void 0),S(this,Ss,c.parseResponse(e.data),"f"),!d(this,Ss,"f").contents)throw new x("Page contents not found");let o=d(this,Ss,"f").contents.item().as(Xt).tabs.get({selected:!0});if(!o)throw new x("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(Q).contents.as(ve)}get page(){return d(this,Ss,"f")}};n(Tx,"TimeWatched");Ss=new WeakMap;var Sx=Tx;var Hb={};D(Hb,{Feed:()=>fe,FilterableFeed:()=>Ki,MediaInfo:()=>Qi,TabbedFeed:()=>Vo});var Cx={};D(Cx,{chooseFormat:()=>Nx,download:()=>jb,toDash:()=>Px});var Hk={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function HI(t){return t.replace(/([&"<>'])/g,(e,i)=>Hk[i])}n(HI,"escapeXMLString");function Jk(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(Jk,"normalizeTag");function ce(t,e,...i){let o=i.flat().map(s=>typeof s=="string"?Gk(s):s);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:Jk(t),props:Object.assign(Object.assign({},e),{children:o})}}n(ce,"createElement");function Gk(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(Gk,"createTextElement");function JI(t){return b(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return HI(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${HI(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>JI(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(JI,"renderElementToString");function GI(t){return b(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield JI(yield t)}`})}n(GI,"renderToString");function zI(t){return t.children}n(zI,"Fragment");var Wo,Ix=class{constructor(e,i){Wo.set(this,void 0),S(this,Wo,new B.shim.Cache(e,i),"f")}get cache_dir(){return d(this,Wo,"f").cache_dir}get(e){return d(this,Wo,"f").get(e)}set(e,i){return d(this,Wo,"f").set(e,i)}remove(e){return d(this,Wo,"f").remove(e)}};n(Ix,"UniversalCache");Wo=new WeakMap;var Kk=Ix;var Lb,Lt,Is,Qm,KI,kx=class{constructor(e,i,o){Lb.add(this),Lt.set(this,void 0),Is.set(this,void 0),Qm.set(this,void 0),S(this,Lt,e,"f"),S(this,Is,i,"f"),S(this,Qm,o||B.shim.fetch,"f")}get fetch_function(){return d(this,Qm,"f")}fetch(e,i){return b(this,void 0,void 0,function*(){let o=pe.API.PRODUCTION_1+d(this,Lt,"f").api_version,s=(i==null?void 0:i.baseURL)||o,r=typeof e=="string"?!s.endsWith("/")&&!e.startsWith("/")?new URL(`${s}/${e}`):new URL(s+e):e instanceof URL?e:new URL(e.url,s),l=(i==null?void 0:i.headers)||(e instanceof B.shim.Request?e.headers:new B.shim.Headers)||new B.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof B.shim.Request?e.body:void 0),f=new B.shim.Headers(l);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",d(this,Lt,"f").context.client.visitorData||""),f.set("X-Origin",r.origin),f.set("X-Youtube-Client-Version",d(this,Lt,"f").context.client.clientVersion||""),B.shim.server&&(f.set("User-Agent",Ho("desktop")),f.set("origin",r.origin)),r.searchParams.set("key",d(this,Lt,"f").key),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let h=f.get("Content-Type"),_=p,g=!1,w=s===o||s===pe.YT_UPLOAD;if(h==="application/json"&&w&&typeof p=="string"){let N=JSON.parse(p),R=Object.assign(Object.assign({},N),{context:JSON.parse(JSON.stringify(d(this,Lt,"f").context))});d(this,Lb,"m",KI).call(this,R.context,R.client),f.set("x-youtube-client-version",R.context.client.clientVersion),delete R.client,B.shim.server&&(R.context.client.clientName==="ANDROID"||R.context.client.clientName==="ANDROID_MUSIC"?f.set("User-Agent",G.ANDROID.USER_AGENT):R.context.client.clientName==="iOS"&&f.set("User-Agent",G.iOS.USER_AGENT)),g=R.context.client.clientName==="WEB_KIDS",_=JSON.stringify(R)}if(d(this,Lt,"f").logged_in&&w&&!g){let N=d(this,Lt,"f").oauth;if(N.validateCredentials()&&(yield N.refreshIfRequired(),f.set("authorization",`Bearer ${N.credentials.access_token}`),r.searchParams.delete("key")),d(this,Is,"f")){let R=je(d(this,Is,"f"),"PAPISID=",";");R&&(f.set("authorization",yield Yb(R)),f.set("x-goog-authuser",d(this,Lt,"f").account_index.toString())),f.set("cookie",d(this,Is,"f"))}}let T=new B.shim.Request(r,e instanceof B.shim.Request?e:i),C=yield d(this,Qm,"f").call(this,T,{body:_,headers:f,credentials:"include",redirect:e instanceof B.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(C.ok)return C;throw new x(`Request to ${C.url} failed with status ${C.status}`,yield C.text())})}};n(kx,"HTTPClient");Lt=new WeakMap,Is=new WeakMap,Qm=new WeakMap,Lb=new WeakSet,KI=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=G.ANDROID.SDK_VERSION,e.client.userAgent=G.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=G.iOS.DEVICE_MODEL,e.client.clientVersion=G.iOS.VERSION,e.client.clientName=G.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=G.YTMUSIC.VERSION,e.client.clientName=G.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=G.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=G.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=G.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=G.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=G.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=G.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=G.TV_EMBEDDED.NAME,e.client.clientVersion=G.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:pe.YT_BASE};break;case"YTKIDS":e.client.clientVersion=G.WEB_KIDS.VERSION,e.client.clientName=G.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Fb=kx;function $k(t){var e,i,o;let s=new Map,r=t.some(l=>!!l.audio_track);for(let l of t){if((!l.index_range||!l.init_range)&&!l.is_type_otf)continue;let p=l.mime_type.split(";")[0],f=(e=je(l.mime_type,'codecs="','"'))===null||e===void 0?void 0:e.split(".")[0],h=l.color_info?Object.values(l.color_info).join("-"):"",_=((i=l.audio_track)===null||i===void 0?void 0:i.id)||"",g=`${p}-${f}-${h}-${_}`;s.has(g)||s.set(g,[]),(o=s.get(g))===null||o===void 0||o.push(l)}return{groups:Array.from(s.values()),has_multiple_audio_tracks:r}}n($k,"getFormatGroupings");function $I(t,e){if(t.length>1&&new Set(t.map(i=>je(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),je(t[0].mime_type,'codecs="','"')}n($I,"hoistCodecsIfPossible");function qI(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(qI,"hoistNumberAttributeIfPossible");function qk(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(qk,"hoistAudioChannelsIfPossible");function Xk(t,e){var i;return b(this,void 0,void 0,function*(){let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Ue.STREAM_HEADERS,redirect:"follow"}),s=o.url.replace("&rn=0","").replace("&sq=0",""),r=yield o.text(),l=(i=je(r,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!l)throw new x("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let f of l){let h=f.trim();if(h.length===0)continue;let _,g=je(h,"(r=",")");g&&(_=parseInt(g)),p.push({duration:parseInt(h),repeat_count:_})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:p}})}n(Xk,"getOTFSegmentTemplate");function XI(t,e,i,o,s){let r=new URL(t.decipher(o));r.searchParams.set("cpn",s||"");let l=e(r).toString();if(t.is_type_otf){if(!i)throw new x("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,getSegmentTemplate(){return Xk(l,i)}}}if(!t.index_range||!t.init_range)throw new x("Index and init ranges not available",{format:t});return{is_oft:!1,base_url:l,index_range:t.index_range,init_range:t.init_range}}n(XI,"getSegmentInfo");function Qk(t,e,i,o,s,r){return new URL(t.decipher(s)).searchParams.set("cpn",r||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:XI(t,i,o,s,r)}}n(Qk,"getAudioRepresentation");function Zk(t){let{audio_track:e}=t;if(!!e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}n(Zk,"getTrackRole");function eC(t,e,i,o,s){var r;let l=t[0],{audio_track:p}=l,f=[];return{mime_type:l.mime_type.split(";")[0],language:(r=l.language)!==null&&r!==void 0?r:void 0,codecs:$I(t,f),audio_sample_rate:qI(t,"audio_sample_rate",f),track_name:p==null?void 0:p.display_name,track_role:Zk(l),channels:qk(t,f),representations:t.map(_=>Qk(_,f,e,i,o,s))}}n(eC,"getAudioSet");var tC={BT709:"1",BT2020:"9"},iC={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},oC={BT709:"1",BT2020_NCL:"14"};function nC(t){let e=t.color_info,i=e!=null&&e.primaries?tC[e.primaries]:void 0,o=e!=null&&e.transfer_characteristics?iC[e.transfer_characteristics]:void 0,s=e!=null&&e.matrix_coefficients?oC[e.matrix_coefficients]:void 0;if((e==null?void 0:e.matrix_coefficients)&&!s){let l=new URL(t.url),p=JSON.parse(JSON.stringify(t));p.url="REDACTED",p.signature_cipher="REDACTED",p.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${e.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${B.shim.info.bugs_url} so we can add support for it.
Innertube client: ${l.searchParams.get("c")}
format:`,p)}return{primaries:i,transfer_characteristics:o,matrix_coefficients:s}}n(nC,"getColorInfo");function sC(t,e,i,o,s,r){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:XI(t,e,s,o,r)}}n(sC,"getVideoRepresentation");function rC(t,e,i,o,s){let r=t[0],l=nC(r),p=[];return{mime_type:r.mime_type.split(";")[0],color_info:l,codecs:$I(t,p),fps:qI(t,"fps",p),representations:t.map(h=>sC(h,e,p,i,o,s))}}n(rC,"getVideoSet");function aC(t){var e;let i=new Map;for(let o of t.boards){let s=new URL(o.template_url).pathname.split(".").pop(),r=`image/${s==="jpg"?"jpeg":s}`;i.has(r)||i.set(r,[]),(e=i.get(r))===null||e===void 0||e.push(o)}return i}n(aC,"getStoryboardInfo");function uC(t,e,i,o,s){return b(this,void 0,void 0,function*(){let r=e.template_url,l=i(new URL(r.replace("$M","0"))),p=s.response?s.response:t.session.http.fetch_function(l,{method:"HEAD",headers:Ue.STREAM_HEADERS});return s.response=p,(yield p).headers.get("Content-Type")||o})}n(uC,"getStoryboardMimeType");function lC(t,e,i){return b(this,void 0,void 0,function*(){let o=e.template_url,s=[],r=Math.min(e.storyboard_count,10);for(let h=0;h<r;h++){let _=new URL(o.replace("$M",h.toString())),g=h===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:Ue.STREAM_HEADERS});h===0&&(i.response=g),s.push(g)}let l=yield Promise.all(s),p=[];for(let h of l)p.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(lC,"getStoryboardBitrate");function cC(t,e,i,o,s){let r=i.template_url,l=new URL(r.replace("$M","$Number$"));return{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return lC(e,i,s)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:t/i.storyboard_count,template_url:o(l).toString(),getURL(f){return l.toString().replace("$Number$",f.toString())}}}n(cC,"getImageRepresentation");function dC(t,e,i,o){let s=aC(i),r={};return Array.from(s.entries()).map(([l,p])=>({probable_mime_type:l,getMimeType(){return uC(e,p[0],o,l,r)},representations:p.map(f=>cC(t,e,f,o,r))}))}n(dC,"getImageSets");function Ex(t,e=p=>p,i,o,s,r,l){if(!t)throw new x("Streaming data not available");let p=i?t.adaptive_formats.filter(O=>!i(O)):t.adaptive_formats,f=p[0].approx_duration_ms/1e3,{groups:h,has_multiple_audio_tracks:_}=$k(p),{video_groups:g,audio_groups:w}=h.reduce((O,q)=>q[0].has_audio?(_&&!q[0].audio_track||O.audio_groups.push(q),O):(O.video_groups.push(q),O),{video_groups:[],audio_groups:[]}),T=w.map(O=>eC(O,e,r,s,o)),C=g.map(O=>rC(O,e,s,r,o)),N=l&&r?dC(f,r,l,e):[];return{duration:f,audio_sets:T,video_sets:C,image_sets:N}}n(Ex,"getStreamingInfo");function pC({info:t}){return b(this,void 0,void 0,function*(){if(!t.is_oft)return null;let e=yield t.getSegmentTemplate();return ce("segment-template",{startNumber:"1",timescale:"1000",initialization:e.init_url,media:e.media_url},ce("segment-timeline",null,e.timeline.map(i=>ce("s",{d:i.duration,r:i.repeat_count}))))})}n(pC,"OTFSegmentInfo");function QI({info:t}){return t.is_oft?ce(pC,{info:t}):ce(zI,null,ce("base-url",null,t.base_url),ce("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},ce("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(QI,"SegmentInfo");function fC({streamingData:t,transformURL:e,rejectFormat:i,cpn:o,player:s,actions:r,storyboards:l}){let{duration:p,audio_sets:f,video_sets:h,image_sets:_}=Ex(t,e,i,o,s,r,l);return ce("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${p}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},ce("period",null,f.map((g,w)=>ce("adaptation-set",{id:w,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:g.language,codecs:g.codecs,audioSamplingRate:g.audio_sample_rate,contentType:"audio"},g.track_role&&ce("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:g.track_role}),g.track_name&&ce("label",{id:w},g.track_name),g.channels&&ce("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:g.channels}),g.representations.map(T=>ce("representation",{id:T.uid,bandwidth:T.bitrate,codecs:T.codecs,audioSamplingRate:T.audio_sample_rate},T.channels&&ce("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:T.channels}),ce(QI,{info:T.segment_info}))))),h.map((g,w)=>ce("adaptation-set",{id:w+f.length,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:g.codecs,maxPlayoutRate:"1",frameRate:g.fps,contentType:"video"},g.color_info.primaries&&ce("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:g.color_info.primaries}),g.color_info.transfer_characteristics&&ce("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:g.color_info.transfer_characteristics}),g.color_info.matrix_coefficients&&ce("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:g.color_info.matrix_coefficients}),g.representations.map(T=>ce("representation",{id:T.uid,bandwidth:T.bitrate,width:T.width,height:T.height,codecs:T.codecs,frameRate:T.fps},ce(QI,{info:T.segment_info}))))),_.map((g,w)=>b(this,void 0,void 0,function*(){return ce("adaptation-set",{id:w+f.length+h.length,mimeType:yield g.getMimeType(),contentType:"image"},g.representations.map(T=>b(this,void 0,void 0,function*(){return ce("representation",{id:`thumbnails_${T.thumbnail_width}x${T.thumbnail_height}`,bandwidth:yield T.getBitrate(),width:T.sheet_width,height:T.sheet_height},ce("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${T.columns}x${T.rows}`}),ce("segment-template",{media:T.template_url,duration:T.template_duration,startNumber:"0"}))})))}))))}n(fC,"DashManifest");function Px(t,e=p=>p,i,o,s,r,l){if(!t)throw new x("Streaming data not available");return GI(ce(fC,{streamingData:t,transformURL:e,rejectFormat:i,cpn:o,player:s,actions:r,storyboards:l}))}n(Px,"toDash");function jb(t,e,i,o,s,r){return b(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new x("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new x("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new x("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=Nx(l,o),f=p.decipher(s);if(l.type==="video+audio"&&!t.range){let N=yield e.session.http.fetch_function(`${f}&cpn=${r}`,{method:"GET",headers:kh,redirect:"follow"});if(!N.ok)throw new x("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:N});let R=N.body;if(!R)throw new x("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:N});return R}let h=1048576*10,_=t.range?t.range.start:0,g=t.range?t.range.end:h,w=!1,T;return new B.shim.ReadableStream({start(){},pull:N=>b(this,void 0,void 0,function*(){if(w){N.close();return}return(g>=(p.content_length?p.content_length:0)||t.range)&&(w=!0),new Promise((R,O)=>b(this,void 0,void 0,function*(){var q,z,me,ge;try{T=new AbortController;let K=yield e.session.http.fetch_function(`${f}&cpn=${r}&range=${_}-${g||""}`,{method:"GET",headers:Object.assign({},kh),signal:T.signal}),J=K.body;if(!J)throw new x("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:K});try{for(var Te=!0,Se=Dy(Wb(J)),Ae;Ae=yield Se.next(),q=Ae.done,!q;Te=!0){ge=Ae.value,Te=!1;let X=ge;N.enqueue(X)}}catch(X){z={error:X}}finally{try{!Te&&!q&&(me=Se.return)&&(yield me.call(Se))}finally{if(z)throw z.error}}_=g+1,g+=h,R()}catch(K){O(K)}}))}),cancel(N){return b(this,void 0,void 0,function*(){T.abort(N)})}},{highWaterMark:1,size(N){return N.byteLength}})})}n(jb,"download");function Nx(t,e){if(!e)throw new x("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,s=t.type?t.type.includes("video"):!0,r=t.language||"original",l=t.quality||"best",p=-1,f=["best","bestefficiency"].includes(l),h=l!=="best",_=i.filter(g=>o&&!g.has_audio||s&&!g.has_video||t.format!=="any"&&!g.mime_type.includes(t.format||"mp4")||!f&&g.quality_label!==l?!1:(p<g.width&&(p=g.width),!0));if(!_.length)throw new x("No matching formats found",{options:t});if(f&&s&&(_=_.filter(g=>g.width===p)),o&&!s){let g=_.filter(w=>r!=="original"?!w.has_video&&w.language===r:!w.has_video&&w.is_original);g.length>0&&(_=g)}return h?_.sort((g,w)=>g.bitrate-w.bitrate):_.sort((g,w)=>w.bitrate-g.bitrate),_[0]}n(Nx,"chooseFormat");var Zm,eh,ks=class{constructor(e,i){Zm.set(this,void 0),eh.set(this,void 0),S(this,Zm,c.parseResponse(i.data),"f"),S(this,eh,e,"f"),this.transcript=d(this,Zm,"f").actions_memo.getType(Fn).first()}selectLanguage(e){var i,o,s,r;return b(this,void 0,void 0,function*(){let l=(r=(s=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.find(f=>f.title.toString()===e);if(!l)throw new Error(`Language not found: ${e}`);if(l.selected)return this;let p=yield d(this,eh,"f").execute("/get_transcript",{params:l.continuation});return new ks(d(this,eh,"f"),p)})}get languages(){var e,i,o,s;return((s=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||s===void 0?void 0:s.map(r=>r.title.toString()))||[]}get selectedLanguage(){var e,i,o,s,r;return((r=(s=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||s===void 0?void 0:s.find(l=>l.selected))===null||r===void 0?void 0:r.title.toString())||""}get page(){return d(this,Zm,"f")}};n(ks,"TranscriptInfo");Zm=new WeakMap,eh=new WeakMap;var ZI=ks;var Xi,Ft,Cs,th,Ax=class{constructor(e,i,o){var s,r;Xi.set(this,void 0),Ft.set(this,void 0),Cs.set(this,void 0),th.set(this,void 0),S(this,Ft,i,"f");let l=c.parseResponse(e[0].data),p=!((s=e==null?void 0:e[1])===null||s===void 0)&&s.data?c.parseResponse(e[1].data):void 0;if(S(this,Xi,[l,p],"f"),S(this,Cs,o,"f"),((r=l.playability_status)===null||r===void 0?void 0:r.status)==="ERROR")throw new x("This video is unavailable",l.playability_status);this.streaming_data=l.streaming_data,this.playability_status=l.playability_status,S(this,th,l.playback_tracking,"f")}toDash(e,i,o={include_thumbnails:!1}){var s;return b(this,void 0,void 0,function*(){let r=d(this,Xi,"f")[0];if(r.video_details&&(r.video_details.is_live||r.video_details.is_post_live_dvr))throw new x("Generating DASH manifests for live and Post-Live-DVR videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let l;return o.include_thumbnails&&((s=r.storyboards)===null||s===void 0?void 0:s.is(co))&&(l=r.storyboards),Px(this.streaming_data,e,i,d(this,Cs,"f"),d(this,Ft,"f").session.player,d(this,Ft,"f"),l)})}getStreamingInfo(e,i){var o;return Ex(this.streaming_data,e,i,this.cpn,d(this,Ft,"f").session.player,d(this,Ft,"f"),!((o=d(this,Xi,"f")[0].storyboards)===null||o===void 0)&&o.is(co)?d(this,Xi,"f")[0].storyboards:void 0)}chooseFormat(e){return Nx(e,this.streaming_data)}download(e={}){return b(this,void 0,void 0,function*(){let i=d(this,Xi,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new x("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return jb(e,d(this,Ft,"f"),this.playability_status,this.streaming_data,d(this,Ft,"f").session.player,this.cpn)})}getTranscript(){var e;return b(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new x("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new x("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new x("Transcript panel not found. Video likely has no transcript.");let s=(e=o.content)===null||e===void 0?void 0:e.as(he);if(!s)throw new x("Transcript continuation not found.");let r=yield s.endpoint.call(this.actions);return new ZI(this.actions,r)})}addToWatchHistory(e=G.WEB.NAME,i=G.WEB.VERSION,o="https://www."){return b(this,void 0,void 0,function*(){if(!d(this,th,"f"))throw new x("Playback tracking not available");let s={cpn:d(this,Cs,"f"),fmt:251,rtn:0,rt:0},r=d(this,th,"f").videostats_playback_url.replace("https://s.",o);return yield d(this,Ft,"f").stats(r,{client_name:e,client_version:i},s)})}get actions(){return d(this,Ft,"f")}get cpn(){return d(this,Cs,"f")}get page(){return d(this,Xi,"f")}};n(Ax,"MediaInfo");Xi=new WeakMap,Ft=new WeakMap,Cs=new WeakMap,th=new WeakMap;var Qi=Ax;var Zi,Es=class extends Qi{constructor(e,i,o){var s,r,l,p,f,h,_,g,w,T,C,N,R,O,q,z,me,ge,Te,Se,Ae,K,J,X,ie,Re,ut,lt,$,Ye,Wt,Ht,Ie,tt,yn,wn,Tn,Sn,In,kn,Cn,Vr;super(e,i,o),Zi.set(this,void 0);let[de,ai]=this.page;if(de.microformat&&!(!((s=de.microformat)===null||s===void 0)&&s.is(Rt,Kt)))throw new x("Invalid microformat",de.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},de.video_details),{embed:!((r=de.microformat)===null||r===void 0)&&r.is(Rt)?(l=de.microformat)===null||l===void 0?void 0:l.embed:null,channel:!((p=de.microformat)===null||p===void 0)&&p.is(Rt)?(f=de.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(h=de.microformat)===null||h===void 0?void 0:h.is_unlisted,is_family_safe:(_=de.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((g=de.microformat)===null||g===void 0)&&g.is(Rt)?(w=de.microformat)===null||w===void 0?void 0:w.category:null,has_ypc_metadata:!((T=de.microformat)===null||T===void 0)&&T.is(Rt)?(C=de.microformat)===null||C===void 0?void 0:C.has_ypc_metadata:null,start_timestamp:!((N=de.microformat)===null||N===void 0)&&N.is(Rt)?de.microformat.start_timestamp:null,view_count:((R=de.microformat)===null||R===void 0?void 0:R.is(Rt))&&isNaN((O=de.video_details)===null||O===void 0?void 0:O.view_count)?de.microformat.view_count:(q=de.video_details)===null||q===void 0?void 0:q.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=de.annotations,this.storyboards=de.storyboards,this.endscreen=de.endscreen,this.captions=de.captions,this.cards=de.cards,this.streaming_data){let De=this.streaming_data.adaptive_formats.find(Ti=>{var qe;return(qe=Ti.audio_track)===null||qe===void 0?void 0:qe.audio_is_default});if(De)this.streaming_data.formats.forEach(Ti=>Ti.language=De.language);else if(typeof((z=this.captions)===null||z===void 0?void 0:z.default_audio_track_index)<"u"&&((me=this.captions)===null||me===void 0?void 0:me.audio_tracks)&&this.captions.caption_tracks){let qe=this.captions.audio_tracks[this.captions.default_audio_track_index].default_caption_track_index||0,Ny=this.captions.caption_tracks[qe].language_code;this.streaming_data.adaptive_formats.forEach(Sh=>{Sh.has_audio&&(Sh.language=Ny)}),this.streaming_data.formats.forEach(Sh=>Sh.language=Ny)}}let it=(ge=ai==null?void 0:ai.contents)===null||ge===void 0?void 0:ge.item().as(as),En=it==null?void 0:it.results,Th=it==null?void 0:it.secondary_results;if(En&&Th){if(((Te=de.microformat)===null||Te===void 0?void 0:Te.is(Rt))&&((Se=de.microformat)===null||Se===void 0?void 0:Se.category)==="Gaming"){let qe=(J=(K=(Ae=En.firstOfType(Tm))===null||Ae===void 0?void 0:Ae.metadata)===null||K===void 0?void 0:K.rows)===null||J===void 0?void 0:J.firstOfType(hf);qe!=null&&qe.is(hf)&&(this.game_info={title:(ie=(X=qe==null?void 0:qe.contents)===null||X===void 0?void 0:X.firstOfType(ff))===null||ie===void 0?void 0:ie.title,release_year:(ut=(Re=qe==null?void 0:qe.contents)===null||Re===void 0?void 0:Re.firstOfType(ff))===null||ut===void 0?void 0:ut.subtitle})}this.primary_info=En.firstOfType(j0),this.secondary_info=En.firstOfType(Tm),this.merchandise=En.firstOfType(zv),this.related_chip_cloud=(lt=Th.firstOfType(k0))===null||lt===void 0?void 0:lt.content.as(ct),it!=null&&it.playlist&&(this.playlist=it.playlist),this.watch_next_feed=(($=Th.firstOfType(ve))===null||$===void 0?void 0:$.contents)||Th,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Ye=this.watch_next_feed.at(-1))===null||Ye===void 0?void 0:Ye.is(he))&&S(this,Zi,(Wt=this.watch_next_feed.pop())===null||Wt===void 0?void 0:Wt.as(he),"f"),this.player_overlays=(Ht=ai==null?void 0:ai.player_overlays)===null||Ht===void 0?void 0:Ht.item().as(Li),it!=null&&it.autoplay&&(this.autoplay=it.autoplay);let De=(tt=(Ie=this.primary_info)===null||Ie===void 0?void 0:Ie.menu)===null||tt===void 0?void 0:tt.top_level_buttons.firstOfType(Io);((yn=De==null?void 0:De.like_button)===null||yn===void 0?void 0:yn.is(Ve))&&((wn=De==null?void 0:De.dislike_button)===null||wn===void 0?void 0:wn.is(Ve))&&(this.basic_info.like_count=(Tn=De==null?void 0:De.like_button)===null||Tn===void 0?void 0:Tn.like_count,this.basic_info.is_liked=(Sn=De==null?void 0:De.like_button)===null||Sn===void 0?void 0:Sn.is_toggled,this.basic_info.is_disliked=(In=De==null?void 0:De.dislike_button)===null||In===void 0?void 0:In.is_toggled);let Ti=(kn=En.get({target_id:"comments-entry-point"}))===null||kn===void 0?void 0:kn.as(ve);this.comments_entry_point_header=(Cn=Ti==null?void 0:Ti.contents)===null||Cn===void 0?void 0:Cn.firstOfType(q_),this.livechat=(Vr=ai==null?void 0:ai.contents_memo)===null||Vr===void 0?void 0:Vr.getType(Ev).first()}}selectFilter(e){var i,o,s,r;return b(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new x("Chip cloud not found, cannot apply filter");let l;if(typeof e=="string"){let h=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!h)throw new x("Invalid filter",{available_filters:this.filters});l=h}else if(e!=null&&e.is(_e))l=e;else throw new x("Invalid cloud chip",e);if(l.is_selected)return this;let p=yield(s=l.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0}),f=(r=p==null?void 0:p.on_response_received_endpoints)===null||r===void 0?void 0:r.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return b(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,s,r;return b(this,void 0,void 0,function*(){if(!d(this,Zi,"f"))throw new x("Watch next feed continuation not found");let l=yield(e=d(this,Zi,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=l==null?void 0:l.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!p)throw new x("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((s=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||s===void 0)&&s.is(he)?S(this,Zi,(r=this.watch_next_feed.pop())===null||r===void 0?void 0:r.as(he),"f"):S(this,Zi,void 0,"f"),this})}like(){var e,i;return b(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Io),s=o==null?void 0:o.like_button;if(!s)throw new x("Like button not found",{video_id:this.basic_info.id});if(!s.is(Ve))throw new x("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new x("This video is already liked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}dislike(){var e,i;return b(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Io),s=o==null?void 0:o.dislike_button;if(!s)throw new x("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(Ve))throw new x("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new x("This video is already disliked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}removeRating(){var e,i;return b(this,void 0,void 0,function*(){let o,s=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Io),r=s==null?void 0:s.like_button,l=s==null?void 0:s.dislike_button;if(!(r!=null&&r.is(Ve))||!(l!=null&&l.is(Ve)))throw new x("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r!=null&&r.is_toggled?o=r:l!=null&&l.is_toggled&&(o=l),!o)throw new x("This video is not liked/disliked",{video_id:this.basic_info.id});return yield o.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new x("Live Chat is not available",{video_id:this.basic_info.id});return new gx(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Vp).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new Es([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var s;return(s=o.text)===null||s===void 0?void 0:s.toString()}))||[]}get wn_has_continuation(){return!!d(this,Zi,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(Vp))}get music_tracks(){var e,i,o,s,r,l;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var h;return(h=f.content)===null||h===void 0?void 0:h.is(mo)});if(p!==void 0&&p.length>0){let f=(r=(s=(o=p[0].content)===null||o===void 0?void 0:o.as(mo))===null||s===void 0?void 0:s.items)===null||r===void 0?void 0:r.filterType(Dn);if(f!==void 0&&f.length>0)return(l=f[0].carousel_lockups)===null||l===void 0?void 0:l.map(h=>{var _,g,w,T,C,N,R,O,q,z,me,ge,Te,Se,Ae,K,J,X,ie;let Re,ut,lt,$,Ye,Wt;Re=(g=(_=h.video_lockup)===null||_===void 0?void 0:_.title)===null||g===void 0?void 0:g.toString(),Ye=(w=h.video_lockup)===null||w===void 0?void 0:w.endpoint.payload.videoId;for(let Ht=0;Ht<h.info_rows.length;Ht++){let Ie=h.info_rows[Ht];if(Ie.info_row_expand_status_key===void 0)if(Re===void 0){if(Re=((T=Ie.default_metadata)===null||T===void 0?void 0:T.toString())||((C=Ie.expanded_metadata)===null||C===void 0?void 0:C.toString()),Ye===void 0){let tt=((N=Ie.default_metadata)===null||N===void 0?void 0:N.endpoint)||((R=Ie.expanded_metadata)===null||R===void 0?void 0:R.endpoint);Ye=(O=tt==null?void 0:tt.payload)===null||O===void 0?void 0:O.videoId}}else lt=((q=Ie.default_metadata)===null||q===void 0?void 0:q.toString())||((z=Ie.expanded_metadata)===null||z===void 0?void 0:z.toString());else{if(((me=Ie.info_row_expand_status_key)===null||me===void 0?void 0:me.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(ut=((ge=Ie.default_metadata)===null||ge===void 0?void 0:ge.toString())||((Te=Ie.expanded_metadata)===null||Te===void 0?void 0:Te.toString()),Wt===void 0)){let tt=((Se=Ie.default_metadata)===null||Se===void 0?void 0:Se.endpoint)||((Ae=Ie.expanded_metadata)===null||Ae===void 0?void 0:Ae.endpoint);Wt=(K=tt==null?void 0:tt.payload)===null||K===void 0?void 0:K.browseId}((J=Ie.info_row_expand_status_key)===null||J===void 0?void 0:J.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&($=((X=Ie.default_metadata)===null||X===void 0?void 0:X.toString())||((ie=Ie.expanded_metadata)===null||ie===void 0?void 0:ie.toString()))}}return{song:Re,artist:ut,album:lt,license:$,videoId:Ye,channelId:Wt}})}return[]}};n(Es,"VideoInfo");Zi=new WeakMap;var ih=Es;var zb={};D(zb,{Album:()=>Mx,Artist:()=>Dx,Explore:()=>Lx,HomeFeed:()=>Fx,Library:()=>Yx,LibraryContinuation:()=>Ko,Playlist:()=>Ds,Recap:()=>jx,Search:()=>Wx,TrackInfo:()=>uh});var _i,Rx=class{constructor(e){var i,o,s;if(_i.set(this,void 0),S(this,_i,c.parseResponse(e.data),"f"),this.header=(i=d(this,_i,"f").header)===null||i===void 0?void 0:i.item().as(To),this.url=((o=d(this,_i,"f").microformat)===null||o===void 0?void 0:o.as(Kt).url_canonical)||null,!d(this,_i,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(s=d(this,_i,"f").contents_memo.getType(be))===null||s===void 0?void 0:s.first().contents,this.sections=d(this,_i,"f").contents_memo.getType(Ee)||[]}get page(){return d(this,_i,"f")}};n(Rx,"Album");_i=new WeakMap;var Mx=Rx;var Ps,Vx,Ox=class{constructor(e,i){var o,s,r;Ps.set(this,void 0),Vx.set(this,void 0),S(this,Ps,c.parseResponse(e.data),"f"),S(this,Vx,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(n0,l0,Di);let l=((s=d(this,Ps,"f").contents_memo)===null||s===void 0?void 0:s.getType(be))||[],p=((r=d(this,Ps,"f").contents_memo)===null||r===void 0?void 0:r.getType(Ee))||[];this.sections=[...l,...p]}getAllSongs(){var e,i;return b(this,void 0,void 0,function*(){let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new x("Could not find any node of type MusicShelf.");let s=o.find(p=>p.title.toString()==="Songs");if(!s)throw new x("Could not find target shelf (Songs).");if(!s.endpoint)throw new x("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield s.endpoint.call(d(this,Vx,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(So))===null||i===void 0?void 0:i.first()})}get page(){return d(this,Ps,"f")}};n(Ox,"Artist");Ps=new WeakMap,Vx=new WeakMap;var Dx=Ox;var oh,Bx=class{constructor(e){var i,o,s;oh.set(this,void 0),S(this,oh,c.parseResponse(e.data),"f");let r=(i=d(this,oh,"f").contents)===null||i===void 0?void 0:i.item().as(Xt).tabs.get({selected:!0});if(!r)throw new x("Could not find target tab.");let l=(o=r.content)===null||o===void 0?void 0:o.as(Q);if(!l)throw new x("Target tab did not have any content.");this.top_buttons=((s=l.contents.firstOfType(go))===null||s===void 0?void 0:s.items.as(Zn))||[],this.sections=l.contents.filterType(Ee)}get page(){return d(this,oh,"f")}};n(Bx,"Explore");oh=new WeakMap;var Lx=Bx;var eo,Jo,Go,zo=class{constructor(e,i){var o,s,r,l,p,f;eo.set(this,void 0),Jo.set(this,void 0),Go.set(this,void 0),S(this,Jo,i,"f"),S(this,eo,c.parseResponse(e.data),"f");let h=(o=d(this,eo,"f").contents)===null||o===void 0?void 0:o.item().as(Xt).tabs.get({selected:!0});if(!h)throw new x("Could not find Home tab.");if(h.content===null){if(!d(this,eo,"f").continuation_contents)throw new x("Continuation did not have any content.");S(this,Go,d(this,eo,"f").continuation_contents.as(nt).continuation,"f"),this.sections=(s=d(this,eo,"f").continuation_contents.as(nt).contents)===null||s===void 0?void 0:s.as(Ee);return}this.header=(l=(r=h.content)===null||r===void 0?void 0:r.as(Q).header)===null||l===void 0?void 0:l.as(ct),S(this,Go,(p=h.content)===null||p===void 0?void 0:p.as(Q).continuation,"f"),this.sections=(f=h.content)===null||f===void 0?void 0:f.as(Q).contents.as(Ee,u0)}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,Go,"f"))throw new x("Continuation not found.");let e=yield d(this,Jo,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,Go,"f")});return new zo(e,d(this,Jo,"f"))})}applyFilter(e){var i,o;return b(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(_e).get({text:e}),!s)throw new x("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(_e)&&(s=e);if(!s)throw new x("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new x("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(d(this,Jo,"f"),{client:"YTMUSIC"});return new zo(r,d(this,Jo,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(_e).map(o=>o.text))||[]}get has_continuation(){return!!d(this,Go,"f")}get page(){return d(this,eo,"f")}};n(zo,"HomeFeed");eo=new WeakMap,Jo=new WeakMap,Go=new WeakMap;var Fx=zo;var ii,to,Ns,As,nh,Rs,Ms=class{constructor(e,i){var o,s,r,l,p;ii.set(this,void 0),to.set(this,void 0),Ns.set(this,void 0),S(this,ii,c.parseResponse(e.data),"f"),S(this,to,i,"f");let f=(o=d(this,ii,"f").contents_memo)===null||o===void 0?void 0:o.getType(Q).first();this.header=(s=f==null?void 0:f.header)===null||s===void 0?void 0:s.as(r0),this.contents=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(go,be),S(this,Ns,(p=(l=this.contents)===null||l===void 0?void 0:l.find(h=>h.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,o,s,r,l,p,f,h,_,g;return b(this,void 0,void 0,function*(){let w;if(typeof e=="string"){let R=(i=d(this,ii,"f").contents_memo)===null||i===void 0?void 0:i.getType(gp).first(),O=(o=R==null?void 0:R.menu)===null||o===void 0?void 0:o.options.filter(q=>q instanceof Ct);if(w=O==null?void 0:O.find(q=>q.title===e),!w)throw new x(`Sort option "${e}" not found`,{available_filters:O.map(q=>q.title)})}else e instanceof Ct&&(w=e);if(!w)throw new x("Invalid sort option");if(w.selected)return this;let T=(p=(l=(r=(s=w.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commands)===null||l===void 0?void 0:l.find(R=>R.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!T)throw new x("Failed to find sort option command");let C=yield d(this,to,"f").execute("/browse",{client:"YTMUSIC",continuation:T.continuation.reloadContinuationData.continuation,parse:!0}),N=(h=(f=d(this,ii,"f").contents_memo)===null||f===void 0?void 0:f.getType(Ct))===null||h===void 0?void 0:h.find(R=>R.selected);return N&&(N.selected=!1),w.selected=!0,this.contents=(g=(_=C.continuation_contents)===null||_===void 0?void 0:_.as(nt).contents)===null||g===void 0?void 0:g.as(go,be),this})}applyFilter(e){var i,o,s,r;return b(this,void 0,void 0,function*(){let l,p=(i=d(this,ii,"f").contents_memo)===null||i===void 0?void 0:i.getType(ct).first();if(typeof e=="string"){if(l=p==null?void 0:p.chips.get({text:e}),!l)throw new x(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof _e&&(l=e);if(!l)throw new x("Invalid filter",e);let h=yield new v((r=(s=(o=l.endpoint)===null||o===void 0?void 0:o.payload)===null||s===void 0?void 0:s.commands)===null||r===void 0?void 0:r[0]).call(d(this,to,"f"),{client:"YTMUSIC"});return new Ms(h,d(this,to,"f"))})}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,Ns,"f"))throw new x("No continuation available");let e=yield d(this,to,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,Ns,"f")});return new Ko(e,d(this,to,"f"))})}get has_continuation(){return!!d(this,Ns,"f")}get sort_options(){var e,i;let o=(e=d(this,ii,"f").contents_memo)===null||e===void 0?void 0:e.getType(gp).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(r=>r instanceof Ct)).map(r=>r.title)}get filters(){var e,i;return((i=(e=d(this,ii,"f").contents_memo)===null||e===void 0?void 0:e.getType(ct))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return d(this,ii,"f")}};n(Ms,"Library");ii=new WeakMap,to=new WeakMap,Ns=new WeakMap;var Ko=class{constructor(e,i){if(As.set(this,void 0),nh.set(this,void 0),Rs.set(this,void 0),S(this,As,c.parseResponse(e.data),"f"),S(this,nh,i,"f"),!d(this,As,"f").continuation_contents)throw new x("No continuation contents found");this.contents=d(this,As,"f").continuation_contents.as(Zt,Ji),S(this,Rs,this.contents.continuation||null,"f")}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,Rs,"f"))throw new x("No continuation available");let e=yield d(this,nh,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,Rs,"f")});return new Ko(e,d(this,nh,"f"))})}get has_continuation(){return!!d(this,Rs,"f")}get page(){return d(this,As,"f")}};n(Ko,"LibraryContinuation");As=new WeakMap,nh=new WeakMap,Rs=new WeakMap;var Yx=Ms;var Gb,pt,qo,$o,Vs,sh,e1,Os=class{constructor(e,i){var o,s,r,l,p,f,h;if(Gb.add(this),pt.set(this,void 0),qo.set(this,void 0),$o.set(this,void 0),Vs.set(this,void 0),sh.set(this,void 0),S(this,qo,i,"f"),S(this,pt,c.parseResponse(e.data),"f"),S(this,Vs,null,"f"),S(this,sh,null,"f"),d(this,pt,"f").continuation_contents){let _=(o=d(this,pt,"f").continuation_contents)===null||o===void 0?void 0:o.as(Hi);this.items=_.contents,S(this,$o,_.continuation,"f")}else((s=d(this,pt,"f").header)===null||s===void 0?void 0:s.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(l=(r=d(this,pt,"f").header)===null||r===void 0?void 0:r.item().as(o0).header)===null||l===void 0?void 0:l.as(To):this.header=(p=d(this,pt,"f").header)===null||p===void 0?void 0:p.item().as(To),this.items=((f=d(this,pt,"f").contents_memo)===null||f===void 0?void 0:f.getType(So).first().contents)||null,S(this,$o,((h=d(this,pt,"f").contents_memo)===null||h===void 0?void 0:h.getType(So).first().continuation)||null,"f")}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,$o,"f"))throw new x("Continuation not found.");let e=yield d(this,qo,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,$o,"f")});return new Os(e,d(this,qo,"f"))})}getRelated(){var e,i,o,s,r;return b(this,void 0,void 0,function*(){let l=(i=(e=d(this,pt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Q))===null||i===void 0?void 0:i[0].continuation;for(;l;){let f=(o=(yield d(this,qo,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(nt),h=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Ee,be),_=(r=h==null?void 0:h.matchCondition(g=>g.is(Ee)))===null||r===void 0?void 0:r.as(Ee);if(_)return _;l=f==null?void 0:f.continuation}throw new x("Target section not found.")})}getSuggestions(e=!0){return b(this,void 0,void 0,function*(){let s=yield e||!d(this,Vs,"f")?d(this,Gb,"m",e1).call(this):Promise.resolve(null);return s&&(S(this,Vs,s.items,"f"),S(this,sh,s.continuation,"f")),(s==null?void 0:s.items)||d(this,Vs,"f")})}get page(){return d(this,pt,"f")}get has_continuation(){return!!d(this,$o,"f")}};n(Os,"Playlist");pt=new WeakMap,qo=new WeakMap,$o=new WeakMap,Vs=new WeakMap,sh=new WeakMap,Gb=new WeakSet,e1=n(function(){var e,i,o,s,r;return b(this,void 0,void 0,function*(){let l=d(this,sh,"f")||((i=(e=d(this,pt,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(Q).continuation);if(l){let f=(o=(yield d(this,qo,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(nt),h=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Ee,be),_=(r=h==null?void 0:h.matchCondition(g=>g.is(be)))===null||r===void 0?void 0:r.as(be);return{items:(_==null?void 0:_.contents)||[],continuation:(_==null?void 0:_.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var Ds=Os;var io,rh,Ux=class{constructor(e,i){var o,s,r,l,p,f,h;io.set(this,void 0),rh.set(this,void 0),S(this,io,c.parseResponse(e.data),"f"),S(this,rh,i,"f");let _=(o=d(this,io,"f").header)===null||o===void 0?void 0:o.item();this.header=_!=null&&_.is(sp)?(l=(r=(s=d(this,io,"f").header)===null||s===void 0?void 0:s.item().as(sp).element)===null||r===void 0?void 0:r.model)===null||l===void 0?void 0:l.as(_c):(p=d(this,io,"f").header)===null||p===void 0?void 0:p.item().as(Di);let g=(f=d(this,io,"f").contents)===null||f===void 0?void 0:f.item().as(Xt).tabs.firstOfType(xe);if(!g)throw new x("Target tab not found");this.sections=(h=g.content)===null||h===void 0?void 0:h.as(Q).contents.as(ve,Ee,He)}getPlaylist(){return b(this,void 0,void 0,function*(){if(!this.header)throw new x("Header not found");if(!this.header.is(_c))throw new x("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(d(this,rh,"f"),{client:"YTMUSIC"});return new Ds(i,d(this,rh,"f"))})}get page(){return d(this,io,"f")}};n(Ux,"Recap");io=new WeakMap,rh=new WeakMap;var jx=Ux;var oi,vi,Bs,ah,Ls,Xo=class{constructor(e,i,o){var s,r,l;if(oi.set(this,void 0),vi.set(this,void 0),Bs.set(this,void 0),S(this,vi,i,"f"),S(this,oi,c.parseResponse(e.data),"f"),!d(this,oi,"f").contents||!d(this,oi,"f").contents_memo)throw new x("Response did not contain any contents.");let p=d(this,oi,"f").contents.item().as(L0).tabs.get({selected:!0});if(!p)throw new x("Could not find target tab.");let f=(s=p.content)===null||s===void 0?void 0:s.as(Q);if(!f)throw new x("Target tab did not have any content.");this.header=(r=f.header)===null||r===void 0?void 0:r.as(ct),this.contents=f.contents.as(be,Qv,ve),o&&S(this,Bs,(l=this.contents.firstOfType(be))===null||l===void 0?void 0:l.continuation,"f")}getMore(e){return b(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new x("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(d(this,vi,"f"),{client:"YTMUSIC"});if(!i)throw new x("Endpoint did not return any data");return new Xo(i,d(this,vi,"f"),!0)})}getContinuation(){return b(this,void 0,void 0,function*(){if(!d(this,Bs,"f"))throw new x("Continuation not found.");let e=yield d(this,vi,"f").execute("/search",{continuation:d(this,Bs,"f"),client:"YTMUSIC"});return new Fs(d(this,vi,"f"),e)})}applyFilter(e){var i,o;return b(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(_e).get({text:e}),!s)throw new x("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(_e)&&(s=e);if(!s)throw new x("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new x("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(d(this,vi,"f"),{client:"YTMUSIC"});return new Xo(r,d(this,vi,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(_e).map(o=>o.text))||[]}get has_continuation(){return!!d(this,Bs,"f")}get did_you_mean(){var e;return(e=d(this,oi,"f").contents_memo)===null||e===void 0?void 0:e.getType(sv).first()}get showing_results_for(){var e;return(e=d(this,oi,"f").contents_memo)===null||e===void 0?void 0:e.getType(O0).first()}get message(){var e;return(e=d(this,oi,"f").contents_memo)===null||e===void 0?void 0:e.getType(He).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(be))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be)}get page(){return d(this,oi,"f")}};n(Xo,"Search");oi=new WeakMap,vi=new WeakMap,Bs=new WeakMap;var Wx=Xo,Fs=class{constructor(e,i){var o,s;ah.set(this,void 0),Ls.set(this,void 0),S(this,ah,e,"f"),S(this,Ls,c.parseResponse(i.data),"f"),this.header=(o=d(this,Ls,"f").header)===null||o===void 0?void 0:o.item().as(Di),this.contents=(s=d(this,Ls,"f").continuation_contents)===null||s===void 0?void 0:s.as(Zt)}getContinuation(){var e;return b(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new x("Continuation not found.");let i=yield d(this,ah,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new Fs(d(this,ah,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return d(this,Ls,"f")}};n(Fs,"SearchContinuation");ah=new WeakMap,Ls=new WeakMap;var Hx=class extends Qi{constructor(e,i,o){var s,r,l,p,f,h,_,g,w;super(e,i,o);let[T,C]=this.page;if(!(!((s=T.microformat)===null||s===void 0)&&s.is(Kt)))throw new x("Invalid microformat",T.microformat);if(this.basic_info=Object.assign(Object.assign({},T.video_details),{description:(r=T.microformat)===null||r===void 0?void 0:r.description,is_unlisted:(l=T.microformat)===null||l===void 0?void 0:l.is_unlisted,is_family_safe:(p=T.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=T.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(h=T.microformat)===null||h===void 0?void 0:h.tags}),this.storyboards=T.storyboards,this.endscreen=T.endscreen,C){let N=(g=(_=C.contents_memo)===null||_===void 0?void 0:_.getType(H0))===null||g===void 0?void 0:g[0];this.tabs=N==null?void 0:N.tabs.array().as(xe),this.current_video_endpoint=C.current_video_endpoint,this.player_overlays=(w=C.player_overlays)===null||w===void 0?void 0:w.item().as(Li)}}getTab(e){var i,o;return b(this,void 0,void 0,function*(){if(!this.tabs)throw new x("Could not find any tab");let s=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var p,f;return((f=(p=l.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!s)throw new x(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(s.content)return s.content;let r=yield s.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=r.contents)===null||o===void 0?void 0:o.item().type)==="Message")return r.contents.item().as(He);if(!r.contents)throw new x("Page contents was empty",r);return r.contents.item().as(Q).contents})}getUpNext(e=!0){var i,o;return b(this,void 0,void 0,function*(){let s=yield this.getTab("Up next");if(!s||!s.content)throw new x("Music queue was empty, the video id is probably invalid.",s);let r=s.content.as(qt);if(!r.playlist_id&&e){let l=r.contents.firstOfType(Ai);if(!l)throw new x("Automix item not found");let p=yield(i=l.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new x("Could not fetch automix");return(o=p.contents_memo.getType(qt))===null||o===void 0?void 0:o[0]}return r})}getRelated(){return b(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return b(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(wo)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return b(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,G.YTMUSIC.NAME,G.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(Hx,"TrackInfo");var uh=Hx;var Kb={};D(Kb,{Channel:()=>Jx,HomeFeed:()=>Gx,Search:()=>Kx,VideoInfo:()=>qx});var Ys=class extends fe{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(Mi),this.contents=this.memo.getType(ve).first()||((r=this.page.continuation_contents)===null||r===void 0?void 0:r.as(Ui))}getContinuation(){var e;return b(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new Ys(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(Ys,"Channel");var Jx=Ys;var Us=class extends fe{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(G0),this.contents=(r=this.page.contents)===null||r===void 0?void 0:r.item().as(z0)}selectCategoryTab(e){var i;return b(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(cs)&&(o=e),!o)throw new x(`Tab "${e}" not found`);let s=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new Us(this.actions,s,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(Us,"HomeFeed");var Gx=Us;var zx=class extends fe{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(ve).first();if(!o)throw new x("No item section found in search response.");this.contents=o.contents}};n(zx,"Search");var Kx=zx;var $x=class extends Qi{constructor(e,i,o){var s,r,l,p,f;super(e,i,o);let[h,_]=this.page;this.basic_info=h.video_details,this.captions=h.captions;let g=(s=_==null?void 0:_.contents)===null||s===void 0?void 0:s.item().as(as),w=g==null?void 0:g.results,T=g==null?void 0:g.secondary_results;w&&T&&(this.slim_video_metadata=(l=(r=w.firstOfType(ve))===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(D0),this.watch_next_feed=((p=T.firstOfType(ve))===null||p===void 0?void 0:p.contents)||T,this.current_video_endpoint=_==null?void 0:_.current_video_endpoint,this.player_overlays=(f=_==null?void 0:_.player_overlays)===null||f===void 0?void 0:f.item().as(Li))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return b(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n($x,"VideoInfo");var qx=$x;var qb={};D(qb,{VideoInfo:()=>fg});var $b={};D($b,{Account:()=>en,Browse:()=>Qx,BrowseEndpoint:()=>U,Channel:()=>xi,Comment:()=>tg,GetNotificationMenuEndpoint:()=>Qo,GuideEndpoint:()=>js,Kids:()=>cg,Like:()=>ig,Music:()=>og,NextEndpoint:()=>ke,Notification:()=>ng,PlayerEndpoint:()=>Qe,Playlist:()=>sg,Reel:()=>gt,ResolveURLEndpoint:()=>Zo,SearchEndpoint:()=>ft,Subscription:()=>rg,Upload:()=>lg});var U={};D(U,{PATH:()=>mC,build:()=>hC});var mC="/browse";function hC(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(hC,"build");var Qo={};D(Qo,{PATH:()=>_C,build:()=>vC});var _C="/notification/get_notification_menu";function vC(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(vC,"build");var js={};D(js,{PATH:()=>xC});var xC="/guide";var ke={};D(ke,{PATH:()=>gC,build:()=>bC});var gC="/next";function bC(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(bC,"build");var Qe={};D(Qe,{PATH:()=>yC,build:()=>wC});var yC="/player";function wC(t){let e=t.client==="ANDROID"||t.client==="YTMUSIC_ANDROID"||t.client==="YTSTUDIO_ANDROID";return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?"2AMBCgIQBg":t.params})}n(wC,"build");var Zo={};D(Zo,{PATH:()=>TC,build:()=>SC});var TC="/navigation/resolve_url";function SC(t){return Object.assign({url:t.url})}n(SC,"build");var ft={};D(ft,{PATH:()=>IC,build:()=>kC});var IC="/search";function kC(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n(kC,"build");var en={};D(en,{AccountListEndpoint:()=>Xx});var Xx={};D(Xx,{PATH:()=>CC,build:()=>EC});var CC="/account/accounts_list";function EC(){return{client:"ANDROID"}}n(EC,"build");var Qx={};D(Qx,{EditPlaylistEndpoint:()=>Ze});var Ze={};D(Ze,{PATH:()=>PC,build:()=>NC});var PC="/browse/edit_playlist";function NC(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}n(NC,"build");var xi={};D(xi,{EditDescriptionEndpoint:()=>eg,EditNameEndpoint:()=>Zx});var Zx={};D(Zx,{PATH:()=>AC,build:()=>RC});var AC="/channel/edit_name";function RC(t){return{givenName:t.given_name,client:"ANDROID"}}n(RC,"build");var eg={};D(eg,{PATH:()=>MC,build:()=>VC});var MC="/channel/edit_description";function VC(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(VC,"build");var tg={};D(tg,{CreateCommentEndpoint:()=>on,PerformCommentActionEndpoint:()=>tn});var tn={};D(tn,{PATH:()=>OC,build:()=>DC});var OC="/comment/perform_comment_action";function DC(t){return Object.assign({actions:t.actions},{client:t.client})}n(DC,"build");var on={};D(on,{PATH:()=>BC,build:()=>LC});var BC="/comment/create_comment";function LC(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n(LC,"build");var ig={};D(ig,{DislikeEndpoint:()=>sn,LikeEndpoint:()=>nn,RemoveLikeEndpoint:()=>rn});var nn={};D(nn,{PATH:()=>FC,build:()=>YC});var FC="/like/like";function YC(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(YC,"build");var sn={};D(sn,{PATH:()=>UC,build:()=>jC});var UC="/like/dislike";function jC(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(jC,"build");var rn={};D(rn,{PATH:()=>WC,build:()=>HC});var WC="/like/removelike";function HC(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(HC,"build");var og={};D(og,{GetSearchSuggestionsEndpoint:()=>an});var an={};D(an,{PATH:()=>JC,build:()=>GC});var JC="/music/get_search_suggestions";function GC(t){return{input:t.input,client:"YTMUSIC"}}n(GC,"build");var ng={};D(ng,{GetUnseenCountEndpoint:()=>Ws,ModifyChannelPreferenceEndpoint:()=>un});var Ws={};D(Ws,{PATH:()=>zC});var zC="/notification/get_unseen_count";var un={};D(un,{PATH:()=>KC,build:()=>$C});var KC="/notification/modify_channel_preference";function $C(t){return Object.assign({params:t.params},{client:t.client})}n($C,"build");var sg={};D(sg,{CreateEndpoint:()=>ln,DeleteEndpoint:()=>cn});var ln={};D(ln,{PATH:()=>qC,build:()=>XC});var qC="/playlist/create";function XC(t){return{title:t.title,ids:t.ids}}n(XC,"build");var cn={};D(cn,{PATH:()=>QC,build:()=>ZC});var QC="/playlist/delete";function ZC(t){return{playlistId:t.playlist_id}}n(ZC,"build");var rg={};D(rg,{SubscribeEndpoint:()=>dn,UnsubscribeEndpoint:()=>pn});var dn={};D(dn,{PATH:()=>eE,build:()=>tE});var eE="/subscription/subscribe";function tE(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(tE,"build");var pn={};D(pn,{PATH:()=>iE,build:()=>oE});var iE="/subscription/unsubscribe";function oE(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(oE,"build");var gt={};D(gt,{WatchEndpoint:()=>ag,WatchSequenceEndpoint:()=>ug});var ag={};D(ag,{PATH:()=>nE,build:()=>sE});var nE="/reel/reel_item_watch";function sE(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}n(sE,"build");var ug={};D(ug,{PATH:()=>rE,build:()=>aE});var rE="/reel/reel_watch_sequence";function aE(t){return{sequenceParams:t.sequenceParams}}n(aE,"build");var lg={};D(lg,{CreateVideoEndpoint:()=>fn});var fn={};D(fn,{PATH:()=>uE,build:()=>lE});var uE="/upload/createvideo";function lE(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(lE,"build");var cg={};D(cg,{BlocklistPickerEndpoint:()=>mn});var mn={};D(mn,{PATH:()=>cE,build:()=>dE});var cE="/kids/get_kids_blocklist_picker";function dE(t){return{blockedForKidsContent:{external_channel_id:t.channel_id}}}n(dE,"build");var Hs,dg,pg=class{constructor(e,i){var o,s;Hs.set(this,void 0),dg.set(this,void 0),S(this,dg,i,"f");let r=c.parseResponse(e[0].data),l=c.parseResponse(e[1].data);this.basic_info=r.video_details,this.watch_next_feed=(o=l.entries)===null||o===void 0?void 0:o.array(),S(this,Hs,(s=l.continuationEndpoint)===null||s===void 0?void 0:s.as(pi),"f")}getWatchNextContinuation(){var e,i;return b(this,void 0,void 0,function*(){if(!d(this,Hs,"f"))throw new x("Watch next feed continuation not found");let o=yield d(this,dg,"f").execute(gt.WatchSequenceEndpoint.PATH,gt.WatchSequenceEndpoint.build({sequenceParams:d(this,Hs,"f").token}));if(!o.success)throw new x("Continue failed ",o.status_code);let s=c.parseResponse(o.data);return this.watch_next_feed=(e=s.entries)===null||e===void 0?void 0:e.array(),S(this,Hs,(i=s.continuationEndpoint)===null||i===void 0?void 0:i.as(pi),"f"),this})}};n(pg,"VideoInfo");Hs=new WeakMap,dg=new WeakMap;var fg=pg;var M=class{constructor(e,i,o,s){var r,l,p,f,h,_,g,w,T,C,N,R,O,q,z,me,ge,Te,Se,Ae,K,J,X,ie,Re,ut,lt;let $=new u(e);this.id=s||((f=(p=(l=(r=$==null?void 0:$.runs)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId)||((_=(h=$==null?void 0:$.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId)||"N/A",this.name=($==null?void 0:$.text)||"N/A",this.thumbnails=o?y.fromResponse(o):[],this.endpoint=((w=(g=$==null?void 0:$.runs)===null||g===void 0?void 0:g[0])===null||w===void 0?void 0:w.endpoint)||($==null?void 0:$.endpoint),this.badges=Array.isArray(i)?c.parseArray(i):ae([]),this.is_moderator=(T=this.badges)===null||T===void 0?void 0:T.some(Ye=>Ye.icon_type=="MODERATOR"),this.is_verified=(C=this.badges)===null||C===void 0?void 0:C.some(Ye=>Ye.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(N=this.badges)===null||N===void 0?void 0:N.some(Ye=>Ye.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((z=(q=(O=(R=$==null?void 0:$.runs)===null||R===void 0?void 0:R[0])===null||O===void 0?void 0:O.endpoint)===null||q===void 0?void 0:q.metadata)===null||z===void 0?void 0:z.api_url)==="/browse"&&`${pe.YT_BASE}${((Se=(Te=(ge=(me=$==null?void 0:$.runs)===null||me===void 0?void 0:me[0])===null||ge===void 0?void 0:ge.endpoint)===null||Te===void 0?void 0:Te.payload)===null||Se===void 0?void 0:Se.canonicalBaseUrl)||`/u/${(X=(J=(K=(Ae=$==null?void 0:$.runs)===null||Ae===void 0?void 0:Ae[0])===null||K===void 0?void 0:K.endpoint)===null||J===void 0?void 0:J.payload)===null||X===void 0?void 0:X.browseId}`}`||`${pe.YT_BASE}${((Re=(ie=$==null?void 0:$.endpoint)===null||ie===void 0?void 0:ie.payload)===null||Re===void 0?void 0:Re.canonicalBaseUrl)||`/u/${(lt=(ut=$==null?void 0:$.endpoint)===null||ut===void 0?void 0:ut.payload)===null||lt===void 0?void 0:lt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(M,"Author");var t1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var mg,hg,B=class{static load(e){S(B,mg,e,"f",hg)}static get shim(){if(!d(B,mg,"f",hg))throw new Error("Platform is not loaded");return d(B,mg,"f",hg)}};n(B,"Platform");mg=B;hg={value:void 0};var x=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=B.shim.info.version}};n(x,"InnertubeError");var _t=class extends x{};n(_t,"ParsingError");var hn=class extends x{};n(hn,"MissingParamError");var ni=class extends x{};n(ni,"OAuthError");var mt=class extends Error{};n(mt,"PlayerError");var Js=class extends Error{};n(Js,"SessionError");var hs=class extends Error{};n(hs,"ChannelError");function Ih(t,e){return Reflect.ownKeys(t).some(o=>{let s=e[o]instanceof u;return!s&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(s?e[o].toString():e[o])})}n(Ih,"deepCompare");function je(t,e,i){let o=new RegExp(`${Qb(e)}(.*?)${Qb(i)}`,"s"),s=t.match(o);return s?s[1]:void 0}n(je,"getStringBetweenStrings");function Qb(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(Qb,"escapeStringRegexp");function Ho(t){let e=t1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(Ho,"getRandomUserAgent");function Yb(t){return b(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),s=yield B.shim.sha1Hash(o);return["SAPISIDHASH",[i,s].join("_")].join(" ")})}n(Yb,"generateSidAuth");function bt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(bt,"generateRandomString");function Be(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Be,"timeToSeconds");function Ob(...t){let e=new Si;for(let i of t)if(!!i)for(let o of i){let s=e.get(o[0]);if(s){e.set(o[0],[...s,...o[1]]);continue}e.set(...o)}return e}n(Ob,"concatMemos");function Z(t){for(let[e,i]of Object.entries(t))if(!i)throw new hn(`${e} is missing`)}n(Z,"throwIfMissing");function pE(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(pE,"hasKeys");function Wb(t){return Oy(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:s}=yield ao(i.read());if(o)return yield ao(void 0);yield yield ao(s)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(Wb,"streamToIterable");var fE=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,s=[...o],r=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=s.length>0?`${s.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${r}`),B.shim.fetch(t,e)},"debugFetch");function dt(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(dt,"u8ToBase64");function gb(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(gb,"base64ToU8");function Xe(t){return!("emoji"in t)}n(Xe,"isTextRun");function Zb(t){return b(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let s=new Uint8Array(o),r=[];for(let l=0;l<s.length;++l)r.push(e[s[l]]);return r.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(Zb,"sha1Hash");var _g={name:"youtubei.js",version:"8.0.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var ch={};D(ch,{ArrayExpression:()=>Gs,ArrowFunctionExpression:()=>zs,AssignmentExpression:()=>Ks,BinaryExpression:()=>$s,BlockStatement:()=>qs,BreakStatement:()=>Xs,CallExpression:()=>Qs,ConditionalExpression:()=>er,ContinueStatement:()=>tr,ExpressionStatement:()=>ir,ForOfStatement:()=>or,ForStatement:()=>nr,FunctionDeclaration:()=>sr,FunctionExpression:()=>rr,Identifier:()=>ar,IfStatement:()=>ur,Literal:()=>lr,LogicalExpression:()=>cr,MemberExpression:()=>dr,NewExpression:()=>pr,ObjectExpression:()=>fr,Property:()=>mr,ReturnStatement:()=>hr,SequenceExpression:()=>_r,SwitchCase:()=>vr,SwitchStatement:()=>xr,ThisExpression:()=>gr,ThrowStatement:()=>br,TryStatement:()=>yr,UnaryExpression:()=>wr,UpdateExpression:()=>Tr,VariableDeclaration:()=>Sr,WhileStatement:()=>Ir});var A=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(A,"BaseJSNode");var Gs=class extends A{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(Gs,"ArrayExpression");var ey={};D(ey,{namedFunction:()=>_n});var _n=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var zs=class extends A{run(){let{params:e,body:i}=this.node;return _n("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};n(zs,"ArrowFunctionExpression");var Ks=class extends A{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Ks,"AssignmentExpression");var $s=class extends A{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n($s,"BinaryExpression");var qs=class extends A{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(qs,"BlockStatement");var Xs=class extends A{run(){return"break"}};n(Xs,"BreakStatement");var i1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},vg,ty,Qs=class extends A{constructor(){super(...arguments),vg.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="proceed")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="proceed")return r}if(this.node.callee.type==="MemberExpression"){if(Zs.has(this.node,this.visitor))return Zs.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof r[l]!="function"&&i1(this,vg,"m",ty).call(this),r[l].toString().includes("[native code]")?r[l](...p):r[l](p)}let o=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof o!="function"&&i1(this,vg,"m",ty).call(this),o(s)}};n(Qs,"CallExpression");vg=new WeakSet,ty=n(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var Zs=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Zs,"Builtins");Zs.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let s=0;for(let r of o)i[0]([r,s++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var er=class extends A{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(er,"ConditionalExpression");var tr=class extends A{run(){return"continue"}};n(tr,"ContinueStatement");var ir=class extends A{run(){return this.visitor.visitNode(this.node.expression)}};n(ir,"ExpressionStatement");var or=class extends A{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let s of this.node.left.declarations[0].id.properties)s.type==="Property"&&s.value.type==="Identifier"&&s.key.type==="Identifier"&&this.visitor.scope.set(s.value.name,i[s.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(or,"ForOfStatement");var nr=class extends A{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(nr,"ForStatement");var sr=class extends A{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),s=_n(o,r=>{let l=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,r[l]):console.warn("Unhandled param type",p.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,s)}};n(sr,"FunctionDeclaration");var rr=class extends A{run(){let{params:e,body:i}=this.node;return _n("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};n(rr,"FunctionExpression");var ar=class extends A{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(ar,"Identifier");var ur=class extends A{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(ur,"IfStatement");var lr=class extends A{run(){return this.node.value}};n(lr,"Literal");var cr=class extends A{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(cr,"LogicalExpression");var dr=class extends A{run(){let{object:e,property:i,computed:o}=this.node,s=this.visitor.visitNode(e),r=o?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let l=this.visitor.listeners[r](this.node,this.visitor);if(l!=="proceed")return l}return s==null?void 0:s[r]}}};n(dr,"MemberExpression");var pr=class extends A{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};n(pr,"NewExpression");var fr=class extends A{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(fr,"ObjectExpression");var iy=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},lh,o1,n1,s1,mr=class extends A{constructor(){super(...arguments),lh.add(this)}run(){switch(this.node.kind){case"init":return iy(this,lh,"m",o1).call(this);case"get":return iy(this,lh,"m",n1).call(this);case"set":return iy(this,lh,"m",s1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(mr,"Property");lh=new WeakSet,o1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),n1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),s1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var hr=class extends A{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(hr,"ReturnStatement");var _r=class extends A{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(_r,"SequenceExpression");var vr=class extends A{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(vr,"SwitchCase");var xr=class extends A{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,s=0;for(;;){let r=this.node.cases[s];if(i){let l=this.visitor.visitNode(r);if(l==="break")break;if(l==="continue")return l;if(++s,s>=this.node.cases.length){s=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&s>this.node.cases.length)break;if(r&&!i&&!r.test){o=s,s+=1;continue}if(!r&&!i&&o!==-1){i=!0,s=o;continue}i||++s}}};n(xr,"SwitchStatement");var gr=class extends A{run(){return this.visitor.scope.get("_this")}};n(gr,"ThisExpression");var br=class extends A{run(){throw this.visitor.visitNode(this.node.argument)}};n(br,"ThrowStatement");var yr=class extends A{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(yr,"TryStatement");var wr=class extends A{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(wr,"UnaryExpression");var Tr=class extends A{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(Tr,"UpdateExpression");var Sr=class extends A{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,s=this.visitor.getName(i),r=o?this.visitor.visitNode(o):void 0;s&&this.visitor.scope.set(s,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};n(Sr,"VariableDeclaration");var Ir=class extends A{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(Ir,"WhileStatement");var hE=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},oy,r1,kr=class{constructor(e){oy.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=hE(this,oy,"m",r1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(kr,"Visitor");oy=new WeakSet,r1=n(function(e){let i=ch[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var _E=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],d1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],vE="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",p1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",ny={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},sy="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",xE={5:sy,"5module":sy+" export import",6:sy+" const class extends export import super"},gE=/^in(stanceof)?$/,bE=new RegExp("["+p1+"]"),yE=new RegExp("["+p1+vE+"]");function ay(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(ay,"isInAstralSet");function gi(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&bE.test(String.fromCharCode(t)):e===!1?!1:ay(t,d1)}n(gi,"isIdentifierStart");function Cr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&yE.test(String.fromCharCode(t)):e===!1?!1:ay(t,d1)||ay(t,_E)}n(Cr,"isIdentifierChar");var re=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function yt(t,e){return new re(t,{beforeExpr:!0,binop:e})}n(yt,"binop");var wt={beforeExpr:!0},at={startsExpr:!0},cy={};function te(t,e){return e===void 0&&(e={}),e.keyword=t,cy[t]=new re(t,e)}n(te,"kw");var m={num:new re("num",at),regexp:new re("regexp",at),string:new re("string",at),name:new re("name",at),privateId:new re("privateId",at),eof:new re("eof"),bracketL:new re("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new re("]"),braceL:new re("{",{beforeExpr:!0,startsExpr:!0}),braceR:new re("}"),parenL:new re("(",{beforeExpr:!0,startsExpr:!0}),parenR:new re(")"),comma:new re(",",wt),semi:new re(";",wt),colon:new re(":",wt),dot:new re("."),question:new re("?",wt),questionDot:new re("?."),arrow:new re("=>",wt),template:new re("template"),invalidTemplate:new re("invalidTemplate"),ellipsis:new re("...",wt),backQuote:new re("`",at),dollarBraceL:new re("${",{beforeExpr:!0,startsExpr:!0}),eq:new re("=",{beforeExpr:!0,isAssign:!0}),assign:new re("_=",{beforeExpr:!0,isAssign:!0}),incDec:new re("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new re("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:yt("||",1),logicalAND:yt("&&",2),bitwiseOR:yt("|",3),bitwiseXOR:yt("^",4),bitwiseAND:yt("&",5),equality:yt("==/!=/===/!==",6),relational:yt("</>/<=/>=",7),bitShift:yt("<</>>/>>>",8),plusMin:new re("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:yt("%",10),star:yt("*",10),slash:yt("/",10),starstar:new re("**",{beforeExpr:!0}),coalesce:yt("??",1),_break:te("break"),_case:te("case",wt),_catch:te("catch"),_continue:te("continue"),_debugger:te("debugger"),_default:te("default",wt),_do:te("do",{isLoop:!0,beforeExpr:!0}),_else:te("else",wt),_finally:te("finally"),_for:te("for",{isLoop:!0}),_function:te("function",at),_if:te("if"),_return:te("return",wt),_switch:te("switch"),_throw:te("throw",wt),_try:te("try"),_var:te("var"),_const:te("const"),_while:te("while",{isLoop:!0}),_with:te("with"),_new:te("new",{beforeExpr:!0,startsExpr:!0}),_this:te("this",at),_super:te("super",at),_class:te("class",at),_extends:te("extends",wt),_export:te("export"),_import:te("import",at),_null:te("null",at),_true:te("true",at),_false:te("false",at),_in:te("in",{beforeExpr:!0,binop:7}),_instanceof:te("instanceof",{beforeExpr:!0,binop:7}),_typeof:te("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:te("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:te("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},It=/\r\n?|\n|\u2028|\u2029/,wE=new RegExp(It.source,"g");function Er(t){return t===10||t===13||t===8232||t===8233}n(Er,"isNewLine");function f1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var s=t.charCodeAt(o);if(Er(s))return o<i-1&&s===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(f1,"nextLineBreak");var m1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,h1=Object.prototype,TE=h1.hasOwnProperty,SE=h1.toString,mh=Object.hasOwn||function(t,e){return TE.call(t,e)},a1=Array.isArray||function(t){return SE.call(t)==="[object Array]"};function oo(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(oo,"wordsRegexp");function no(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(no,"codePointToString");var IE=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ph=n(function(e,i){this.line=e,this.column=i},"Position");ph.prototype.offset=n(function(e){return new ph(this.line,this.column+e)},"offset");var wg=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function _1(t,e){for(var i=1,o=0;;){var s=f1(t,o,e);if(s<0)return new ph(i,e-o);++i,o=s}}n(_1,"getLineInfo");var uy={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},u1=!1;function kE(t){var e={};for(var i in uy)e[i]=t&&mh(t,i)?t[i]:uy[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!u1&&typeof console=="object"&&console.warn&&(u1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),a1(e.onToken)){var o=e.onToken;e.onToken=function(s){return o.push(s)}}return a1(e.onComment)&&(e.onComment=CE(e,e.onComment)),e}n(kE,"getOptions");function CE(t,e){return function(i,o,s,r,l,p){var f={type:i?"Block":"Line",value:o,start:s,end:r};t.locations&&(f.loc=new wg(this,l,p)),t.ranges&&(f.range=[s,r]),e.push(f)}}n(CE,"pushComment");var fh=1,Pr=2,dy=4,v1=8,x1=16,g1=32,py=64,b1=128,hh=256,fy=fh|Pr|hh;function my(t,e){return Pr|(t?dy:0)|(e?v1:0)}n(my,"functionFlags");var gg=0,hy=1,yi=2,y1=3,w1=4,T1=5,Oe=n(function(e,i,o){this.options=e=kE(e),this.sourceFile=e.sourceFile,this.keywords=oo(xE[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var s="";e.allowReserved!==!0&&(s=ny[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(s+=" await")),this.reservedWords=oo(s);var r=(s?s+" ":"")+ny.strict;this.reservedWordsStrict=oo(r),this.reservedWordsStrictBind=oo(r+" "+ny.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(It).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(fh),this.regexpState=null,this.privateNameStack=[]},"Parser"),si={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Oe.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");si.inFunction.get=function(){return(this.currentVarScope().flags&Pr)>0};si.inGenerator.get=function(){return(this.currentVarScope().flags&v1)>0&&!this.currentVarScope().inClassFieldInit};si.inAsync.get=function(){return(this.currentVarScope().flags&dy)>0&&!this.currentVarScope().inClassFieldInit};si.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&hh)return!1;if(e.flags&Pr)return(e.flags&dy)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};si.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&py)>0||i||this.options.allowSuperOutsideMethod};si.allowDirectSuper.get=function(){return(this.currentThisScope().flags&b1)>0};si.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};si.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Pr|hh))>0||i};si.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&hh)>0};Oe.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,s=0;s<e.length;s++)o=e[s](o);return o},"extend");Oe.parse=n(function(e,i){return new this(i,e).parse()},"parse");Oe.parseExpressionAt=n(function(e,i,o){var s=new this(o,e,i);return s.nextToken(),s.parseExpression()},"parseExpressionAt");Oe.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Oe.prototype,si);var et=Oe.prototype,EE=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;et.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Tt.lastIndex=t,t+=Tt.exec(this.input)[0].length;var e=EE.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Tt.lastIndex=t+e[0].length;var i=Tt.exec(this.input),o=i.index+i[0].length,s=this.input.charAt(o);return s===";"||s==="}"||It.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,Tt.lastIndex=t,t+=Tt.exec(this.input)[0].length,this.input[t]===";"&&t++}};et.eat=function(t){return this.type===t?(this.next(),!0):!1};et.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};et.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};et.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};et.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||It.test(this.input.slice(this.lastTokEnd,this.start))};et.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};et.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};et.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};et.expect=function(t){this.eat(t)||this.unexpected()};et.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Tg=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");et.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};et.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};et.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};et.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var L=Oe.prototype;L.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,s=Object.keys(this.undefinedExports);o<s.length;o+=1){var r=s[o];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var _y={kind:"loop"},PE={kind:"switch"};L.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Tt.lastIndex=this.pos;var e=Tt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(gi(o,!0)){for(var s=i+1;Cr(o=this.input.charCodeAt(s),!0);)++s;if(o===92||o>55295&&o<56320)return!0;var r=this.input.slice(i,s);if(!gE.test(r))return!0}return!1};L.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Tt.lastIndex=this.pos;var t=Tt.exec(this.input),e=this.pos+t[0].length,i;return!It.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Cr(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};L.parseStatement=function(t,e,i){var o=this.type,s=this.startNode(),r;switch(this.isLet(t)&&(o=m._var,r="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(s,o.keyword);case m._debugger:return this.parseDebuggerStatement(s);case m._do:return this.parseDoStatement(s);case m._for:return this.parseForStatement(s);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(s,!0);case m._if:return this.parseIfStatement(s);case m._return:return this.parseReturnStatement(s);case m._switch:return this.parseSwitchStatement(s);case m._throw:return this.parseThrowStatement(s);case m._try:return this.parseTryStatement(s);case m._const:case m._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(s,r);case m._while:return this.parseWhileStatement(s);case m._with:return this.parseWithStatement(s);case m.braceL:return this.parseBlock(!0,s);case m.semi:return this.parseEmptyStatement(s);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){Tt.lastIndex=this.pos;var l=Tt.exec(this.input),p=this.pos+l[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(s):this.parseExport(s,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var h=this.value,_=this.parseExpression();return o===m.name&&_.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(s,h,_,t):this.parseExpressionStatement(s,_)}};L.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var s=this.labels[o];if((t.label==null||s.name===t.label.name)&&(s.kind!=null&&(i||s.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};L.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};L.parseDoStatement=function(t){return this.next(),this.labels.push(_y),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};L.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(_y),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(o,!0,s),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var r=this.isContextual("let"),l=!1,p=new Tg,f=this.parseExpression(e>-1?"await":!0,p);return this.type===m._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),r&&l&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};L.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,dh|(i?0:ly),!1,e)};L.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};L.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};L.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(PE),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};L.parseThrowStatement=function(t){return this.next(),It.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var NE=[];L.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?g1:0),this.checkLValPattern(t,e?w1:yi),this.expect(m.parenR),t};L.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};L.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};L.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(_y),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};L.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};L.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};L.parseLabeledStatement=function(t,e,i,o){for(var s=0,r=this.labels;s<r.length;s+=1){var l=r[s];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var h=this.labels[f];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};L.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};L.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};L.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};L.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};L.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var s=this.startNode();if(this.parseVarId(s,i),this.eat(m.eq)?s.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&s.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):s.init=null,t.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(m.comma))break}return t};L.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?hy:yi,!1)};var dh=1,ly=2,S1=4;L.parseFunction=function(t,e,i,o,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&ly&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&dh&&(t.id=e&S1&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&ly)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?hy:yi:y1));var r=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(my(t.async,t.generator)),e&dh||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,s),this.yieldPos=r,this.awaitPos=l,this.awaitIdentPos=p,this.finishNode(t,e&dh?"FunctionDeclaration":"FunctionExpression")};L.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};L.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(m.braceL);this.type!==m.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(s.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(r&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),r=!0):l.key&&l.key.type==="PrivateIdentifier"&&AE(o,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};L.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",s=!1,r=!1,l="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?r=!0:o="async"),!o&&(e>=9||!r)&&this.eat(m.star)&&(s=!0),!o&&!r&&!s){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||l!=="method"||s||r){var h=!i.static&&bg(i,"constructor"),_=h&&t;h&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=h?"constructor":l,this.parseClassMethod(i,s,r,_)}else this.parseClassField(i);return i};L.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};L.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};L.parseClassMethod=function(t,e,i,o){var s=t.key;t.kind==="constructor"?(e&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):t.static&&bg(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};L.parseClassField=function(t){if(bg(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&bg(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};L.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(hh|py);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};L.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,yi,!1)):(e===!0&&this.unexpected(),t.id=null)};L.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};L.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};L.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,s=o===0?null:this.privateNameStack[o-1],r=0;r<i.length;++r){var l=i[r];mh(e,l.name)||(s?s.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function AE(t,e){var i=e.key.name,o=t[i],s="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(s=(e.static?"s":"i")+e.kind),o==="iget"&&s==="iset"||o==="iset"&&s==="iget"||o==="sget"&&s==="sset"||o==="sset"&&s==="sget"?(t[i]="true",!1):o?!0:(t[i]=s,!1)}n(AE,"isPrivateNameConflicted");function bg(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(bg,"checkKeyName");L.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};L.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var s=o[i];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};L.parseExportDeclaration=function(t){return this.parseStatement(null)};L.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,dh|S1,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};L.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),mh(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};L.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,s=e.properties;o<s.length;o+=1){var r=s[o];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var l=0,p=e.elements;l<p.length;l+=1){var f=p[l];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};L.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var s=o[i];this.checkPatternExport(t,s.id)}};L.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};L.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};L.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};L.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=NE,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};L.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,yi),this.finishNode(t,"ImportSpecifier")};L.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,yi),this.finishNode(t,"ImportDefaultSpecifier")};L.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,yi),this.finishNode(t,"ImportNamespaceSpecifier")};L.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};L.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return IE.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};L.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};L.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var kt=Oe.prototype;kt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};kt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var s=t[o];s&&this.toAssignable(s,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};kt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};kt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};kt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};kt.parseBindingList=function(t,e,i,o){for(var s=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(m.comma),e&&this.type===m.comma)s.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),s.push(l),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else s.push(this.parseAssignableListItem(o))}return s};kt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};kt.parseBindingListItem=function(t){return t};kt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};kt.checkLValSimple=function(t,e,i){e===void 0&&(e=gg);var o=e!==gg;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===yi&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(mh(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==T1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};kt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=gg),t.type){case"ObjectPattern":for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var l=0,p=t.elements;l<p.length;l+=1){var f=p[l];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};kt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=gg),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Yt=n(function(e,i,o,s,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=s,this.generator=!!r},"TokContext"),ye={b_stat:new Yt("{",!1),b_expr:new Yt("{",!0),b_tmpl:new Yt("${",!1),p_stat:new Yt("(",!1),p_expr:new Yt("(",!0),q_tmpl:new Yt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Yt("function",!1),f_expr:new Yt("function",!0),f_expr_gen:new Yt("function",!0,!1,null,!0),f_gen:new Yt("function",!1,!1,null,!0)},Nr=Oe.prototype;Nr.initialContext=function(){return[ye.b_stat]};Nr.curContext=function(){return this.context[this.context.length-1]};Nr.braceIsBlock=function(t){var e=this.curContext();return e===ye.f_expr||e===ye.f_stat?!0:t===m.colon&&(e===ye.b_stat||e===ye.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?It.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===ye.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};Nr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Nr.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Nr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===ye.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?ye.b_stat:ye.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(ye.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?ye.p_stat:ye.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==ye.p_stat)&&!(t===m._return&&It.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===ye.b_stat)?this.context.push(ye.f_expr):this.context.push(ye.f_stat),this.exprAllowed=!1};m.backQuote.updateContext=function(){this.curContext()===ye.q_tmpl?this.context.pop():this.context.push(ye.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===ye.f_expr?this.context[e]=ye.f_expr_gen:this.context[e]=ye.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var j=Oe.prototype;j.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,s;switch(o.type){case"Identifier":s=o.name;break;case"Literal":s=String(o.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}s="$"+s;var l=e[s];if(l){var p;r==="init"?p=this.strict&&l.init||l.get||l.set:p=l.init||l[r],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else l=e[s]={init:!1,get:!1,set:!1};l[r]=!0}};j.parseExpression=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===m.comma){var r=this.startNodeAt(i,o);for(r.expressions=[s];this.eat(m.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return s};j.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,s=-1,r=-1,l=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Tg,o=!0);var p=this.start,f=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(i&&(h=i.call(this,h,p,f)),this.type.isAssign){var _=this.startNodeAt(p,f);return _.operator=this.value,this.type===m.eq&&(h=this.toAssignable(h,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(h):this.checkLValSimple(h),_.left=h,this.next(),_.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return s>-1&&(e.parenthesizedAssign=s),r>-1&&(e.trailingComma=r),h};j.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(m.question)){var r=this.startNodeAt(i,o);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(m.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return s};j.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||s.start===i&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,i,o,-1,t)};j.parseExprOp=function(t,e,i,o,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==m._in)&&r>o){var l=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(r=m.logicalAND.binop);var f=this.value;this.next();var h=this.start,_=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),h,_,r,s),w=this.buildBinary(e,i,t,g,f,l||p);return(l&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(w,e,i,o,s)}return t};j.buildBinary=function(t,e,i,o,s,r){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=s,l.right=o,this.finishNode(l,r?"LogicalExpression":"BinaryExpression")};j.parseMaybeUnary=function(t,e,i,o){var s=this.start,r=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&I1(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(s,r);h.operator=this.value,h.prefix=!1,h.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(h,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(s,r,l,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return l};function I1(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&I1(t.expression)}n(I1,"isPrivateFieldAccess");j.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprAtom(t,e);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,i,o,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};j.parseSubscripts=function(t,e,i,o,s){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var p=this.parseSubscript(t,e,i,o,r,l,s);if(p.optional&&(l=!0),p===t||p.type==="ArrowFunctionExpression"){if(l){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};j.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};j.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};j.parseSubscript=function(t,e,i,o,s,r,l){var p=this.options.ecmaVersion>=11,f=p&&this.eat(m.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(m.bracketL);if(h||f&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var _=this.startNodeAt(e,i);_.object=t,h?(_.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!h,p&&(_.optional=f),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var g=new Tg,w=this.yieldPos,T=this.awaitPos,C=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var N=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,g);if(s&&!f&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=w,this.awaitPos=T,this.awaitIdentPos=C,this.parseSubscriptAsyncArrow(e,i,N,l);this.checkExpressionErrors(g,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=T||this.awaitPos,this.awaitIdentPos=C||this.awaitIdentPos;var R=this.startNodeAt(e,i);R.callee=t,R.arguments=N,p&&(R.optional=f),t=this.finishNode(R,"CallExpression")}else if(this.type===m.backQuote){(f||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var O=this.startNodeAt(e,i);O.tag=t,O.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(O,"TaggedTemplateExpression")}return t};j.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var o,s=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(o,"Super");case m._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case m.name:var r=this.start,l=this.startLoc,p=this.containsEsc,f=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(ye.f_expr),this.parseFunction(this.startNodeAt(r,l),0,!1,!0,e);if(s&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(r,l),[f],!1,e);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===m.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return f=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,l),[f],!0,e)}return f;case m.regexp:var h=this.value;return o=this.parseLiteral(h.value),o.regex={pattern:h.pattern,flags:h.flags},o;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return o=this.startNode(),o.value=this.type===m._null?null:this.type===m._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case m.parenL:var _=this.start,g=this.parseParenAndDistinguishExpression(s,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=_),t.parenthesizedBind<0&&(t.parenthesizedBind=_)),g;case m.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case m.braceL:return this.overrideContext(ye.b_expr),this.parseObj(!1,t);case m._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};j.parseExprAtomDefault=function(){this.unexpected()};j.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};j.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};j.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};j.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};j.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};j.shouldParseArrow=function(t){return!this.canInsertSemicolon()};j.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,s,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,p=this.startLoc,f=[],h=!0,_=!1,g=new Tg,w=this.yieldPos,T=this.awaitPos,C;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(h?h=!1:this.expect(m.comma),r&&this.afterTrailingComma(m.parenR,!0)){_=!0;break}else if(this.type===m.ellipsis){C=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var N=this.lastTokEnd,R=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(f)&&this.eat(m.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=w,this.awaitPos=T,this.parseParenArrowList(i,o,f,e);(!f.length||_)&&this.unexpected(this.lastTokStart),C&&this.unexpected(C),this.checkExpressionErrors(g,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=T||this.awaitPos,f.length>1?(s=this.startNodeAt(l,p),s.expressions=f,this.finishNodeAt(s,"SequenceExpression",N,R)):s=f[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var O=this.startNodeAt(i,o);return O.expression=s,this.finishNode(O,"ParenthesizedExpression")}else return s};j.parseParenItem=function(t){return t};j.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var RE=[];j.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,s=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,s,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=RE,this.finishNode(t,"NewExpression")};j.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};j.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};j.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!It.test(this.input.slice(this.lastTokEnd,this.start))};j.parseObj=function(t,e){var i=this.startNode(),o=!0,s={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,s,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};j.parseProperty=function(t,e){var i=this.startNode(),o,s,r,l;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,l=this.startLoc),t||(o=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(s=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):s=!1,this.parsePropertyValue(i,t,o,s,r,l,e,p),this.finishNode(i,"Property")};j.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};j.parsePropertyValue=function(t,e,i,o,s,r,l,p){(i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key)):this.type===m.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};j.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};j.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};j.parseMethod=function(t,e,i){var o=this.startNode(),s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(my(e,o.generator)|py|(i?b1:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(o,"FunctionExpression")};j.parseArrowExpression=function(t,e,i,o){var s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(my(i,!1)|x1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};j.parseFunctionBody=function(t,e,i,o){var s=e&&this.type!==m.braceL,r=this.strict,l=!1;if(s)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||p)&&(l=this.strictDirective(this.end),l&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!r&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,T1),t.body=this.parseBlock(!1,void 0,l&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};j.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};j.checkParams=function(t,e){for(var i=Object.create(null),o=0,s=t.params;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,hy,e?null:i)}};j.parseExprList=function(t,e,i,o){for(var s=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===m.comma?l=null:this.type===m.ellipsis?(l=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):l=this.parseMaybeAssign(!1,o),s.push(l)}return s};j.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};j.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};j.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};j.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};j.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};j.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var yg=Oe.prototype;yg.raise=function(t,e){var i=_1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};yg.raiseRecoverable=yg.raise;yg.curPosition=function(){if(this.options.locations)return new ph(this.curLine,this.pos-this.lineStart)};var so=Oe.prototype,ME=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");so.enterScope=function(t){this.scopeStack.push(new ME(t))};so.exitScope=function(){this.scopeStack.pop()};so.treatFunctionsAsVarInScope=function(t){return t.flags&Pr||!this.inModule&&t.flags&fh};so.declareName=function(t,e,i){var o=!1;if(e===yi){var s=this.currentScope();o=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&s.flags&fh&&delete this.undefinedExports[t]}else if(e===w1){var r=this.currentScope();r.lexical.push(t)}else if(e===y1){var l=this.currentScope();this.treatFunctionsAsVar?o=l.lexical.indexOf(t)>-1:o=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&g1&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&fh&&delete this.undefinedExports[t],f.flags&fy)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};so.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};so.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};so.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&fy)return e}};so.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&fy&&!(e.flags&x1))return e}};var Sg=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new wg(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),_h=Oe.prototype;_h.startNode=function(){return new Sg(this,this.start,this.startLoc)};_h.startNodeAt=function(t,e){return new Sg(this,t,e)};function k1(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(k1,"finishNodeAt");_h.finishNode=function(t,e){return k1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};_h.finishNodeAt=function(t,e,i,o){return k1.call(this,t,e,i,o)};_h.copyNode=function(t){var e=new Sg(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var C1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",E1=C1+" Extended_Pictographic",P1=E1,N1=P1+" EBase EComp EMod EPres ExtPict",A1=N1,VE=A1,OE={9:C1,10:E1,11:P1,12:N1,13:A1,14:VE},DE="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",BE={9:"",10:"",11:"",12:"",13:"",14:DE},l1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",R1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",M1=R1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",V1=M1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",O1=V1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",D1=O1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",LE=D1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",FE={9:R1,10:M1,11:V1,12:O1,13:D1,14:LE},B1={};function YE(t){var e=B1[t]={binary:oo(OE[t]+" "+l1),binaryOfStrings:oo(BE[t]),nonBinary:{General_Category:oo(l1),Script:oo(FE[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(YE,"buildUnicodeData");for(xg=0,ry=[9,10,11,12,13,14];xg<ry.length;xg+=1)c1=ry[xg],YE(c1);var c1,xg,ry,V=Oe.prototype,ri=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=B1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");ri.prototype.reset=n(function(e,i,o){var s=o.indexOf("v")!==-1,r=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)},"reset");ri.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");ri.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return-1;var r=o.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=s)return r;var l=o.charCodeAt(e+1);return l>=56320&&l<=57343?(r<<10)+l-56613888:r},"at");ri.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return s;var r=o.charCodeAt(e),l;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=s||(l=o.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");ri.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");ri.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");ri.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");ri.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");ri.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,s=0,r=e;s<r.length;s+=1){var l=r[s],p=this.at(o,i);if(p===-1||p!==l)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");V.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,s=!1,r=0;r<i.length;r++){var l=i.charAt(r);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,r+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(o=!0),l==="v"&&(s=!0)}this.options.ecmaVersion>=15&&o&&s&&this.raise(t.start,"Invalid regular expression flag")};V.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};V.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};V.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};V.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};V.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};V.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};V.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};V.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};V.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return s!==-1&&s<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};V.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};V.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};V.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};V.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};V.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};V.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};V.regexp_eatSyntaxCharacter=function(t){var e=t.current();return L1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function L1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(L1,"isSyntaxCharacter");V.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!L1(i);)t.advance();return t.pos!==e};V.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};V.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};V.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};V.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=no(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=no(t.lastIntValue);return!0}return!1};V.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),UE(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function UE(t){return gi(t,!0)||t===36||t===95}n(UE,"isRegExpIdentifierStart");V.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),jE(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function jE(t){return Cr(t,!0)||t===36||t===95||t===8204||t===8205}n(jE,"isRegExpIdentifierPart");V.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};V.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};V.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};V.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};V.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};V.regexp_eatZero=function(t){return t.current()===48&&!Ig(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};V.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};V.regexp_eatControlLetter=function(t){var e=t.current();return F1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function F1(t){return t>=65&&t<=90||t>=97&&t<=122}n(F1,"isControlLetter");V.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(o&&s>=55296&&s<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(s-55296)*1024+(l-56320)+65536,!0}t.pos=r,t.lastIntValue=s}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&WE(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function WE(t){return t>=0&&t<=1114111}n(WE,"isValidUnicode");V.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};V.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var Y1=0,bi=1,St=2;V.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(HE(e))return t.lastIntValue=-1,t.advance(),bi;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===St&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return Y1};function HE(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(HE,"isCharacterClassEscape");V.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),bi}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s)}return Y1};V.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){mh(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};V.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return bi;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return St;t.raise("Invalid property name")};V.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";U1(e=t.current());)t.lastStringValue+=no(e),t.advance();return t.lastStringValue!==""};function U1(t){return F1(t)||t===95}n(U1,"isUnicodePropertyNameCharacter");V.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";JE(e=t.current());)t.lastStringValue+=no(e),t.advance();return t.lastStringValue!==""};function JE(t){return U1(t)||Ig(t)}n(JE,"isUnicodePropertyValueCharacter");V.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};V.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===St&&t.raise("Negated character class may contain strings"),!0}return!1};V.regexp_classContents=function(t){return t.current()===93?bi:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),bi)};V.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};V.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||H1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};V.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};V.regexp_classSetExpression=function(t){var e=bi,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===St&&(e=St);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==St&&(e=bi);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===St&&(e=St)}};V.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};V.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?bi:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};V.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===St&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var s=this.regexp_eatCharacterClassEscape(t);if(s)return s;t.pos=e}return null};V.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};V.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===St&&(e=St);return e};V.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?bi:St};V.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&GE(i)||zE(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function GE(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(GE,"isClassSetReservedDoublePunctuatorCharacter");function zE(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(zE,"isClassSetSyntaxCharacter");V.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return KE(e)?(t.lastIntValue=e,t.advance(),!0):!1};function KE(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(KE,"isClassSetReservedPunctuator");V.regexp_eatClassControlLetter=function(t){var e=t.current();return Ig(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};V.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};V.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Ig(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Ig(t){return t>=48&&t<=57}n(Ig,"isDecimalDigit");V.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;j1(i=t.current());)t.lastIntValue=16*t.lastIntValue+W1(i),t.advance();return t.pos!==e};function j1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(j1,"isHexDigit");function W1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(W1,"hexToInt");V.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};V.regexp_eatOctalDigit=function(t){var e=t.current();return H1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function H1(t){return t>=48&&t<=55}n(H1,"isOctalDigit");V.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var s=t.current();if(!j1(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+W1(s),t.advance()}return!0};var vy=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new wg(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),ee=Oe.prototype;ee.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new vy(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};ee.getToken=function(){return this.next(),new vy(this)};typeof Symbol<"u"&&(ee[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});ee.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};ee.readToken=function(t){return gi(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};ee.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};ee.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,s=e;(o=f1(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};ee.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Er(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};ee.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&m1.test(String.fromCharCode(t)))++this.pos;else break e}}};ee.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};ee.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};ee.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};ee.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};ee.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};ee.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};ee.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||It.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};ee.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};ee.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};ee.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};ee.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),gi(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+no(e)+"'")};ee.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+no(t)+"'")};ee.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};ee.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(It.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(r);var p=this.regexpState||(this.regexpState=new ri(this));p.reset(i,s,l),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(s,l)}catch(h){}return this.finishToken(m.regexp,{pattern:s,flags:l,value:f})};ee.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,s=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,l=0,p=0,f=0,h=e==null?1/0:e;f<h;++f,++this.pos){var _=this.input.charCodeAt(this.pos),g=void 0;if(o&&_===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?g=_-97+10:_>=65?g=_-65+10:_>=48&&_<=57?g=_-48:g=1/0,g>=t)break;p=_,l=l*t+g}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:l};function $E(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n($E,"stringToNumber");function J1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(J1,"stringToBigInt");ee.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=J1(this.input.slice(e,this.pos)),++this.pos):gi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};ee.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var s=J1(this.input.slice(e,this.pos));return++this.pos,gi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,s)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),gi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=$E(this.input.slice(e,this.pos),i);return this.finishToken(m.num,r)};ee.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};ee.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Er(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var G1={};ee.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===G1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};ee.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw G1;this.raise(t,e)};ee.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Er(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};ee.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};ee.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return no(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(o,8);return s>255&&(o=o.slice(0,-1),s=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return Er(e)?"":String.fromCharCode(e)}};ee.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};ee.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(Cr(s,o))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?gi:Cr)(l,o)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=no(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};ee.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=cy[t]),this.finishToken(e,t)};var qE="8.10.0";Oe.acorn={Parser:Oe,version:qE,defaultOptions:uy,Position:ph,SourceLocation:wg,getLineInfo:_1,Node:Sg,TokenType:re,tokTypes:m,keywordTypes:cy,TokContext:Yt,tokContexts:ye,isIdentifierChar:Cr,isIdentifierStart:gi,Token:vy,isNewLine:Er,lineBreak:It,lineBreakG:wE,nonASCIIwhitespace:m1};function z1(t,e){return Oe.parse(t,e)}n(z1,"parse");var XE=function(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},QE=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},kg,vn=class{constructor(e){kg.set(this,void 0);let i=z1(e,{ecmaVersion:2020});XE(this,kg,i.body,"f"),this.visitor=new kr(QE(this,kg,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,s)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=console[r];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("Math",(o,s)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=Math[r];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("String",(o,s)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=String[r];return p?p(l):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};n(vn,"Jinter");kg=new WeakMap;function xy(t,e){let i=new vn(t);for(let[o,s]of Object.entries(e))i.scope.set(o,s);return i.interpret()}n(xy,"evaluate");var vh,xn,K1,$1,q1,Cg=class{constructor(e){vh.add(this),xn.set(this,void 0),S(this,xn,e,"f")}get session(){return d(this,xn,"f")}stats(e,i,o){return b(this,void 0,void 0,function*(){let s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",i.client_name.toLowerCase()),s.searchParams.set("cbrver",i.client_version),s.searchParams.set("cver",i.client_version);for(let l of Object.keys(o))s.searchParams.set(l,o[l]);return yield d(this,xn,"f").http.fetch(s)})}execute(e,i){var o,s;return b(this,void 0,void 0,function*(){let r;if(i&&!i.protobuf){if(r=Object.assign({},i),Reflect.has(r,"browseId")&&d(this,vh,"m",q1).call(this,r.browseId)&&!d(this,xn,"f").logged_in)throw new x("You must be signed in to perform this operation.");Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),(r==null?void 0:r.client)==="YTMUSIC"&&(r.isAudioOnly=!0)}else i&&(r=i.serialized_data);let l=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield d(this,xn,"f").http.fetch(l,{method:"POST",body:i!=null&&i.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=c.parseResponse(yield p.json());if(d(this,vh,"m",$1).call(this,f)&&((s=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||s===void 0?void 0:s.type)==="navigateAction"){let h=f.on_response_received_actions.firstOfType(ji);h&&(f=yield h.endpoint.call(this,{parse:!0}))}return f}return d(this,vh,"m",K1).call(this,p)})}};n(Cg,"Actions");xn=new WeakMap,vh=new WeakSet,K1=n(function(e){return b(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),$1=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),q1=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var gy=Cg;var Ar,Rr,xh,gh,Ut=class{constructor(e,i,o,s){Ar.set(this,void 0),Rr.set(this,void 0),xh.set(this,void 0),gh.set(this,void 0),S(this,Ar,o,"f"),S(this,Rr,i,"f"),S(this,xh,e,"f"),S(this,gh,s,"f")}static create(e,i=B.shim.fetch){return b(this,void 0,void 0,function*(){let o=new URL("/iframe_api",pe.YT_BASE),s=yield i(o);if(s.status!==200)throw new mt("Failed to request player id");let r=yield s.text(),l=je(r,"player\\/","\\/");if(!l)throw new mt("Failed to get player id");if(e){let T=yield Ut.fromCache(e,l);if(T)return T}let p=new URL(`/s/player/${l}/player_ias.vflset/en_US/base.js`,pe.YT_BASE),f=yield i(p,{headers:{"user-agent":Ho("desktop")}});if(!f.ok)throw new mt(`Failed to get player data: ${f.status}`);let h=yield f.text(),_=this.extractSigTimestamp(h),g=this.extractSigSourceCode(h),w=this.extractNSigSourceCode(h);return yield Ut.fromSource(e,_,g,w,l)})}decipher(e,i,o,s){if(e=e||i||o,!e)throw new mt("No valid URL to decipher");let r=new URLSearchParams(e),l=new URL(r.get("url")||e);if(i||o){let h=B.shim.eval(d(this,Rr,"f"),{sig:r.get("s")});if(typeof h!="string")throw new mt("Failed to decipher signature");let _=r.get("sp");_?l.searchParams.set(_,h):l.searchParams.set("signature",h)}let p=l.searchParams.get("n");if(p){let h;if(s&&s.has(p))h=s.get(p);else{if(h=B.shim.eval(d(this,Ar,"f"),{nsig:p}),typeof h!="string")throw new mt("Failed to decipher nsig");h.startsWith("enhanced_except_")?console.warn(`Warning:
Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):s&&s.set(p,h)}l.searchParams.set("n",h)}switch(l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",G.WEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",G.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",G.WEB_KIDS.VERSION);break;case"ANDROID":l.searchParams.set("cver",G.ANDROID.VERSION);break;case"ANDROID_MUSIC":l.searchParams.set("cver",G.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",G.TV_EMBEDDED.VERSION);break}return l.toString()}static fromCache(e,i){return b(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let s=new DataView(o);if(s.getUint32(0,!0)!==Ut.LIBRARY_VERSION)return null;let l=s.getUint32(4,!0),p=s.getUint32(8,!0),f=o.slice(12,12+p),h=o.slice(12+p),_=new TextDecoder,g=_.decode(f),w=_.decode(h);return new Ut(l,g,w,i)})}static fromSource(e,i,o,s,r){return b(this,void 0,void 0,function*(){let l=new Ut(i,o,s,r);return yield l.cache(e),l})}cache(e){return b(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(d(this,Rr,"f")),s=i.encode(d(this,Ar,"f")),r=new ArrayBuffer(12+o.byteLength+s.byteLength),l=new DataView(r);l.setUint32(0,Ut.LIBRARY_VERSION,!0),l.setUint32(4,d(this,xh,"f"),!0),l.setUint32(8,o.byteLength,!0),new Uint8Array(r).set(o,12),new Uint8Array(r).set(s,12+o.byteLength),yield e.set(d(this,gh,"f"),new Uint8Array(r))})}static extractSigTimestamp(e){return parseInt(je(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,s;let r=je(e,'function(a){a=a.split("")','return a.join("")}'),l=(s=(o=(i=r==null?void 0:r.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||s===void 0?void 0:s.trim(),p=je(e,`var ${l}={`,"};");return(!p||!r)&&console.warn(new mt("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${l}={${p}}${r} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${je(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||console.warn(new mt("Failed to extract n-token decipher algorithm")),i}get url(){return new URL(`/s/player/${d(this,gh,"f")}/player_ias.vflset/en_US/base.js`,pe.YT_BASE).toString()}get sts(){return d(this,xh,"f")}get nsig_sc(){return d(this,Ar,"f")}get sig_sc(){return d(this,Rr,"f")}static get LIBRARY_VERSION(){return 2}};n(Ut,"Player");Ar=new WeakMap,Rr=new WeakMap,xh=new WeakMap,gh=new WeakMap;var by=Ut;var wi,gn,Ne,we,Eg,Q1,wy,X1,Z1,yy,Pg=class{constructor(e){wi.add(this),gn.set(this,void 0),Ne.set(this,void 0),we.set(this,void 0),Eg.set(this,5),S(this,Ne,e,"f")}init(e){return b(this,void 0,void 0,function*(){S(this,we,e,"f"),this.validateCredentials()?this.has_access_token_expired||d(this,Ne,"f").emit("auth",{credentials:d(this,we,"f"),status:"SUCCESS"}):(yield d(this,wi,"m",Q1).call(this))||(yield d(this,wi,"m",wy).call(this))})}cacheCredentials(){var e;return b(this,void 0,void 0,function*(){let o=new TextEncoder().encode(JSON.stringify(d(this,we,"f")));yield(e=d(this,Ne,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){var e;return b(this,void 0,void 0,function*(){yield(e=d(this,Ne,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return b(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield d(this,wi,"m",Z1).call(this))})}revokeCredentials(){return b(this,void 0,void 0,function*(){if(!!d(this,we,"f"))return yield this.removeCache(),d(this,Ne,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(d(this,we,"f").access_token)}`,pe.YT_BASE),{method:"post"})})}get credentials(){return d(this,we,"f")}get has_access_token_expired(){let e=d(this,we,"f")?new Date(d(this,we,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return d(this,we,"f")&&Reflect.has(d(this,we,"f"),"access_token")&&Reflect.has(d(this,we,"f"),"refresh_token")&&Reflect.has(d(this,we,"f"),"expires")||!1}};n(Pg,"OAuth");gn=new WeakMap,Ne=new WeakMap,we=new WeakMap,Eg=new WeakMap,wi=new WeakSet,Q1=n(function(){var e;return b(this,void 0,void 0,function*(){let i=yield(e=d(this,Ne,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,s=JSON.parse(o.decode(i));return S(this,we,{access_token:s.access_token,refresh_token:s.refresh_token,expires:new Date(s.expires)},"f"),d(this,Ne,"f").emit("auth",{credentials:d(this,we,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),wy=n(function(){return b(this,void 0,void 0,function*(){S(this,gn,yield d(this,wi,"m",yy).call(this),"f");let e={client_id:d(this,gn,"f").client_id,scope:Ii.SCOPE,device_id:B.shim.uuidv4(),device_model:Ii.MODEL_NAME},o=yield(yield d(this,Ne,"f").http.fetch_function(new URL("/o/oauth2/device/code",pe.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();d(this,Ne,"f").emit("auth-pending",o),S(this,Eg,o.interval,"f"),d(this,wi,"m",X1).call(this,o.device_code)})},"_OAuth_getUserCode"),X1=n(function(e){let i=setInterval(()=>b(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({},d(this,gn,"f")),{code:e,grant_type:Ii.GRANT_TYPE});try{let r=yield(yield d(this,Ne,"f").http.fetch_function(new URL("/o/oauth2/token",pe.YT_BASE),{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(r.error){switch(r.error){case"access_denied":d(this,Ne,"f").emit("auth-error",new ni("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":d(this,Ne,"f").emit("auth-error",new ni("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),d(this,wi,"m",wy).call(this);break;default:break}return}let l=new Date(new Date().getTime()+r.expires_in*1e3);S(this,we,{access_token:r.access_token,refresh_token:r.refresh_token,expires:l},"f"),d(this,Ne,"f").emit("auth",{credentials:d(this,we,"f"),status:"SUCCESS"}),clearInterval(i)}catch(s){return clearInterval(i),d(this,Ne,"f").emit("auth-error",new ni("Could not obtain user code.",{status:"FAILED",error:s}))}}),d(this,Eg,"f")*1e3)},"_OAuth_startPolling"),Z1=n(function(){return b(this,void 0,void 0,function*(){if(!d(this,we,"f"))return;S(this,gn,yield d(this,wi,"m",yy).call(this),"f");let e=Object.assign(Object.assign({},d(this,gn,"f")),{refresh_token:d(this,we,"f").refresh_token,grant_type:"refresh_token"}),o=yield(yield d(this,Ne,"f").http.fetch_function(new URL("/o/oauth2/token",pe.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),s=new Date(new Date().getTime()+o.expires_in*1e3);S(this,we,{access_token:o.access_token,refresh_token:o.refresh_token||d(this,we,"f").refresh_token,expires:s},"f"),d(this,Ne,"f").emit("update-credentials",{credentials:d(this,we,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),yy=n(function(){var e;return b(this,void 0,void 0,function*(){let o=yield(yield d(this,Ne,"f").http.fetch_function(new URL("/tv",pe.YT_BASE),{headers:Ii.HEADERS})).text(),s=(e=Ii.REGEX.AUTH_SCRIPT.exec(o))===null||e===void 0?void 0:e[1];if(!s)throw new ni("Could not obtain script url.",{status:"FAILED"});let l=(yield(yield d(this,Ne,"f").http.fetch(s,{baseURL:pe.YT_BASE})).text()).replace(/\n/g,"").match(Ii.REGEX.CLIENT_IDENTITY),p=l==null?void 0:l.groups;if(!p)throw new ni("Could not obtain client identity.",{status:"FAILED"});return p})},"_OAuth_getClientIdentity");var Ty=Pg;var Ng,Ag,Rg,bn,Mg,Vg,ek,Sy,Iy;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(Iy||(Iy={}));var ro=class extends Gm{constructor(e,i,o,s,r,l,p,f){super(),Ag.set(this,void 0),Rg.set(this,void 0),bn.set(this,void 0),Mg.set(this,void 0),Vg.set(this,void 0),S(this,bn,e,"f"),S(this,Mg,s,"f"),S(this,Rg,i,"f"),S(this,Ag,o,"f"),S(this,Vg,r,"f"),this.http=new Fb(this,l,p),this.actions=new gy(this),this.oauth=new Ty(this),this.logged_in=!!l,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return b(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:s,account_index:r}=yield ro.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new ro(i,o,s,r,e.retrieve_player===!1?void 0:yield by.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,s="",r=!1,l=!1,p="desktop",f=Iy.WEB,h=Intl.DateTimeFormat().resolvedOptions().timeZone,_=B.shim.fetch,g){return b(this,void 0,void 0,function*(){let w,T={lang:e,location:i,time_zone:h,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s,on_behalf_of_user:g};if(l)w=d(this,Ng,"m",Sy).call(this,T);else try{w=yield d(this,Ng,"m",ek).call(this,T,_)}catch(C){w=d(this,Ng,"m",Sy).call(this,T)}return Object.assign(Object.assign({},w),{account_index:o})})}signIn(e){return b(this,void 0,void 0,function*(){return new Promise((i,o)=>b(this,void 0,void 0,function*(){let s=n(r=>o(r),"error_handler");this.once("auth",r=>{this.off("auth-error",s),r.status==="SUCCESS"&&(this.logged_in=!0,i()),o(r)}),this.once("auth-error",s);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(r){o(r)}}))})}signOut(){return b(this,void 0,void 0,function*(){if(!this.logged_in)throw new x("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return d(this,Rg,"f")}get api_version(){return d(this,Ag,"f")}get client_version(){return d(this,bn,"f").client.clientVersion}get client_name(){return d(this,bn,"f").client.clientName}get account_index(){return d(this,Mg,"f")}get context(){return d(this,bn,"f")}get player(){return d(this,Vg,"f")}get lang(){return d(this,bn,"f").client.hl}};n(ro,"Session");Ng=ro,Ag=new WeakMap,Rg=new WeakMap,bn=new WeakMap,Mg=new WeakMap,Vg=new WeakMap,ek=n(function(e,i=B.shim.fetch){return b(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",pe.YT_BASE),s=bt(11);e.visitor_data&&(s=J_(e.visitor_data).id);let r=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":Ho("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!r.ok)throw new Js(`Failed to retrieve session data: ${r.status}`);let l=yield r.text(),f=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],h=`v${f[0][0][6]}`,[[_],g]=f;return{context:{client:{hl:_[0],gl:e.location||_[2],remoteHost:_[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:_[13],clientName:e.client_name,clientVersion:_[16],osName:_[17],osVersion:_[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:_[79]||e.time_zone,browserName:_[86],browserVersion:_[87],originalUrl:pe.YT_BASE,deviceMake:_[11],deviceModel:_[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:g,api_version:h}})},"_Session_retrieveSessionData"),Sy=n(function(e){let i=bt(11);return e.visitor_data&&(i=J_(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:ab(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:G.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:pe.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:G.WEB.API_KEY,api_version:G.WEB.API_VERSION}},"_Session_generateSessionData");var ky=ro;var Cy={};D(Cy,{Kids:()=>Dg,Music:()=>Fg,Studio:()=>Ug});var Ke,Og=class{constructor(e){Ke.set(this,void 0),S(this,Ke,e,"f")}search(e){return b(this,void 0,void 0,function*(){let i=yield d(this,Ke,"f").actions.execute(ft.PATH,ft.build({client:"YTKIDS",query:e}));return new Kx(d(this,Ke,"f").actions,i)})}getInfo(e){var i;return b(this,void 0,void 0,function*(){let o=Qe.build({sts:(i=d(this,Ke,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),s=ke.build({video_id:e,client:"YTKIDS"}),r=d(this,Ke,"f").actions.execute(Qe.PATH,o),l=d(this,Ke,"f").actions.execute(ke.PATH,s),p=yield Promise.all([r,l]),f=bt(16);return new qx(p,d(this,Ke,"f").actions,f)})}getChannel(e){return b(this,void 0,void 0,function*(){let i=yield d(this,Ke,"f").actions.execute(U.PATH,U.build({browse_id:e,client:"YTKIDS"}));return new Jx(d(this,Ke,"f").actions,i)})}getHomeFeed(){return b(this,void 0,void 0,function*(){let e=yield d(this,Ke,"f").actions.execute(U.PATH,U.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new Gx(d(this,Ke,"f").actions,e)})}blockChannel(e){var i,o;return b(this,void 0,void 0,function*(){if(!d(this,Ke,"f").logged_in)throw new x("You must be signed in to perform this operation.");let s=mn.build({channel_id:e}),p={contents:(yield d(this,Ke,"f").actions.execute(mn.PATH,s)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},h=(i=c.parseResponse(p).contents_memo)===null||i===void 0?void 0:i.getType(ls);if(!h)throw new x("Could not find any kids profiles or supervised accounts.");let _=[];for(let g of h)!((o=g.block_button)===null||o===void 0)&&o.is_toggled||(g.setActions(d(this,Ke,"f").actions),_.push(yield g.blockChannel()));return _})}};n(Og,"Kids");Ke=new WeakMap;var Dg=Og;var Bg,bh,ue,tk,ik,Lg=class{constructor(e){Bg.add(this),bh.set(this,void 0),ue.set(this,void 0),S(this,bh,e,"f"),S(this,ue,e.actions,"f")}getInfo(e){if(e instanceof ts)return d(this,Bg,"m",ik).call(this,e);if(typeof e=="string")return d(this,Bg,"m",tk).call(this,e);throw new x("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return b(this,void 0,void 0,function*(){Z({query:e});let o=yield d(this,ue,"f").execute(ft.PATH,ft.build({query:e,client:"YTMUSIC",params:i.type&&i.type!=="all"?cb(i):void 0}));return new Wx(o,d(this,ue,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return b(this,void 0,void 0,function*(){let e=yield d(this,ue,"f").execute(U.PATH,U.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new Fx(e,d(this,ue,"f"))})}getExplore(){return b(this,void 0,void 0,function*(){let e=yield d(this,ue,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new Lx(e)})}getLibrary(){return b(this,void 0,void 0,function*(){let e=yield d(this,ue,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new Yx(e,d(this,ue,"f"))})}getArtist(e){return b(this,void 0,void 0,function*(){if(Z({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new x("Invalid artist id",e);let i=yield d(this,ue,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:e}));return new Dx(i,d(this,ue,"f"))})}getAlbum(e){return b(this,void 0,void 0,function*(){if(Z({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new x("Invalid album id",e);let i=yield d(this,ue,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:e}));return new Mx(i)})}getPlaylist(e){return b(this,void 0,void 0,function*(){Z({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield d(this,ue,"f").execute(U.PATH,U.build({client:"YTMUSIC",browse_id:e}));return new Ds(i,d(this,ue,"f"))})}getUpNext(e,i=!0){var o,s,r;return b(this,void 0,void 0,function*(){Z({video_id:e});let p=(o=(yield d(this,ue,"f").execute(ke.PATH,Object.assign(Object.assign({},ke.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||o===void 0?void 0:o.getType(xe),f=p==null?void 0:p.first();if(!f)throw new x("Could not find target tab.");let h=(s=f.content)===null||s===void 0?void 0:s.as(is);if(!h||!h.content)throw new x("Music queue was empty, the given id is probably invalid.",h);let _=h.content.as(qt);if(!_.playlist_id&&i){let g=_.contents.firstOfType(Ai);if(!g)throw new x("Automix item not found");let w=yield(r=g.playlist_video)===null||r===void 0?void 0:r.endpoint.call(d(this,ue,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!w||!w.contents_memo)throw new x("Could not fetch automix");return w.contents_memo.getType(qt).first()}return _})}getRelated(e){var i;return b(this,void 0,void 0,function*(){Z({video_id:e});let s=(i=(yield d(this,ue,"f").execute(ke.PATH,Object.assign(Object.assign({},ke.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(xe),r=s==null?void 0:s.matchCondition(f=>{var h,_;return((_=(h=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||h===void 0?void 0:h.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!r)throw new x("Could not find target tab.");let l=yield r.endpoint.call(d(this,ue,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new x("Unexpected response",l);return l.contents.item().as(Q).contents.as(Ee,wo)})}getLyrics(e){var i;return b(this,void 0,void 0,function*(){Z({video_id:e});let s=(i=(yield d(this,ue,"f").execute(ke.PATH,Object.assign(Object.assign({},ke.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(xe),r=s==null?void 0:s.matchCondition(f=>{var h,_;return((_=(h=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||h===void 0?void 0:h.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!r)throw new x("Could not find target tab.");let l=yield r.endpoint.call(d(this,ue,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new x("Unexpected response",l);if(l.contents.item().type==="Message")throw new x(l.contents.item().as(He).text.toString(),e);return l.contents.item().as(Q).contents.firstOfType(wo)})}getRecap(){return b(this,void 0,void 0,function*(){let e=yield d(this,ue,"f").execute(U.PATH,U.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new jx(e,d(this,ue,"f"))})}getSearchSuggestions(e){return b(this,void 0,void 0,function*(){let i=yield d(this,ue,"f").execute(an.PATH,Object.assign(Object.assign({},an.build({input:e})),{parse:!0}));return i.contents_memo?i.contents_memo.getType(A0):[]})}};n(Lg,"Music");bh=new WeakMap,ue=new WeakMap,Bg=new WeakSet,tk=n(function(e){var i;return b(this,void 0,void 0,function*(){let o=Qe.build({video_id:e,sts:(i=d(this,bh,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),s=ke.build({video_id:e,client:"YTMUSIC"}),r=d(this,ue,"f").execute(Qe.PATH,o),l=d(this,ue,"f").execute(ke.PATH,s),p=yield Promise.all([r,l]),f=bt(16);return new uh(p,d(this,ue,"f"),f)})},"_Music_fetchInfoFromVideoId"),ik=n(function(e){var i;return b(this,void 0,void 0,function*(){if(!e)throw new x("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(d(this,ue,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=d(this,bh,"f").player)===null||i===void 0?void 0:i.sts})}}),s=e.endpoint.call(d(this,ue,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),r=bt(16),l=yield Promise.all([o,s]);return new uh(l,d(this,ue,"f"),r)})},"_Music_fetchInfoFromListItem");var Fg=Lg;var yh,jt,ok,nk,sk,Yg=class{constructor(e){yh.add(this),jt.set(this,void 0),S(this,jt,e,"f")}setThumbnail(e,i){return b(this,void 0,void 0,function*(){if(!d(this,jt,"f").logged_in)throw new x("You must be signed in to perform this operation.");if(!e||!i)throw new hn("One or more parameters are missing.");let o=_b(e,i);return yield d(this,jt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return b(this,void 0,void 0,function*(){if(!d(this,jt,"f").logged_in)throw new x("You must be signed in to perform this operation.");let o=hb(e,i);return yield d(this,jt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e,i={}){return b(this,void 0,void 0,function*(){if(!d(this,jt,"f").logged_in)throw new x("You must be signed in to perform this operation.");let o=yield d(this,yh,"m",ok).call(this),s=yield d(this,yh,"m",nk).call(this,o.upload_url,e);if(s.status!=="STATUS_SUCCESS")throw new x("Could not process video.");return yield d(this,yh,"m",sk).call(this,o,s,i)})}};n(Yg,"Studio");jt=new WeakMap,yh=new WeakSet,ok=n(function(){return b(this,void 0,void 0,function*(){let e=`innertube_android:${B.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${B.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield d(this,jt,"f").http.fetch("/upload/youtubei",{baseURL:pe.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new x("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),nk=n(function(e,i){return b(this,void 0,void 0,function*(){let o=yield d(this,jt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new x("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),sk=n(function(e,i,o){return b(this,void 0,void 0,function*(){return yield d(this,jt,"f").actions.execute(fn.PATH,fn.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var Ug=Yg;var Ey={};D(Ey,{AccountManager:()=>Wg,InteractionManager:()=>zg,PlaylistManager:()=>Jg});var ht,jg=class{constructor(e){ht.set(this,void 0),S(this,ht,e,"f"),this.channel={editName:i=>{if(!d(this,ht,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");return d(this,ht,"f").execute(xi.EditNameEndpoint.PATH,xi.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!d(this,ht,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");return d(this,ht,"f").execute(xi.EditDescriptionEndpoint.PATH,xi.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return b(this,void 0,void 0,function*(){if(!d(this,ht,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let e=yield d(this,ht,"f").execute(en.AccountListEndpoint.PATH,en.AccountListEndpoint.build());return new Q0(e)})}getTimeWatched(){return b(this,void 0,void 0,function*(){let e=yield d(this,ht,"f").execute(U.PATH,U.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new Sx(e)})}getSettings(){return b(this,void 0,void 0,function*(){let e=yield d(this,ht,"f").execute(U.PATH,U.build({browse_id:"SPaccount_overview"}));return new wx(d(this,ht,"f"),e)})}getAnalytics(){var e;return b(this,void 0,void 0,function*(){let i=yield this.getInfo(),o=yield d(this,ht,"f").execute(U.PATH,U.build({browse_id:"FEanalytics_screen",params:ub((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new ex(o)})}};n(jg,"AccountManager");ht=new WeakMap;var Wg=jg;var Ce,Hg=class{constructor(e){Ce.set(this,void 0),S(this,Ce,e,"f")}create(e,i){return b(this,void 0,void 0,function*(){if(Z({title:e,video_ids:i}),!d(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=yield d(this,Ce,"f").execute(ln.PATH,ln.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return b(this,void 0,void 0,function*(){if(Z({playlist_id:e}),!d(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let i=yield d(this,Ce,"f").execute(cn.PATH,cn.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return b(this,void 0,void 0,function*(){if(Z({playlist_id:e,video_ids:i}),!d(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=yield d(this,Ce,"f").execute(Ze.PATH,Ze.build({actions:i.map(s=>({action:"ACTION_ADD_VIDEO",added_video_id:s})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return b(this,void 0,void 0,function*(){if(Z({playlist_id:e,video_ids:i}),!d(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=yield d(this,Ce,"f").execute(U.PATH,Object.assign(Object.assign({},U.build({browse_id:`VL${e}`})),{parse:!0})),s=new fi(d(this,Ce,"f"),o,!0);if(!s.info.is_editable)throw new x("This playlist cannot be edited.",e);let r={playlist_id:e,actions:[]},l=n(f=>b(this,void 0,void 0,function*(){if(f.videos.filter(_=>i.includes(_.key("id").string())).forEach(_=>r.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:_.key("set_video_id").string()})),r.actions.length<i.length){let _=yield f.getContinuation();return l(_)}}),"getSetVideoIds");if(yield l(s),!r.actions.length)throw new x("Given video ids were not found in this playlist.",i);let p=yield d(this,Ce,"f").execute(Ze.PATH,Ze.build(r));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return b(this,void 0,void 0,function*(){if(Z({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!d(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let s=yield d(this,Ce,"f").execute(U.PATH,Object.assign(Object.assign({},U.build({browse_id:`VL${e}`})),{parse:!0})),r=new fi(d(this,Ce,"f"),s,!0);if(!r.info.is_editable)throw new x("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},p,f,h=n(g=>b(this,void 0,void 0,function*(){let w=g.videos.find(C=>i===C.key("id").string()),T=g.videos.find(C=>o===C.key("id").string());if(p=p||(w==null?void 0:w.key("set_video_id").string()),f=f||(T==null?void 0:T.key("set_video_id").string()),!p||!f){let C=yield g.getContinuation();return h(C)}}),"getSetVideoIds");yield h(r),l.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let _=yield d(this,Ce,"f").execute(Ze.PATH,Ze.build(l));return{playlist_id:e,action_result:_.data.actions}})}setName(e,i){return b(this,void 0,void 0,function*(){if(Z({playlist_id:e,name:i}),!d(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:i});let s=yield d(this,Ce,"f").execute(Ze.PATH,Ze.build(o));return{playlist_id:e,action_result:s.data.actions}})}setDescription(e,i){return b(this,void 0,void 0,function*(){if(Z({playlist_id:e,description:i}),!d(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:i});let s=yield d(this,Ce,"f").execute(Ze.PATH,Ze.build(o));return{playlist_id:e,action_result:s.data.actions}})}};n(Hg,"PlaylistManager");Ce=new WeakMap;var Jg=Hg;var Fe,Gg=class{constructor(e){Fe.set(this,void 0),S(this,Fe,e,"f")}like(e){return b(this,void 0,void 0,function*(){if(Z({video_id:e}),!d(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Fe,"f").execute(nn.PATH,nn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return b(this,void 0,void 0,function*(){if(Z({video_id:e}),!d(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Fe,"f").execute(sn.PATH,sn.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return b(this,void 0,void 0,function*(){if(Z({video_id:e}),!d(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Fe,"f").execute(rn.PATH,rn.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return b(this,void 0,void 0,function*(){if(Z({channel_id:e}),!d(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Fe,"f").execute(dn.PATH,dn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return b(this,void 0,void 0,function*(){if(Z({channel_id:e}),!d(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Fe,"f").execute(pn.PATH,pn.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return b(this,void 0,void 0,function*(){if(Z({video_id:e,text:i}),!d(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Fe,"f").execute(on.PATH,on.build({comment_text:i,create_comment_params:fb(e),client:"ANDROID"}))})}translate(e,i,o={}){return b(this,void 0,void 0,function*(){Z({text:e,target_language:i});let s=el(22,Object.assign({text:e,target_language:i},o)),r=yield d(this,Fe,"f").execute(tn.PATH,tn.build({client:"ANDROID",actions:[s]})),l=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:l.translatedContent.content,data:r.data}})}setNotificationPreferences(e,i){return b(this,void 0,void 0,function*(){if(Z({channel_id:e,type:i}),!d(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield d(this,Fe,"f").execute(un.PATH,un.build({client:"WEB",params:mb(e,o[i.toUpperCase()])}))})}};n(Gg,"InteractionManager");Fe=new WeakMap;var zg=Gg;var $e,Mr=class{constructor(e){$e.set(this,void 0),S(this,$e,e,"f")}static create(e={}){return b(this,void 0,void 0,function*(){return new Mr(yield ky.create(e))})}getInfo(e,i){var o,s,r,l,p;return b(this,void 0,void 0,function*(){Z({target:e});let f;if(e instanceof v)f=ke.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(s=e.payload)===null||s===void 0?void 0:s.playlistId,params:(r=e.payload)===null||r===void 0?void 0:r.params,playlist_index:(l=e.payload)===null||l===void 0?void 0:l.index});else if(typeof e=="string")f=ke.build({video_id:e});else throw new x("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new x("Video id cannot be empty",f);let h=Qe.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=d(this,$e,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(Qe.PATH,h),g=this.actions.execute(ke.PATH,f),w=yield Promise.all([_,g]),T=bt(16);return new ih(w,this.actions,T)})}getBasicInfo(e,i){var o;return b(this,void 0,void 0,function*(){Z({video_id:e});let s=yield this.actions.execute(Qe.PATH,Qe.build({video_id:e,client:i,sts:(o=d(this,$e,"f").player)===null||o===void 0?void 0:o.sts})),r=bt(16);return new ih([s],this.actions,r)})}getShortsWatchItem(e,i){return b(this,void 0,void 0,function*(){Z({short_id:e});let o=this.actions.execute(gt.WatchEndpoint.PATH,gt.WatchEndpoint.build({short_id:e,client:i})),s=this.actions.execute(gt.WatchSequenceEndpoint.PATH,gt.WatchSequenceEndpoint.build({sequenceParams:xb(e)})),r=yield Promise.all([o,s]);return new fg(r,this.actions)})}search(e,i={}){return b(this,void 0,void 0,function*(){Z({query:e});let o=yield this.actions.execute(ft.PATH,ft.build({query:e,params:i?lb(i):void 0}));return new yx(this.actions,o)})}getSearchSuggestions(e){return b(this,void 0,void 0,function*(){Z({query:e});let i=new URL(`${pe.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",d(this,$e,"f").context.client.hl),i.searchParams.set("gl",d(this,$e,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let s=yield(yield d(this,$e,"f").http.fetch(i)).text();return JSON.parse(s.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return b(this,void 0,void 0,function*(){Z({video_id:e});let o=yield this.actions.execute(ke.PATH,ke.build({continuation:pb(e,{sort_by:i||"TOP_COMMENTS"})}));return new ix(this.actions,o.data)})}getHomeFeed(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,U.build({browse_id:"FEwhat_to_watch"}));return new Dt(this.actions,e)})}getGuide(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(js.PATH);return new nx(e.data)})}getLibrary(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,U.build({browse_id:"FElibrary"}));return new dx(this.actions,e)})}getHistory(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,U.build({browse_id:"FEhistory"}));return new gs(this.actions,e)})}getTrending(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,Object.assign(Object.assign({},U.build({browse_id:"FEtrending"})),{parse:!0}));return new Vo(this.actions,e)})}getSubscriptionsFeed(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(U.PATH,Object.assign(Object.assign({},U.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new fe(this.actions,e)})}getChannel(e){return b(this,void 0,void 0,function*(){Z({id:e});let i=yield this.actions.execute(U.PATH,U.build({browse_id:e}));return new Pe(this.actions,i)})}getNotifications(){return b(this,void 0,void 0,function*(){let e=yield this.actions.execute(Qo.PATH,Qo.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new bx(this.actions,e)})}getUnseenNotificationsCount(){var e,i,o,s;return b(this,void 0,void 0,function*(){let r=yield this.actions.execute(Ws.PATH);return((e=r.data)===null||e===void 0?void 0:e.unseenCount)||((s=(o=(i=r.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||s===void 0?void 0:s.unseenCount)||0})}getPlaylist(e){return b(this,void 0,void 0,function*(){Z({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(U.PATH,U.build({browse_id:e}));return new fi(this.actions,i)})}getHashtag(e){return b(this,void 0,void 0,function*(){Z({hashtag:e});let i=yield this.actions.execute(U.PATH,U.build({browse_id:"FEhashtag",params:vb(e)}));return new ti(this.actions,i)})}getStreamingData(e,i={}){return b(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return b(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return b(this,void 0,void 0,function*(){return(yield this.actions.execute(Zo.PATH,Object.assign(Object.assign({},Zo.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new Fg(d(this,$e,"f"))}get studio(){return new Ug(d(this,$e,"f"))}get kids(){return new Dg(d(this,$e,"f"))}get account(){return new Wg(d(this,$e,"f").actions)}get playlist(){return new Jg(d(this,$e,"f").actions)}get interact(){return new zg(d(this,$e,"f").actions)}get actions(){return d(this,$e,"f").actions}get session(){return d(this,$e,"f")}};n(Mr,"Innertube");$e=new WeakMap;var Py=Mr;var rk={};var ak=Py;var wh,Kg,$g,qg,Xg=class{constructor(e=!1,i){wh.add(this),Kg.set(this,void 0),$g.set(this,void 0),S(this,Kg,i||"","f"),S(this,$g,e,"f")}get cache_dir(){return d(this,$g,"f")?d(this,Kg,"f"):""}get(e){return b(this,void 0,void 0,function*(){let i=yield d(this,wh,"m",qg).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=s,r.onsuccess=function(){var l;let p=(l=this.result)===null||l===void 0?void 0:l.v;o(p?p.buffer:void 0)}})})}set(e,i){return b(this,void 0,void 0,function*(){let o=yield d(this,wh,"m",qg).call(this);if(!!o)return new Promise((s,r)=>{let l=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=r,l.onsuccess=()=>s()})})}remove(e){return b(this,void 0,void 0,function*(){let i=yield d(this,wh,"m",qg).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=s,r.onsuccess=()=>o()})})}};n(Xg,"Cache");Kg=new WeakMap,$g=new WeakMap,wh=new WeakSet,qg=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let s=e.open("youtubei.js",1);s.onsuccess=function(){i(this.result)},s.onerror=function(r){o("indexedDB request error"),console.error(r)},s.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");B.load({runtime:"browser",server:!1,info:{version:_g.version,bugs_url:_g.bugs.url,repo_url:_g.homepage.split("#")[0]},Cache:Xg,sha1Hash:Zb,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:xy,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var Dke=ak;export{gy as Actions,ho as AppendContinuationItemsAction,Iy as ClientType,Cy as Clients,Ue as Constants,Co as Continuation,pi as ContinuationCommand,$b as Endpoints,Gm as EventEmitter,Cx as FormatUtils,Pb as Generator,Ji as GridContinuation,Fb as HTTPClient,Zg as Helpers,Py as Innertube,Ui as ItemSectionContinuation,Gi as LiveChatContinuation,Ey as Managers,Xb as Misc,Hb as Mixins,Hi as MusicPlaylistShelfContinuation,Zt as MusicShelfContinuation,ji as NavigateAction,Ty as OAuth,c as Parser,B as Platform,by as Player,ps as PlaylistPanelContinuation,Pt as Proto,Wi as ReloadContinuationItemsCommand,nt as SectionListContinuation,ky as Session,ds as ShowMiniplayerCommand,rk as Types,Kk as UniversalCache,Ub as Utils,Jb as YT,Kb as YTKids,zb as YTMusic,Dm as YTNodes,qb as YTShorts,Dke as default};
//# sourceMappingURL=browser.min.js.map
